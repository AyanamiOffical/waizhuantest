var S0=Object.defineProperty,E0=Object.defineProperties;var R0=Object.getOwnPropertyDescriptors;var Lx=Object.getOwnPropertySymbols;var D0=Object.prototype.hasOwnProperty,O0=Object.prototype.propertyIsEnumerable;var jc=(e,t,r)=>t in e?S0(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dr=(e,t)=>{for(var r in t||(t={}))D0.call(t,r)&&jc(e,r,t[r]);if(Lx)for(var r of Lx(t))O0.call(t,r)&&jc(e,r,t[r]);return e},la=(e,t)=>E0(e,R0(t));var vl=(e,t,r)=>jc(e,typeof t!="symbol"?t+"":t,r);var Ba=(e,t,r)=>new Promise((n,l)=>{var a=u=>{try{d(r.next(u))}catch(p){l(p)}},i=u=>{try{d(r.throw(u))}catch(p){l(p)}},d=u=>u.done?n(u.value):Promise.resolve(u.value).then(a,i);d((r=r.apply(e,t)).next())});import{V as Sr,O as it,J as ue,x as kr,F as qi,ad as T0,b5 as uc,am as zr,aa as or,ay as Ko,af as Ze,k as g,Q as er,Y as qn,n as ye,aq as Ki,an as Ao,bi as Rb,ag as Xi,bM as M0,bN as I0,i as Sl,bq as F0,bO as k0,bs as El,br as $0,bb as A0,r as ka,by as Lb,bo as P0,ah as L0,bP as N0,aU as _0,ak as Za,_ as En,bz as Ql,$ as Pr,au as rc,X as bo,as as nc,a5 as Bi,Z as Ia,a6 as Rl,U as hr,a2 as Wa,a3 as Ga,ar as q0,aW as Nx,aX as Yc,al as H0,a0 as Hi,a1 as V0,bQ as z0,bR as B0,a as W0}from"../jse/index-index-GzxSC5Ev.js";import{S as G0,_ as U0,u as j0}from"./index-BLhXPpf9.js";import{g as QO,m as Y0,bg as K0,_ as kn,cj as X0,r as Z0,ck as J0,d as eT,e as tT,w as rT,a as nT,p as oT,b as ni,bk as aT,o as lT,X as zs,cl as iT,h as _x,cm as sT,x as Xa,b9 as Q0,cn as ek,bl as tk,co as rk,cp as nk,cq as qx,cf as oi,cr as ok,v as Hx,a4 as ak,q as lk,c as ik,cs as ha,u as cT,ca as sk,ap as xo,ct as ck,cd as uk,aW as dk,cu as fk,cv as pk,b3 as Ka,k as Vx,cw as hk,cx as gk}from"./bootstrap-C83mKH3e.js";import{u as vk}from"./form-ClcOlmjz.js";import{I as mk}from"./index-tJhkz61M.js";import bk from"./index-BPwIrRfc.js";import xk from"./index-B7GG6LAj.js";const Ck=e=>{const{componentCls:t,popoverBg:r,popoverColor:n,width:l,fontWeightStrong:a,popoverPadding:i,boxShadowSecondary:d,colorTextHeading:u,borderRadiusLG:p,zIndexPopup:o,marginXS:c,colorBgElevated:m}=e;return[{[t]:kn(kn({},Z0(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:o,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--antd-arrow-background-color":m,"&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-inner`]:{backgroundColor:r,backgroundClip:"padding-box",borderRadius:p,boxShadow:d,padding:i},[`${t}-title`]:{minWidth:l,marginBottom:c,color:u,fontWeight:a},[`${t}-inner-content`]:{color:n}})},X0(e,{colorBg:"var(--antd-arrow-background-color)"}),{[`${t}-pure`]:{position:"relative",maxWidth:"none",[`${t}-content`]:{display:"inline-block"}}}]},yk=e=>{const{componentCls:t}=e;return{[t]:J0.map(r=>{const n=e[`${r}-6`];return{[`&${t}-${r}`]:{"--antd-arrow-background-color":n,[`${t}-inner`]:{backgroundColor:n},[`${t}-arrow`]:{background:"transparent"}}}})}},wk=e=>{const{componentCls:t,lineWidth:r,lineType:n,colorSplit:l,paddingSM:a,controlHeight:i,fontSize:d,lineHeight:u,padding:p}=e,o=i-Math.round(d*u),c=o/2,m=o/2-r,v=p;return{[t]:{[`${t}-inner`]:{padding:0},[`${t}-title`]:{margin:0,padding:`${c}px ${v}px ${m}px`,borderBottom:`${r}px ${n} ${l}`},[`${t}-inner-content`]:{padding:`${a}px ${v}px`}}}},Sk=QO("Popover",e=>{const{colorBgElevated:t,colorText:r,wireframe:n}=e,l=Y0(e,{popoverBg:t,popoverColor:r,popoverPadding:12});return[Ck(l),yk(l),n&&wk(l),K0(l,"zoom-big")]},e=>{let{zIndexPopupBase:t}=e;return{zIndexPopup:t+30,width:177}}),Ek=()=>kn(kn({},sT()),{content:Xa(),title:Xa()}),Rk=Sr({compatConfig:{MODE:3},name:"APopover",inheritAttrs:!1,props:tT(Ek(),kn(kn({},iT()),{trigger:"hover",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup(e,t){let{expose:r,slots:n,attrs:l}=t;const a=it();rT(e.visible===void 0),r({getPopupDomNode:()=>{var m,v;return(v=(m=a.value)===null||m===void 0?void 0:m.getPopupDomNode)===null||v===void 0?void 0:v.call(m)}});const{prefixCls:i,configProvider:d}=nT("popover",e),[u,p]=Sk(i),o=ue(()=>d.getPrefixCls()),c=()=>{var m,v;const{title:x=_x((m=n.title)===null||m===void 0?void 0:m.call(n)),content:S=_x((v=n.content)===null||v===void 0?void 0:v.call(n))}=e,k=!!(Array.isArray(x)?x.length:x),E=!!(Array.isArray(S)?S.length:x);return!k&&!E?null:kr(qi,null,[k&&kr("div",{class:`${i.value}-title`},[x]),kr("div",{class:`${i.value}-inner-content`},[S])])};return()=>{const m=oT(e.overlayClassName,p.value);return u(kr(zs,ni(ni(ni({},lT(e,["title","content"])),l),{},{prefixCls:i.value,ref:a,overlayClassName:m,transitionName:aT(o.value,"zoom-big",e.transitionName),"data-popover-inject":!0}),{title:c,default:n.default}))}}}),Dk=eT(Rk),Ok=e=>{const{componentCls:t,iconCls:r,zIndexPopup:n,colorText:l,colorWarning:a,marginXS:i,fontSize:d,fontWeightStrong:u,lineHeight:p}=e;return{[t]:{zIndex:n,[`${t}-inner-content`]:{color:l},[`${t}-message`]:{position:"relative",marginBottom:i,color:l,fontSize:d,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t}-message-icon ${r}`]:{color:a,fontSize:d,flex:"none",lineHeight:1,paddingTop:(Math.round(d*p)-d)/2},"&-title":{flex:"auto",marginInlineStart:i},"&-title-only":{fontWeight:u}},[`${t}-description`]:{position:"relative",marginInlineStart:d+i,marginBottom:i,color:l,fontSize:d},[`${t}-buttons`]:{textAlign:"end",button:{marginInlineStart:i}}}}},Tk=QO("Popconfirm",e=>Ok(e),e=>{const{zIndexPopupBase:t}=e;return{zIndexPopup:t+60}});var Mk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(e);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(e,n[l])&&(r[n[l]]=e[n[l]]);return r};const Ik=()=>kn(kn({},sT()),{prefixCls:String,content:Xa(),title:Xa(),description:Xa(),okType:ak("primary"),disabled:{type:Boolean,default:!1},okText:Xa(),cancelText:Xa(),icon:Xa(),okButtonProps:Hx(),cancelButtonProps:Hx(),showCancel:{type:Boolean,default:!0},onConfirm:Function,onCancel:Function}),Fk=Sr({compatConfig:{MODE:3},name:"APopconfirm",inheritAttrs:!1,props:tT(Ik(),kn(kn({},iT()),{trigger:"click",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0,okType:"primary",disabled:!1})),slots:Object,setup(e,t){let{slots:r,emit:n,expose:l,attrs:a}=t;const i=it();rT(e.visible===void 0),l({getPopupDomNode:()=>{var F,O;return(O=(F=i.value)===null||F===void 0?void 0:F.getPopupDomNode)===null||O===void 0?void 0:O.call(F)}});const[d,u]=Q0(!1,{value:T0(e,"open")}),p=(F,O)=>{e.open===void 0&&u(F),n("update:open",F),n("openChange",F,O)},o=F=>{p(!1,F)},c=F=>{var O;return(O=e.onConfirm)===null||O===void 0?void 0:O.call(e,F)},m=F=>{var O;p(!1,F),(O=e.onCancel)===null||O===void 0||O.call(e,F)},v=F=>{F.keyCode===lk.ESC&&d&&p(!1,F)},x=F=>{const{disabled:O}=e;O||p(F)},{prefixCls:S,getPrefixCls:k}=nT("popconfirm",e),E=ue(()=>k()),D=ue(()=>k("btn")),[P]=Tk(S),[V]=ek("Popconfirm",tk.Popconfirm),q=()=>{var F,O,M,G,$;const{okButtonProps:Y,cancelButtonProps:H,title:j=(F=r.title)===null||F===void 0?void 0:F.call(r),description:B=(O=r.description)===null||O===void 0?void 0:O.call(r),cancelText:xe=(M=r.cancel)===null||M===void 0?void 0:M.call(r),okText:Z=(G=r.okText)===null||G===void 0?void 0:G.call(r),okType:L,icon:ne=(($=r.icon)===null||$===void 0?void 0:$.call(r))||kr(nk,null,null),showCancel:Ve=!0}=e,{cancelButton:Le,okButton:ee}=r,se=kn({onClick:m,size:"small"},H),ae=kn(kn(kn({onClick:c},qx(L)),{size:"small"}),Y);return kr("div",{class:`${S.value}-inner-content`},[kr("div",{class:`${S.value}-message`},[ne&&kr("span",{class:`${S.value}-message-icon`},[ne]),kr("div",{class:[`${S.value}-message-title`,{[`${S.value}-message-title-only`]:!!B}]},[j])]),B&&kr("div",{class:`${S.value}-description`},[B]),kr("div",{class:`${S.value}-buttons`},[Ve?Le?Le(se):kr(oi,se,{default:()=>[xe||V.value.cancelText]}):null,ee?ee(ae):kr(ok,{buttonProps:kn(kn({size:"small"},qx(L)),Y),actionFn:c,close:o,prefixCls:D.value,quitOnNullishReturnValue:!0,emitEvent:!0},{default:()=>[Z||V.value.okText]})])])};return()=>{var F;const{placement:O,overlayClassName:M,trigger:G="click"}=e,$=Mk(e,["placement","overlayClassName","trigger"]),Y=lT($,["title","content","cancelText","okText","onUpdate:open","onConfirm","onCancel","prefixCls"]),H=oT(S.value,M);return P(kr(Dk,ni(ni(ni({},Y),a),{},{trigger:G,placement:O,onOpenChange:x,open:d.value,overlayClassName:H,transitionName:aT(E.value,"zoom-big",e.transitionName),ref:i,"data-popover-inject":!0}),{default:()=>[rk(((F=r.default)===null||F===void 0?void 0:F.call(r))||[],{onKeydown:j=>{v(j)}},!1)],content:q}))}}}),Db=eT(Fk),kk="4.0.39",Tl={coreVersion:kk,uiVersion:"",tableVersion:""};var Kc,zx;function ba(){if(zx)return Kc;zx=1;var e={keyId:1,cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return Kc=e,Kc}var Xc,Bx;function Hn(){if(Bx)return Xc;Bx=1;function e(t,r,n){if(t)if(t.forEach)t.forEach(r,n);else for(var l=0,a=t.length;l<a;l++)r.call(n,t[l],l,t)}return Xc=e,Xc}var Zc,Wx;function uT(){if(Wx)return Zc;Wx=1;var e=Object.prototype.toString;return Zc=e,Zc}var Jc,Gx;function Zi(){if(Gx)return Jc;Gx=1;var e=uT();function t(r){return function(n){return"[object "+r+"]"===e.call(n)}}return Jc=t,Jc}var Qc,Ux;function qr(){if(Ux)return Qc;Ux=1;var e=Zi(),t=Array.isArray||e("Array");return Qc=t,Qc}var eu,jx;function Xo(){if(jx)return eu;jx=1;function e(t,r){return t&&t.hasOwnProperty?t.hasOwnProperty(r):!1}return eu=e,eu}var tu,Yx;function Ji(){if(Yx)return tu;Yx=1;var e=Xo();function t(r,n,l){if(r)for(var a in r)e(r,a)&&n.call(l,r[a],a,r)}return tu=t,tu}var ru,Kx;function bn(){if(Kx)return ru;Kx=1;var e=qr(),t=Hn(),r=Ji();function n(l,a,i){return l&&(e(l)?t:r)(l,a,i)}return ru=n,ru}var nu,Xx;function pi(){if(Xx)return nu;Xx=1;function e(t){return function(r){return typeof r===t}}return nu=e,nu}var ou,Zx;function Jn(){if(Zx)return ou;Zx=1;var e=pi(),t=e("function");return ou=t,ou}var au,Jx;function Nb(){if(Jx)return au;Jx=1;var e=bn();function t(r,n){var l=Object[r];return function(a){var i=[];if(a){if(l)return l(a);e(a,n>1?function(d){i.push([""+d,a[d]])}:function(){i.push(arguments[n])})}return i}}return au=t,au}var lu,Qx;function $a(){if(Qx)return lu;Qx=1;var e=Nb(),t=e("keys",1);return lu=t,lu}var iu,eC;function _b(){if(eC)return iu;eC=1;var e=uT(),t=Ji(),r=Hn();function n(d,u){var p=d.__proto__.constructor;return u?new p(u):new p}function l(d,u){return u?a(d,u):d}function a(d,u){if(d)switch(e.call(d)){case"[object Object]":{var p=Object.create(Object.getPrototypeOf(d));return t(d,function(v,x){p[x]=l(v,u)}),p}case"[object Date]":case"[object RegExp]":return n(d,d.valueOf());case"[object Array]":case"[object Arguments]":{var o=[];return r(d,function(v){o.push(l(v,u))}),o}case"[object Set]":{var c=n(d);return c.forEach(function(v){c.add(l(v,u))}),c}case"[object Map]":{var m=n(d);return m.forEach(function(v,x){m.set(x,l(v,u))}),m}}return d}function i(d,u){return d&&a(d,u)}return iu=i,iu}var su,tC;function Zo(){if(tC)return su;tC=1;var e=Hn(),t=$a(),r=qr(),n=_b(),l=Object.assign;function a(d,u,p){for(var o=u.length,c,m=1;m<o;m++)c=u[m],e(t(u[m]),p?function(v){d[v]=n(c[v],p)}:function(v){d[v]=c[v]});return d}var i=function(d){if(d){var u=arguments;if(d===!0){if(u.length>1)return d=r(d[1])?[]:{},a(d,u,!0)}else return l?l.apply(Object,u):a(d,u)}return d};return su=i,su}var cu,rC;function $k(){if(rC)return cu;rC=1;var e=ba(),t=Hn(),r=bn(),n=Jn(),l=Zo(),a=function(){};function i(){t(arguments,function(o){r(o,function(c,m){a[m]=n(c)?function(){var v=c.apply(a.$context,arguments);return a.$context=null,v}:c})})}function d(o){return l(e,o)}function u(){return e}var p="3.7.4";return a.VERSION=p,a.version=p,a.mixin=i,a.setup=d,a.setConfig=d,a.getConfig=u,cu=a,cu}var uu,nC;function qb(){if(nC)return uu;nC=1;function e(t,r,n){for(var l=t.length-1;l>=0;l--)r.call(n,t[l],l,t)}return uu=e,uu}var du,oC;function dT(){if(oC)return du;oC=1;var e=qb(),t=$a();function r(n,l,a){e(t(n),function(i){l.call(a,n[i],i,n)})}return du=r,du}var fu,aC;function Aa(){if(aC)return fu;aC=1;function e(t){return t===null}return fu=e,fu}var pu,lC;function hi(){if(lC)return pu;lC=1;var e=Aa();function t(r,n){return function(l){return e(l)?n:l[r]}}return pu=t,pu}var hu,iC;function Ak(){if(iC)return hu;iC=1;var e=bn(),t=Jn(),r=hi();function n(l,a,i){var d={};if(l)if(a)t(a)||(a=r(a)),e(l,function(u,p){d[p]=a.call(i,u,p,l)});else return l;return d}return hu=n,hu}var gu,sC;function gi(){if(sC)return gu;sC=1;function e(t){return t?t.constructor===Object:!1}return gu=e,gu}var vu,cC;function fT(){if(cC)return vu;cC=1;function e(t){return t!=="__proto__"&&t!=="constructor"}return vu=e,vu}var mu,uC;function Pk(){if(uC)return mu;uC=1;var e=qr(),t=gi(),r=Jn(),n=bn(),l=fT();function a(d,u){return t(d)&&t(u)||e(d)&&e(u)?(n(u,function(p,o){l(o)&&(d[o]=r(u)?p:a(d[o],p))}),d):u}var i=function(d){d||(d={});for(var u=arguments,p=u.length,o,c=1;c<p;c++)o=u[c],o&&a(d,o);return d};return mu=i,mu}var bu,dC;function nl(){if(dC)return bu;dC=1;var e=bn();function t(r,n,l){var a=[];if(r&&arguments.length>1){if(r.map)return r.map(n,l);e(r,function(){a.push(n.apply(l,arguments))})}return a}return bu=t,bu}var xu,fC;function dc(){if(fC)return xu;fC=1;var e=Xo(),t=qr();function r(n,l,a,i,d){return function(u,p,o){if(u&&p){if(n&&u[n])return u[n](p,o);if(l&&t(u)){for(var c=0,m=u.length;c<m;c++)if(!!p.call(o,u[c],c,u)===i)return[!0,!1,c,u[c]][a]}else for(var v in u)if(e(u,v)&&!!p.call(o,u[v],v,u)===i)return[!0,!1,v,u[v]][a]}return d}}return xu=r,xu}var Cu,pC;function pT(){if(pC)return Cu;pC=1;var e=dc(),t=e("some",1,0,!0,!1);return Cu=t,Cu}var yu,hC;function hT(){if(hC)return yu;hC=1;var e=dc(),t=e("every",1,1,!1,!0);return yu=t,yu}var wu,gC;function vi(){if(gC)return wu;gC=1;var e=Xo();function t(r,n){if(r){if(r.includes)return r.includes(n);for(var l in r)if(e(r,l)&&n===r[l])return!0}return!1}return wu=t,wu}var Su,vC;function gT(){if(vC)return Su;vC=1;var e=qr(),t=vi();function r(n,l){var a,i=0;if(e(n)&&e(l)){for(a=l.length;i<a;i++)if(!t(n,l[i]))return!1;return!0}return t(n,l)}return Su=r,Su}var Eu,mC;function vT(){if(mC)return Eu;mC=1;var e=bn(),t=vi(),r=Jn(),n=hi();function l(a,i,d){var u=[];if(i){r(i)||(i=n(i));var p,o={};e(a,function(c,m){p=i.call(d,c,m,a),o[p]||(o[p]=1,u.push(c))})}else e(a,function(c){t(u,c)||u.push(c)});return u}return Eu=l,Eu}var Ru,bC;function Hb(){if(bC)return Ru;bC=1;var e=nl();function t(r){return e(r,function(n){return n})}return Ru=t,Ru}var Du,xC;function Lk(){if(xC)return Du;xC=1;var e=vT(),t=Hb();function r(){for(var n=arguments,l=[],a=0,i=n.length;a<i;a++)l=l.concat(t(n[a]));return e(l)}return Du=r,Du}var Ou,CC;function Jo(){if(CC)return Ou;CC=1;var e="undefined";return Ou=e,Ou}var Tu,yC;function xa(){if(yC)return Tu;yC=1;var e=Jo(),t=pi(),r=t(e);return Tu=r,Tu}var Mu,wC;function Pa(){if(wC)return Mu;wC=1;var e=Aa(),t=xa();function r(n){return e(n)||t(n)}return Mu=r,Mu}var Iu,SC;function mT(){if(SC)return Iu;SC=1;var e=/(.+)?\[(\d+)\]$/;return Iu=e,Iu}var Fu,EC;function Vb(){if(EC)return Fu;EC=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return Fu=e,Fu}var ku,RC;function Qi(){if(RC)return ku;RC=1;var e=mT(),t=Vb(),r=Xo(),n=xa(),l=Pa();function a(u,p,o){if(l(u))return o;var c=d(u,p);return n(c)?o:c}function i(u,p){var o=p?p.match(e):"";return o?o[1]?u[o[1]]?u[o[1]][o[2]]:void 0:u[o[2]]:u[p]}function d(u,p){if(u){var o,c,m,v=0;if(u[p]||r(u,p))return u[p];if(c=t(p),m=c.length,m){for(o=u;v<m;v++)if(o=i(o,c[v]),l(o))return v===m-1?o:void 0}return o}}return ku=a,ku}var $u,DC;function zb(){if(DC)return $u;DC=1;var e=Hn(),t=Hb(),r=nl(),n=qr(),l=Jn(),a=gi(),i=xa(),d=Aa(),u=Pa(),p=Qi(),o=hi(),c="asc",m="desc";function v(E,D){return i(E)?1:d(E)?i(D)?-1:1:E&&E.localeCompare?E.localeCompare(D):E>D?1:-1}function x(E,D,P){return function(V,q){var F=V[E],O=q[E];return F===O?P?P(V,q):0:D.order===m?v(O,F):v(F,O)}}function S(E,D,P,V){var q=[];return P=n(P)?P:[P],e(P,function(F,O){if(F){var M=F,G;n(F)?(M=F[0],G=F[1]):a(F)&&(M=F.field,G=F.order),q.push({field:M,order:G||c}),e(D,l(M)?function($,Y){$[O]=M.call(V,$.data,Y,E)}:function($){$[O]=M?p($.data,M):$.data})}}),q}function k(E,D,P){if(E){if(u(D))return t(E).sort(v);for(var V,q=r(E,function(M){return{data:M}}),F=S(E,q,D,P),O=F.length-1;O>=0;)V=x(O,F[O],V),O--;return V&&(q=q.sort(V)),r(q,o("data"))}return[]}return $u=k,$u}var Au,OC;function Nk(){if(OC)return Au;OC=1;var e=zb(),t=e;return Au=t,Au}var Pu,TC;function bT(){if(TC)return Pu;TC=1;function e(t,r){return t>=r?t:(t=t>>0)+Math.round(Math.random()*((r||9)-t))}return Pu=e,Pu}var Lu,MC;function mi(){if(MC)return Lu;MC=1;var e=Nb(),t=e("values",0);return Lu=t,Lu}var Nu,IC;function xT(){if(IC)return Nu;IC=1;var e=bT(),t=mi();function r(n){for(var l,a=[],i=t(n),d=i.length-1;d>=0;d--)l=d>0?e(0,d):0,a.push(i[l]),i.splice(l,1);return a}return Nu=r,Nu}var _u,FC;function _k(){if(FC)return _u;FC=1;var e=xT();function t(r,n){var l=e(r);return arguments.length<=1?l[0]:(n<l.length&&(l.length=n||0),l)}return _u=t,_u}var qu,kC;function CT(){if(kC)return qu;kC=1;function e(t){return function(r){if(r){var n=t(r&&r.replace?r.replace(/,/g,""):r);if(!isNaN(n))return n}return 0}}return qu=e,qu}var Hu,$C;function Ml(){if($C)return Hu;$C=1;var e=CT(),t=e(parseFloat);return Hu=t,Hu}var Vu,AC;function Il(){if(AC)return Vu;AC=1;var e=Ml();function t(r,n,l){var a=[],i=arguments.length;if(r){if(n=i>=2?e(n):0,l=i>=3?e(l):r.length,r.slice)return r.slice(n,l);for(;n<l;n++)a.push(r[n])}return a}return Vu=t,Vu}var zu,PC;function qk(){if(PC)return zu;PC=1;var e=bn();function t(r,n,l){var a=[];if(r&&n){if(r.filter)return r.filter(n,l);e(r,function(i,d){n.call(l,i,d,r)&&a.push(i)})}return a}return zu=t,zu}var Bu,LC;function Hk(){if(LC)return Bu;LC=1;var e=dc(),t=e("",0,2,!0);return Bu=t,Bu}var Wu,NC;function Vk(){if(NC)return Wu;NC=1;var e=dc(),t=e("find",1,3,!0);return Wu=t,Wu}var Gu,_C;function zk(){if(_C)return Gu;_C=1;var e=qr(),t=mi();function r(n,l,a){if(n){e(n)||(n=t(n));for(var i=n.length-1;i>=0;i--)if(l.call(a,n[i],i,n))return n[i]}}return Gu=r,Gu}var Uu,qC;function Bk(){if(qC)return Uu;qC=1;var e=$a();function t(r,n,l){if(r){var a,i,d=0,u=null,p=l,o=arguments.length>2,c=e(r);if(r.length&&r.reduce)return i=function(){return n.apply(u,arguments)},o?r.reduce(i,p):r.reduce(i);for(o&&(d=1,p=r[c[0]]),a=c.length;d<a;d++)p=n.call(u,p,r[c[d]],d,r);return p}}return Uu=t,Uu}var ju,HC;function Wk(){if(HC)return ju;HC=1;var e=qr();function t(r,n,l,a){if(e(r)&&r.copyWithin)return r.copyWithin(n,l,a);var i,d,u=n>>0,p=l>>0,o=r.length,c=arguments.length>3?a>>0:o;if(u<o&&(u=u>=0?u:o+u,u>=0&&(p=p>=0?p:o+p,c=c>=0?c:o+c,p<c)))for(i=0,d=r.slice(p,c);u<o&&!(d.length<=i);u++)r[u]=d[i++];return r}return ju=t,ju}var Yu,VC;function Gk(){if(VC)return Yu;VC=1;var e=qr();function t(r,n){var l,a=[],i=n>>0||1;if(e(r))if(i>=0&&r.length>i)for(l=0;l<r.length;)a.push(r.slice(l,l+i)),l+=i;else a=r.length?[r]:r;return a}return Yu=t,Yu}var Ku,zC;function yT(){if(zC)return Ku;zC=1;var e=nl(),t=hi();function r(n,l){return e(n,t(l))}return Ku=r,Ku}var Xu,BC;function wT(){if(BC)return Xu;BC=1;var e=Jn(),t=Pa(),r=Qi(),n=Hn();function l(a){return function(i,d){if(i&&i.length){var u,p;return n(i,function(o,c){d&&(o=e(d)?d(o,c,i):r(o,d)),!t(o)&&(t(u)||a(u,o))&&(p=c,u=o)}),i[p]}return u}}return Xu=l,Xu}var Zu,WC;function ST(){if(WC)return Zu;WC=1;var e=wT(),t=e(function(r,n){return r<n});return Zu=t,Zu}var Ju,GC;function ET(){if(GC)return Ju;GC=1;var e=yT(),t=ST();function r(n){var l,a,i,d=[];if(n&&n.length)for(l=0,a=t(n,function(u){return u?u.length:0}),i=a?a.length:0;l<i;l++)d.push(e(n,l));return d}return Ju=r,Ju}var Qu,UC;function Uk(){if(UC)return Qu;UC=1;var e=ET();function t(){return e(arguments)}return Qu=t,Qu}var ed,jC;function jk(){if(jC)return ed;jC=1;var e=mi(),t=bn();function r(n,l){var a={};return l=l||[],t(e(n),function(i,d){a[i]=l[d]}),a}return ed=r,ed}var td,YC;function Yk(){if(YC)return td;YC=1;var e=qr(),t=Hn();function r(l,a){var i=[];return t(l,function(d){i=i.concat(e(d)?a?r(d,a):d:[d])}),i}function n(l,a){return e(l)?r(l,a):[]}return td=n,td}var rd,KC;function Kk(){if(KC)return rd;KC=1;var e=nl(),t=qr();function r(l,a){for(var i=0,d=a.length;l&&i<d;)l=l[a[i++]];return d&&l?l:0}function n(l,a){for(var i,d=arguments,u=[],p=[],o=2,c=d.length;o<c;o++)u.push(d[o]);if(t(a)){for(c=a.length-1,o=0;o<c;o++)p.push(a[o]);a=a[c]}return e(l,function(m){if(p.length&&(m=r(m,p)),i=m[a]||a,i&&i.apply)return i.apply(m,u)})}return rd=n,rd}var nd,XC;function RT(){if(XC)return nd;XC=1;function e(t,r){try{delete t[r]}catch(n){t[r]=void 0}}return nd=e,nd}var od,ZC;function DT(){if(ZC)return od;ZC=1;var e=qr(),t=qb(),r=dT();function n(l,a,i){return l&&(e(l)?t:r)(l,a,i)}return od=n,od}var ad,JC;function fc(){if(JC)return ad;JC=1;var e=pi(),t=e("object");return ad=t,ad}var ld,QC;function OT(){if(QC)return ld;QC=1;var e=RT(),t=gi(),r=fc(),n=qr(),l=Aa(),a=Zo(),i=Ji();function d(u,p,o){if(u){var c,m=arguments.length>1&&(l(p)||!r(p)),v=m?o:p;if(t(u))i(u,m?function(x,S){u[S]=p}:function(x,S){e(u,S)}),v&&a(u,v);else if(n(u)){if(m)for(c=u.length;c>0;)c--,u[c]=p;else u.length=0;v&&u.push.apply(u,v)}}return u}return ld=d,ld}var id,ey;function TT(){if(ey)return id;ey=1;var e=RT(),t=Jn(),r=qr(),n=bn(),l=Hn(),a=DT(),i=OT(),d=Pa();function u(o){return function(c,m){return m===o}}function p(o,c,m){if(o){if(!d(c)){var v=[],x=[];return t(c)||(c=u(c)),n(o,function(S,k,E){c.call(m,S,k,E)&&v.push(k)}),r(o)?a(v,function(S,k){x.push(o[S]),o.splice(S,1)}):(x={},l(v,function(S){x[S]=o[S],e(o,S)})),x}return i(o)}return o}return id=p,id}var sd,ty;function Xk(){if(ty)return sd;ty=1;var e=ba();nl();var t=zb(),r=_b(),n=Pa(),l=bn(),a=TT(),i=Zo();function d(p,o){l(p,function(c){c[o]&&!c[o].length&&a(c,o)})}function u(p,o){var c=i({},e.treeOptions,o),m=c.strict,v=c.key,x=c.parentKey,S=c.children,k=c.mapChildren,E=c.sortKey,D=c.reverse,P=c.data,V=[],q={},F={},O,M,G;return E&&(p=t(r(p),E),D&&(p=p.reverse())),l(p,function($){O=$[v],F[O]=!0}),l(p,function($){O=$[v],P?(M={},M[P]=$):M=$,G=$[x],q[O]=q[O]||[],M[v]=O,M[x]=G,O===G&&(G=null,console.log("Fix infinite Loop.",$)),q[G]=q[G]||[],q[G].push(M),M[S]=q[O],k&&(M[k]=q[O]),(!m||m&&n(G))&&(F[G]||V.push(M))}),m&&d(p,S),V}return sd=u,sd}var cd,ry;function Zk(){if(ry)return cd;ry=1;var e=ba(),t=Hn(),r=Zo();function n(a,i,d,u){var p=u.key,o=u.parentKey,c=u.children,m=u.data,v=u.updated,x=u.clear;return t(d,function(S){var k=S[c];m&&(S=S[m]),v!==!1&&(S[o]=i?i[p]:null),a.push(S),k&&k.length&&n(a,S,k,u),x&&delete S[c]}),a}function l(a,i){return n([],null,a,r({},e.treeOptions,i))}return cd=l,cd}var ud,ny;function pc(){if(ny)return ud;ny=1;function e(t){return function(r,n,l,a){var i=l||{},d=i.children||"children";return t(null,r,n,a,[],[],d,i)}}return ud=e,ud}var dd,oy;function Jk(){if(oy)return dd;oy=1;var e=pc();function t(n,l,a,i,d,u,p,o){if(l){var c,m,v,x,S,k;for(m=0,v=l.length;m<v;m++){if(c=l[m],x=d.concat([""+m]),S=u.concat([c]),a.call(i,c,m,l,x,n,S))return{index:m,item:c,path:x,items:l,parent:n,nodes:S};if(p&&c&&(k=t(c,c[p],a,i,x.concat([p]),S,p),k))return k}}}var r=e(t);return dd=r,dd}var fd,ay;function MT(){if(ay)return fd;ay=1;var e=pc(),t=bn();function r(l,a,i,d,u,p,o,c){var m,v;t(a,function(x,S){m=u.concat([""+S]),v=p.concat([x]),i.call(d,x,S,a,m,l,v),x&&o&&(m.push(o),r(x,x[o],i,d,m,v,o))})}var n=e(r);return fd=n,fd}var pd,ly;function Qk(){if(ly)return pd;ly=1;var e=pc(),t=nl();function r(l,a,i,d,u,p,o,c){var m,v,x,S=c.mapChildren||o;return t(a,function(k,E){return m=u.concat([""+E]),v=p.concat([k]),x=i.call(d,k,E,a,m,l,v),x&&k&&o&&k[o]&&(x[S]=r(k,k[o],i,d,m,v,o,c)),x})}var n=e(r);return pd=n,pd}var hd,iy;function e$(){if(iy)return hd;iy=1;var e=MT();function t(r,n,l,a){var i=[];return r&&n&&e(r,function(d,u,p,o,c,m){n.call(a,d,u,p,o,c,m)&&i.push(d)},l),i}return hd=t,hd}var gd,sy;function t$(){if(sy)return gd;sy=1;var e=pc(),t=Hn(),r=Zo();function n(a,i,d,u,p,o,c,m,v){var x,S,k,E,D,P=[],V=v.original,q=v.data,F=v.mapChildren||m,O=v.isEvery;return t(d,function(M,G){x=o.concat([""+G]),S=c.concat([M]),E=a&&!O||u.call(p,M,G,d,x,i,S),D=m&&M[m],E||D?(V?k=M:(k=r({},M),q&&(k[q]=M)),k[F]=n(E,M,M[m],u,p,x,S,m,v),(E||k[F].length)&&P.push(k)):E&&P.push(k)}),P}var l=e(function(a,i,d,u,p,o,c,m){return n(0,a,i,d,u,p,o,c,m)});return gd=l,gd}var vd,cy;function IT(){if(cy)return vd;cy=1;function e(t,r){if(t.indexOf)return t.indexOf(r);for(var n=0,l=t.length;n<l;n++)if(r===t[n])return n}return vd=e,vd}var md,uy;function FT(){if(uy)return md;uy=1;function e(t,r){if(t.lastIndexOf)return t.lastIndexOf(r);for(var n=t.length-1;n>=0;n--)if(r===t[n])return n;return-1}return md=e,md}var bd,dy;function Ca(){if(dy)return bd;dy=1;var e=pi(),t=e("number");return bd=t,bd}var xd,fy;function r$(){if(fy)return xd;fy=1;var e=Ca();function t(r){return e(r)&&isNaN(r)}return xd=t,xd}var Cd,py;function La(){if(py)return Cd;py=1;var e=pi(),t=e("string");return Cd=t,Cd}var yd,hy;function ol(){if(hy)return yd;hy=1;var e=Zi(),t=e("Date");return yd=t,yd}var wd,gy;function es(){if(gy)return wd;gy=1;var e=parseInt;return wd=e,wd}var Sd,vy;function n$(){if(vy)return Sd;vy=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return Sd=e,Sd}var Ed,my;function Po(){if(my)return Ed;my=1;function e(t){return t.getTime()}return Ed=e,Ed}var Rd,by;function Qn(){if(by)return Rd;by=1;var e=es(),t=n$(),r=Po(),n=La(),l=ol();function a(B){return"(\\d{"+B+"})"}function i(B){return B<10?B*100:B<100?B*10:B}function d(B){return isNaN(B)?B:e(B)}for(var u=a(2),p=a("1,2"),o=a("1,7"),c=a("3,4"),m=".{1}",v=m+p,x="(([zZ])|([-+]\\d{2}:?\\d{2}))",S=[c,v,v,v,v,v,m+o,x],k=[],E=S.length-1;E>=0;E--){for(var D="",P=0;P<E+1;P++)D+=S[P];k.push(new RegExp("^"+D+"$"))}function V(B){for(var xe,Z={},L=0,ne=k.length;L<ne;L++)if(xe=B.match(k[L]),xe){Z.y=xe[1],Z.M=xe[2],Z.d=xe[3],Z.H=xe[4],Z.m=xe[5],Z.s=xe[6],Z.S=xe[7],Z.Z=xe[8];break}return Z}for(var q=[["yyyy",c],["yy",u],["MM",u],["M",p],["dd",u],["d",p],["HH",u],["H",p],["mm",u],["m",p],["ss",u],["s",p],["SSS",a(3)],["S",o],["Z",x]],F={},O=["\\[([^\\]]+)\\]"],P=0;P<q.length;P++){var M=q[P];F[M[0]]=M[1]+"?",O.push(M[0])}var G=new RegExp(O.join("|"),"g"),$={};function Y(B,xe){var Z=$[xe];if(!Z){var L=[],ne=xe.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(G,function(le,Ee){var Oe=le.charAt(0);return Oe==="["?Ee:(L.push(Oe),F[le])});Z=$[xe]={_i:L,_r:new RegExp(ne)}}var Ve={},Le=B.match(Z._r);if(Le){for(var ee=Z._i,se=1,ae=Le.length;se<ae;se++)Ve[ee[se-1]]=Le[se];return Ve}return Ve}function H(B){if(/^[zZ]/.test(B.Z))return new Date(t(B));var xe=B.Z.match(/([-+])(\d{2}):?(\d{2})/);return xe?new Date(t(B)-(xe[1]==="-"?-1:1)*e(xe[2])*36e5+e(xe[3])*6e4):new Date("")}function j(B,xe){if(B){var Z=l(B);if(Z||!xe&&/^[0-9]{11,15}$/.test(B))return new Date(Z?r(B):e(B));if(n(B)){var L=xe?Y(B,xe):V(B);if(L.y)return L.M&&(L.M=d(L.M)-1),L.S&&(L.S=i(d(L.S.substring(0,3)))),L.Z?H(L):new Date(L.y,L.M||0,L.d||1,L.H||0,L.m||0,L.s||0,L.S||0)}}return new Date("")}return Rd=j,Rd}var Dd,xy;function hc(){if(xy)return Dd;xy=1;function e(){return new Date}return Dd=e,Dd}var Od,Cy;function kT(){if(Cy)return Od;Cy=1;var e=ol(),t=Qn(),r=hc();function n(l){var a,i=l?t(l):r();return e(i)?(a=i.getFullYear(),a%4===0&&(a%100!==0||a%400===0)):!1}return Od=n,Od}var Td,yy;function o$(){if(yy)return Td;yy=1;var e=qr(),t=Xo();function r(n,l,a){if(n){if(e(n))for(var i=0,d=n.length;i<d&&l.call(a,n[i],i,n)!==!1;i++);else for(var u in n)if(t(n,u)&&l.call(a,n[u],u,n)===!1)break}}return Td=r,Td}var Md,wy;function a$(){if(wy)return Md;wy=1;var e=qr(),t=Xo();function r(n,l,a){if(n){var i,d;if(e(n))for(i=n.length-1;i>=0&&l.call(a,n[i],i,n)!==!1;i--);else for(d=t(n),i=d.length-1;i>=0&&l.call(a,n[d[i]],d[i],n)!==!1;i--);}}return Md=r,Md}var Id,Sy;function $T(){if(Sy)return Id;Sy=1;var e=qr(),t=La(),r=Xo();function n(l,a){return function(i,d){if(i){if(i[l])return i[l](d);if(t(i)||e(i))return a(i,d);for(var u in i)if(r(i,u)&&d===i[u])return u}return-1}}return Id=n,Id}var Fd,Ey;function l$(){if(Ey)return Fd;Ey=1;var e=$T(),t=IT(),r=e("indexOf",t);return Fd=r,Fd}var kd,Ry;function AT(){if(Ry)return kd;Ry=1;var e=$T(),t=FT(),r=e("lastIndexOf",t);return kd=r,kd}var $d,Dy;function PT(){if(Dy)return $d;Dy=1;var e=qr(),t=La(),r=bn();function n(l){var a=0;return t(l)||e(l)?l.length:(r(l,function(){a++}),a)}return $d=n,$d}var Ad,Oy;function i$(){if(Oy)return Ad;Oy=1;var e=Ca();function t(r){return e(r)&&isFinite(r)}return Ad=t,Ad}var Pd,Ty;function LT(){if(Ty)return Pd;Ty=1;var e=qr(),t=Aa(),r=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1===0};return Pd=r,Pd}var Ld,My;function s$(){if(My)return Ld;My=1;var e=qr(),t=LT(),r=Aa();function n(l){return!r(l)&&!isNaN(l)&&!e(l)&&!t(l)}return Ld=n,Ld}var Nd,Iy;function NT(){if(Iy)return Nd;Iy=1;var e=pi(),t=e("boolean");return Nd=t,Nd}var _d,Fy;function Bb(){if(Fy)return _d;Fy=1;var e=Zi(),t=e("RegExp");return _d=t,_d}var qd,ky;function _T(){if(ky)return qd;ky=1;var e=Zi(),t=e("Error");return qd=t,qd}var Hd,$y;function c$(){if($y)return Hd;$y=1;function e(t){return t?t.constructor===TypeError:!1}return Hd=e,Hd}var Vd,Ay;function qT(){if(Ay)return Vd;Ay=1;function e(t){for(var r in t)return!1;return!0}return Vd=e,Vd}var zd,Py;function HT(){if(Py)return zd;Py=1;var e=Jo(),t=typeof Symbol!==e;function r(n){return t&&Symbol.isSymbol?Symbol.isSymbol(n):typeof n=="symbol"}return zd=r,zd}var Bd,Ly;function u$(){if(Ly)return Bd;Ly=1;var e=Zi(),t=e("Arguments");return Bd=t,Bd}var Wd,Ny;function d$(){if(Ny)return Wd;Ny=1;var e=La(),t=Ca();function r(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}return Wd=r,Wd}var Gd,_y;function Wb(){if(_y)return Gd;_y=1;var e=Jo(),t=typeof document===e?0:document;return Gd=t,Gd}var Ud,qy;function f$(){if(qy)return Ud;qy=1;var e=Wb();function t(r){return!!(r&&e&&r.nodeType===9)}return Ud=t,Ud}var jd,Hy;function VT(){if(Hy)return jd;Hy=1;var e=Jo(),t=typeof window===e?0:window;return jd=t,jd}var Yd,Vy;function p$(){if(Vy)return Yd;Vy=1;var e=VT();function t(r){return!!(e&&(r&&r===r.window))}return Yd=t,Yd}var Kd,zy;function h$(){if(zy)return Kd;zy=1;var e=Jo(),t=typeof FormData!==e;function r(n){return t&&n instanceof FormData}return Kd=r,Kd}var Xd,By;function g$(){if(By)return Xd;By=1;var e=Jo(),t=typeof Map!==e;function r(n){return t&&n instanceof Map}return Xd=r,Xd}var Zd,Wy;function v$(){if(Wy)return Zd;Wy=1;var e=Jo(),t=typeof WeakMap!==e;function r(n){return t&&n instanceof WeakMap}return Zd=r,Zd}var Jd,Gy;function m$(){if(Gy)return Jd;Gy=1;var e=Jo(),t=typeof Set!==e;function r(n){return t&&n instanceof Set}return Jd=r,Jd}var Qd,Uy;function b$(){if(Uy)return Qd;Uy=1;var e=Jo(),t=typeof WeakSet!==e;function r(n){return t&&n instanceof WeakSet}return Qd=r,Qd}var ef,jy;function zT(){if(jy)return ef;jy=1;var e=Jn(),t=La(),r=qr(),n=Xo();function l(a){return function(i,d,u){if(i&&e(d)){if(r(i)||t(i))return a(i,d,u);for(var p in i)if(n(i,p)&&d.call(u,i[p],p,i))return p}return-1}}return ef=l,ef}var tf,Yy;function Gb(){if(Yy)return tf;Yy=1;var e=zT(),t=e(function(r,n,l){for(var a=0,i=r.length;a<i;a++)if(n.call(l,r[a],a,r))return a;return-1});return tf=t,tf}var rf,Ky;function BT(){if(Ky)return rf;Ky=1;var e=Ca(),t=qr(),r=La(),n=Bb(),l=ol(),a=NT(),i=xa(),d=$a(),u=hT();function p(o,c,m,v,x,S,k){if(o===c)return!0;if(o&&c&&!e(o)&&!e(c)&&!r(o)&&!r(c)){if(n(o))return m(""+o,""+c,x,S,k);if(l(o)||a(o))return m(+o,+c,x,S,k);var E,D,P,V=t(o),q=t(c);if(V||q?V&&q:o.constructor===c.constructor)return D=d(o),P=d(c),v&&(E=v(o,c,x)),D.length===P.length?i(E)?u(D,function(F,O){return F===P[O]&&p(o[F],c[P[O]],m,v,V||q?O:F,o,c)}):!!E:!1}return m(o,c,x,S,k)}return rf=p,rf}var nf,Xy;function WT(){if(Xy)return nf;Xy=1;function e(t,r){return t===r}return nf=e,nf}var of,Zy;function GT(){if(Zy)return of;Zy=1;var e=BT(),t=WT();function r(n,l){return e(n,l,t)}return of=r,of}var af,Jy;function x$(){if(Jy)return af;Jy=1;var e=$a(),t=Gb(),r=GT(),n=pT(),l=gT();function a(i,d){var u=e(i),p=e(d);if(p.length){if(l(u,p))return n(p,function(o){return t(u,function(c){return c===o&&r(i[c],d[o])})>-1})}else return!0;return r(i,d)}return af=a,af}var lf,Qy;function C$(){if(Qy)return lf;Qy=1;var e=BT(),t=WT(),r=Jn(),n=xa();function l(a,i,d){return r(d)?e(a,i,function(u,p,o,c,m){var v=d(u,p,o,c,m);return n(v)?t(u,p):!!v},d):e(a,i,t)}return lf=l,lf}var sf,ew;function y$(){if(ew)return sf;ew=1;var e=HT(),t=ol(),r=qr(),n=Bb(),l=_T(),a=Aa();function i(d){return a(d)?"null":e(d)?"symbol":t(d)?"date":r(d)?"array":n(d)?"regexp":l(d)?"error":typeof d}return sf=i,sf}var cf,tw;function w$(){if(tw)return cf;tw=1;var e=ba(),t=Pa();function r(n){return""+(t(n)?"":n)+e.keyId++}return cf=r,cf}var uf,rw;function S$(){if(rw)return uf;rw=1;var e=zT(),t=e(function(r,n,l){for(var a=r.length-1;a>=0;a--)if(n.call(l,r[a],a,r))return a;return-1});return uf=t,uf}var df,nw;function E$(){if(nw)return df;nw=1;var e=gi(),t=La();function r(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch(l){}return{}}return df=r,df}var ff,ow;function R$(){if(ow)return ff;ow=1;var e=Pa();function t(r){return e(r)?"":JSON.stringify(r)}return ff=t,ff}var pf,aw;function D$(){if(aw)return pf;aw=1;var e=Nb(),t=e("entries",2);return pf=t,pf}var hf,lw;function UT(){if(lw)return hf;lw=1;var e=Jn(),t=qr(),r=bn(),n=Gb();function l(a,i){return function(d,u){var p,o,c={},m=[],v=this,x=arguments,S=x.length;if(!e(u)){for(o=1;o<S;o++)p=x[o],m.push.apply(m,t(p)?p:[p]);u=0}return r(d,function(k,E){((u?u.call(v,k,E,d):n(m,function(D){return D===E})>-1)?a:i)&&(c[E]=k)}),c}}return hf=l,hf}var gf,iw;function O$(){if(iw)return gf;iw=1;var e=UT(),t=e(1,0);return gf=t,gf}var vf,sw;function T$(){if(sw)return vf;sw=1;var e=UT(),t=e(0,1);return vf=t,vf}var mf,cw;function M$(){if(cw)return mf;cw=1;var e=mi();function t(r){return e(r)[0]}return mf=t,mf}var bf,uw;function I$(){if(uw)return bf;uw=1;var e=mi();function t(r){var n=e(r);return n[n.length-1]}return bf=t,bf}var xf,dw;function F$(){if(dw)return xf;dw=1;var e=mT(),t=Vb(),r=Xo();function n(l,a){if(l){if(r(l,a))return!0;var i,d,u,p,o,c,m=t(a),v=0,x=m.length;for(o=l;v<x&&(c=!1,i=m[v],p=i?i.match(e):"",p?(d=p[1],u=p[2],d?o[d]&&r(o[d],u)&&(c=!0,o=o[d][u]):r(o,u)&&(c=!0,o=o[u])):r(o,i)&&(c=!0,o=o[i]),c);v++)if(v===x-1)return!0}return!1}return xf=n,xf}var Cf,fw;function k$(){if(fw)return Cf;fw=1;var e=es(),t=Vb(),r=fT(),n=Xo(),l=/(.+)?\[(\d+)\]$/;function a(u,p,o,c,m){if(u[p])o&&(u[p]=m);else{var v,x,S=p?p.match(l):null;if(o)x=m;else{var k=c?c.match(l):null;k&&!k[1]?x=new Array(e(k[2])+1):x={}}return S?S[1]?(v=e(S[2]),u[S[1]]?o?u[S[1]][v]=x:u[S[1]][v]?x=u[S[1]][v]:u[S[1]][v]=x:(u[S[1]]=new Array(v+1),u[S[1]][v]=x)):u[S[2]]=x:u[p]=x,x}return u[p]}function i(u,p,o){if(u&&r(p)){if((u[p]||n(u,p))&&!d(p))u[p]=o;else for(var c=u,m=t(p),v=m.length,x=0;x<v;x++)if(!d(m[x])){var S=x===v-1;c=a(c,m[x],S,S?null:m[x+1],o)}}return u}function d(u){return u==="__proto__"||u==="constructor"||u==="prototype"}return Cf=i,Cf}var yf,pw;function jT(){if(pw)return yf;pw=1;var e=qT(),t=fc(),r=Jn(),n=hi(),l=bn();function a(d){return function(){return e(d)}}function i(d,u,p){var o,c={};return d&&(u&&t(u)?u=a(u):r(u)||(u=n(u)),l(d,function(m,v){o=u?u.call(p,m,v,d):m,c[o]?c[o].push(m):c[o]=[m]})),c}return yf=i,yf}var wf,hw;function $$(){if(hw)return wf;hw=1;var e=jT(),t=Ji();function r(n,l,a){var i=e(n,l,a||this);return t(i,function(d,u){i[u]=d.length}),i}return wf=r,wf}var Sf,gw;function YT(){if(gw)return Sf;gw=1;function e(t,r,n){var l,a,i=[],d=arguments;if(d.length<2&&(r=d[0],t=0),l=t>>0,a=r>>0,l<r)for(n=n>>0||1;l<a;l+=n)i.push(l);return i}return Sf=e,Sf}var Ef,vw;function A$(){if(vw)return Ef;vw=1;var e=$a(),t=Il(),r=vi(),n=Hn(),l=Zo();function a(i,d){if(i&&d){var u=l.apply(this,[{}].concat(t(arguments,1))),p=e(u);n(e(i),function(o){r(p,o)&&(i[o]=u[o])})}return i}return Ef=a,Ef}var Rf,mw;function P$(){if(mw)return Rf;mw=1;var e=wT(),t=e(function(r,n){return r>n});return Rf=t,Rf}var Df,bw;function gc(){if(bw)return Df;bw=1;function e(t){return(t.split(".")[1]||"").length}return Df=e,Df}var Of,xw;function ts(){if(xw)return Of;xw=1;var e=es();function t(r,n){if(r.repeat)return r.repeat(n);var l=isNaN(n)?[]:new Array(e(n));return l.join(r)+(l.length>0?r:"")}return Of=t,Of}var Tf,Cw;function KT(){if(Cw)return Tf;Cw=1;function e(t,r){return t.substring(0,r)+"."+t.substring(r,t.length)}return Tf=e,Tf}var Mf,yw;function al(){if(yw)return Mf;yw=1;var e=ts(),t=KT();function r(n){var l=""+n,a=l.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(a){var i=n<0,d=i?"-":"",u=a[3]||"",p=a[5]||"",o=a[6]||"",c=a[7],m=a[8],v=m-o.length,x=m-u.length,S=m-p.length;return c==="+"?u?d+u+e("0",m):v>0?d+p+o+e("0",v):d+p+t(o,m):u?x>0?d+"0."+e("0",Math.abs(x))+u:d+t(u,x):S>0?d+"0."+e("0",Math.abs(S))+p+o:d+t(p,S)+o}return l}return Mf=r,Mf}var If,ww;function XT(){if(ww)return If;ww=1;var e=gc(),t=al();function r(n,l){var a=t(n),i=t(l);return parseInt(a.replace(".",""))*parseInt(i.replace(".",""))/Math.pow(10,e(a)+e(i))}return If=r,If}var Ff,Sw;function Ub(){if(Sw)return Ff;Sw=1;var e=XT(),t=Ml(),r=al();function n(l){return function(a,i){var d=t(a),u=d;if(d){i=i>>0;var p=r(d),o=p.split("."),c=o[0],m=o[1]||"",v=m.substring(0,i+1),x=c+(v?"."+v:"");if(i>=m.length)return t(x);if(x=d,i>0){var S=Math.pow(10,i);u=Math[l](e(x,S))/S}else u=Math[l](x)}return u}}return Ff=n,Ff}var kf,Ew;function jb(){if(Ew)return kf;Ew=1;var e=Ub(),t=e("round");return kf=t,kf}var $f,Rw;function ZT(){if(Rw)return $f;Rw=1;var e=Ub(),t=e("ceil");return $f=t,$f}var Af,Dw;function JT(){if(Dw)return Af;Dw=1;var e=Ub(),t=e("floor");return Af=t,Af}var Pf,Ow;function eo(){if(Ow)return Pf;Ow=1;var e=Pa(),t=Ca(),r=al();function n(l){return t(l)?r(l):""+(e(l)?"":l)}return Pf=n,Pf}var Lf,Tw;function Yb(){if(Tw)return Lf;Tw=1;var e=jb(),t=eo(),r=ts(),n=KT();function l(a,i){i=i>>0;var d=t(e(a,i)),u=d.split("."),p=u[0],o=u[1]||"",c=i-o.length;return i?c>0?p+"."+o+r("0",c):p+n(o,Math.abs(c)):p}return Lf=l,Lf}var Nf,Mw;function L$(){if(Mw)return Nf;Mw=1;var e=ba(),t=jb(),r=ZT(),n=JT(),l=Ca(),a=eo(),i=Yb(),d=al(),u=Zo();function p(o,c){var m=u({},e.commafyOptions,c),v=m.digits,x=l(o),S,k,E,D,P;return x?(S=(m.ceil?r:m.floor?n:t)(o,v),k=d(v?i(S,v):S).split("."),D=k[0],P=k[1],E=D&&S<0,E&&(D=D.substring(1,D.length))):(S=a(o).replace(/,/g,""),k=S?[S]:[],D=k[0]),k.length?(E?"-":"")+D.replace(new RegExp("(?=(?!(\\b))(.{"+(m.spaceNumber||3)+"})+$)","g"),m.separator||",")+(P?"."+P:""):S}return Nf=p,Nf}var _f,Iw;function N$(){if(Iw)return _f;Iw=1;var e=es(),t=CT(),r=t(e);return _f=r,_f}var qf,Fw;function Kb(){if(Fw)return qf;Fw=1;var e=XT(),t=Ml();function r(n,l){var a=t(n),i=t(l);return e(a,i)}return qf=r,qf}var Hf,kw;function QT(){if(kw)return Hf;kw=1;var e=gc(),t=al(),r=Kb();function n(l,a){var i=t(l),d=t(a),u=Math.pow(10,Math.max(e(i),e(d)));return(r(l,u)+r(a,u))/u}return Hf=n,Hf}var Vf,$w;function _$(){if($w)return Vf;$w=1;var e=QT(),t=Ml();function r(n,l){return e(t(n),t(l))}return Vf=r,Vf}var zf,Aw;function q$(){if(Aw)return zf;Aw=1;var e=gc(),t=al(),r=Ml(),n=Yb();function l(a,i){var d=r(a),u=r(i),p=t(d),o=t(u),c=e(p),m=e(o),v=Math.pow(10,Math.max(c,m)),x=c>=m?c:m;return parseFloat(n((d*v-u*v)/v,x))}return zf=l,zf}var Bf,Pw;function eM(){if(Pw)return Bf;Pw=1;var e=gc(),t=al(),r=Kb();function n(l,a){var i=t(l),d=t(a),u=e(i),p=e(d),o=p-u,c=o<0,m=Math.pow(10,c?Math.abs(o):o);return r(i.replace(".","")/d.replace(".",""),c?1/m:m)}return Bf=n,Bf}var Wf,Lw;function H$(){if(Lw)return Wf;Lw=1;var e=eM(),t=Ml();function r(n,l){return e(t(n),t(l))}return Wf=r,Wf}var Gf,Nw;function tM(){if(Nw)return Gf;Nw=1;var e=QT(),t=Jn(),r=qr(),n=bn(),l=Qi();function a(i,d,u){var p=0;return n(i&&i.length>2&&r(i)?i.sort():i,d?t(d)?function(){p=e(p,d.apply(u,arguments))}:function(o){p=e(p,l(o,d))}:function(o){p=e(p,o)}),p}return Gf=a,Gf}var Uf,_w;function V$(){if(_w)return Uf;_w=1;var e=eM(),t=PT(),r=tM();function n(l,a,i){return e(r(l,a,i),t(l))}return Uf=n,Uf}var jf,qw;function rs(){if(qw)return jf;qw=1;var e="first";return jf=e,jf}var Yf,Hw;function vc(){if(Hw)return Yf;Hw=1;var e="last";return Yf=e,Yf}var Kf,Vw;function ns(){if(Vw)return Kf;Vw=1;function e(t){return t.getFullYear()}return Kf=e,Kf}var Xf,zw;function bi(){if(zw)return Xf;zw=1;var e=864e5;return Xf=e,Xf}var Zf,Bw;function mc(){if(Bw)return Zf;Bw=1;function e(t){return t.getMonth()}return Zf=e,Zf}var Jf,Ww;function Lo(){if(Ww)return Jf;Ww=1;var e=ol(),t=Po();function r(n){return e(n)&&!isNaN(t(n))}return Jf=r,Jf}var Qf,Gw;function os(){if(Gw)return Qf;Gw=1;var e=rs(),t=vc(),r=bi(),n=ns(),l=Po(),a=mc(),i=Qn(),d=Lo(),u=Ca();function p(o,c,m){var v=c&&!isNaN(c)?c:0;if(o=i(o),d(o)){if(m===e)return new Date(n(o),a(o)+v,1);if(m===t)return new Date(l(p(o,v+1,e))-1);if(u(m)&&o.setDate(m),v){var x=o.getDate();if(o.setMonth(a(o)+v),x!==o.getDate())return o.setDate(1),new Date(l(o)-r)}}return o}return Qf=p,Qf}var ep,Uw;function bc(){if(Uw)return ep;Uw=1;var e=rs(),t=vc(),r=ns(),n=os(),l=Qn(),a=Lo();function i(d,u,p){var o;if(d=l(d),a(d)&&(u&&(o=u&&!isNaN(u)?u:0,d.setFullYear(r(d)+o)),p||!isNaN(p))){if(p===e)return new Date(r(d),0,1);if(p===t)return d.setMonth(11),n(d,0,t);d.setMonth(p)}return d}return ep=i,ep}var tp,jw;function z$(){if(jw)return tp;jw=1;var e=os(),t=Qn(),r=Lo();function n(a){var i=a.getMonth();return i<3?1:i<6?2:i<9?3:4}function l(a,i,d){var u,p=i&&!isNaN(i)?i*3:0;return a=t(a),r(a)?(u=(n(a)-1)*3,a.setMonth(u),e(a,p,d)):a}return tp=l,tp}var rp,Yw;function rM(){if(Yw)return rp;Yw=1;var e=rs(),t=vc(),r=es(),n=ns(),l=mc(),a=Po(),i=Qn(),d=Lo();function u(p,o,c){if(p=i(p),d(p)&&!isNaN(o)){if(p.setDate(p.getDate()+r(o)),c===e)return new Date(n(p),l(p),p.getDate());if(c===t)return new Date(a(u(p,1,e))-1)}return p}return rp=u,rp}var np,Kw;function nM(){if(Kw)return np;Kw=1;function e(t){return t.toUpperCase()}return np=e,np}var op,Xw;function oM(){if(Xw)return op;Xw=1;var e=bi(),t=e*7;return op=t,op}var ap,Zw;function aM(){if(Zw)return ap;Zw=1;var e=ba(),t=bi(),r=oM(),n=Po(),l=Qn(),a=Lo(),i=Ca();function d(u,p,o,c){if(u=l(u),a(u)){var m=i(o),v=i(c),x=n(u);if(m||v){var S=v?c:e.firstDayOfWeek,k=u.getDay(),E=m?o:k;if(k!==E){var D=0;S>k?D=-(7-S+k):S<k&&(D=S-k),E>S?x+=((E===0?7:E)-S+D)*t:E<S?x+=(7-S+E+D)*t:x+=D*t}}return p&&!isNaN(p)&&(x+=p*r),new Date(x)}return u}return ap=d,ap}var lp,Jw;function lM(){if(Jw)return lp;Jw=1;var e=ba(),t=bi(),r=oM(),n=Ca(),l=vi(),a=Qn(),i=Lo(),d=aM(),u=YT(),p=nl(),o=Po(),c=p(u(0,7),function(x){return[(x+1)%7,(x+2)%7,(x+3)%7]});function m(x,S){var k=new Date(x).getDay();return l(c[S],k)}function v(x,S){return function(k,E){var D=n(E)?E:e.firstDayOfWeek,P=a(k);if(i(P)){var V=d(P,0,D,D),q=x(V),F=o(q),O=o(V),M=O+t*6,G=new Date(M),$=d(q,0,D,D),Y=o($),H;if(O===Y)return 1;if(S(V,G)){for(H=o(x(G));H<M;H+=t)if(m(H,D))return 1}var j=Y+t*6,B=new Date(M),xe=1;if(S($,B)){for(xe=0,H=F;H<j;H+=t)if(m(H,D)){xe++;break}}return Math.floor((O-Y)/r)+xe}return NaN}}return lp=v,lp}var ip,Qw;function iM(){if(Qw)return ip;Qw=1;var e=lM(),t=e(function(r){return new Date(r.getFullYear(),0,1)},function(r,n){return r.getFullYear()!==n.getFullYear()});return ip=t,ip}var sp,eS;function B$(){if(eS)return sp;eS=1;var e=ns(),t=mc();function r(n){return new Date(e(n),t(n),n.getDate())}return sp=r,sp}var cp,tS;function W$(){if(tS)return cp;tS=1;var e=Po(),t=B$();function r(n){return e(t(n))}return cp=r,cp}var up,rS;function sM(){if(rS)return up;rS=1;var e=bi(),t=rs(),r=W$(),n=bc(),l=Qn(),a=Lo();function i(d){return d=l(d),a(d)?Math.floor((r(d)-r(n(d,0,t)))/e)+1:NaN}return up=i,up}var dp,nS;function cM(){if(nS)return dp;nS=1;var e=eo(),t=xa(),r=ts();function n(l,a,i){var d=e(l);return a=a>>0,i=t(i)?" ":""+i,d.padStart?d.padStart(a,i):a>d.length?(a-=d.length,a>i.length&&(i+=r(i,a/i.length)),i.slice(0,a)+d):d}return dp=n,dp}var fp,oS;function uM(){if(oS)return fp;oS=1;var e=ba(),t=nM(),r=ns(),n=mc(),l=Qn(),a=iM(),i=sM(),d=Zo(),u=Lo(),p=Jn(),o=cM();function c(x,S,k,E){var D=S[k];return D?p(D)?D(E,k,x):D[E]:E}var m=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function v(x,S,k){if(x){if(x=l(x),u(x)){var E=S||e.parseDateFormat||e.formatString,D=x.getHours(),P=D<12?"am":"pm",V=d({},e.parseDateRules||e.formatStringMatchs,k?k.formats:null),q=function(L,ne){return(""+r(x)).substr(4-ne)},F=function(L,ne){return o(n(x)+1,ne,"0")},O=function(L,ne){return o(x.getDate(),ne,"0")},M=function(L,ne){return o(D,ne,"0")},G=function(L,ne){return o(D<=12?D:D-12,ne,"0")},$=function(L,ne){return o(x.getMinutes(),ne,"0")},Y=function(L,ne){return o(x.getSeconds(),ne,"0")},H=function(L,ne){return o(x.getMilliseconds(),ne,"0")},j=function(L,ne){var Ve=x.getTimezoneOffset()/60*-1;return c(x,V,L,(Ve>=0?"+":"-")+o(Ve,2,"0")+(ne===1?":":"")+"00")},B=function(L,ne){return o(c(x,V,L,a(x,(k?k.firstDay:null)||e.firstDayOfWeek)),ne,"0")},xe=function(L,ne){return o(c(x,V,L,i(x)),ne,"0")},Z={yyyy:q,yy:q,MM:F,M:F,dd:O,d:O,HH:M,H:M,hh:G,h:G,mm:$,m:$,ss:Y,s:Y,SSS:H,S:H,ZZ:j,Z:j,WW:B,W:B,DDD:xe,D:xe,a:function(L){return c(x,V,L,P)},A:function(L){return c(x,V,L,t(P))},e:function(L){return c(x,V,L,x.getDay())},E:function(L){return c(x,V,L,x.getDay())},q:function(L){return c(x,V,L,Math.floor((n(x)+3)/3))}};return E.replace(m,function(L,ne){return ne||(Z[L]?Z[L](L,L.length):L)})}return"Invalid Date"}return""}return fp=v,fp}var pp,aS;function dM(){if(aS)return pp;aS=1;var e=Po(),t=hc(),r=Date.now||function(){return e(t())};return pp=r,pp}var hp,lS;function G$(){if(lS)return hp;lS=1;var e=Po(),t=dM(),r=Qn(),n=ol(),l=function(a,i){if(a){var d=r(a,i);return n(d)?e(d):d}return t()};return hp=l,hp}var gp,iS;function U$(){if(iS)return gp;iS=1;var e=uM();function t(r,n,l){return r&&n?(r=e(r,l),r!=="Invalid Date"&&r===e(n,l)):!1}return gp=t,gp}var vp,sS;function j$(){if(sS)return vp;sS=1;var e=lM(),t=e(function(r){return new Date(r.getFullYear(),r.getMonth(),1)},function(r,n){return r.getMonth()!==n.getMonth()});return vp=t,vp}var mp,cS;function Y$(){if(cS)return mp;cS=1;var e=bc(),t=Qn(),r=Lo(),n=kT();function l(a,i){return a=t(a),r(a)?n(e(a,i))?366:365:NaN}return mp=l,mp}var bp,uS;function K$(){if(uS)return bp;uS=1;var e=bi(),t=rs(),r=vc(),n=Po(),l=os(),a=Qn(),i=Lo();function d(u,p){return u=a(u),i(u)?Math.floor((n(l(u,p,r))-n(l(u,p,t)))/e)+1:NaN}return bp=d,bp}var xp,dS;function X$(){if(dS)return xp;dS=1;var e=Po(),t=hc(),r=Qn(),n=Lo(),l=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function a(i,d){var u,p,o,c,m,v,x={done:!1,time:0};if(i=r(i),d=d?r(d):t(),n(i)&&n(d)&&(u=e(i),p=e(d),u<p))for(c=x.time=p-u,x.done=!0,v=0,m=l.length;v<m;v++)o=l[v],c>=o[1]?v===m-1?x[o[0]]=c||0:(x[o[0]]=Math.floor(c/o[1]),c-=x[o[0]]*o[1]):x[o[0]]=0;return x}return xp=a,xp}var Cp,fS;function Z$(){if(fS)return Cp;fS=1;var e=eo(),t=xa(),r=ts();function n(l,a,i){var d=e(l);return a=a>>0,i=t(i)?" ":""+i,d.padEnd?d.padEnd(a,i):a>d.length?(a-=d.length,a>i.length&&(i+=r(i,a/i.length)),d+i.slice(0,a)):d}return Cp=n,Cp}var yp,pS;function J$(){if(pS)return yp;pS=1;var e=eo(),t=ts();function r(n,l){return t(e(n),l)}return yp=r,yp}var wp,hS;function fM(){if(hS)return wp;hS=1;var e=eo();function t(r){return r&&r.trimRight?r.trimRight():e(r).replace(/[\s\uFEFF\xA0]+$/g,"")}return wp=t,wp}var Sp,gS;function pM(){if(gS)return Sp;gS=1;var e=eo();function t(r){return r&&r.trimLeft?r.trimLeft():e(r).replace(/^[\s\uFEFF\xA0]+/g,"")}return Sp=t,Sp}var Ep,vS;function hM(){if(vS)return Ep;vS=1;var e=fM(),t=pM();function r(n){return n&&n.trim?n.trim():e(t(n))}return Ep=r,Ep}var Rp,mS;function gM(){if(mS)return Rp;mS=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return Rp=e,Rp}var Dp,bS;function vM(){if(bS)return Dp;bS=1;var e=eo(),t=$a();function r(n){var l=new RegExp("(?:"+t(n).join("|")+")","g");return function(a){return e(a).replace(l,function(i){return n[i]})}}return Dp=r,Dp}var Op,xS;function Q$(){if(xS)return Op;xS=1;var e=gM(),t=vM(),r=t(e);return Op=r,Op}var Tp,CS;function eA(){if(CS)return Tp;CS=1;var e=gM(),t=vM(),r=bn(),n={};r(e,function(a,i){n[e[i]]=i});var l=t(n);return Tp=l,Tp}var Mp,yS;function mM(){if(yS)return Mp;yS=1;function e(t,r,n){return t.substring(r,n)}return Mp=e,Mp}var Ip,wS;function bM(){if(wS)return Ip;wS=1;function e(t){return t.toLowerCase()}return Ip=e,Ip}var Fp,SS;function tA(){if(SS)return Fp;SS=1;var e=eo(),t=mM(),r=nM(),n=bM(),l={};function a(i){if(i=e(i),l[i])return l[i];var d=i.length,u=i.replace(/([-]+)/g,function(p,o,c){return c&&c+o.length<d?"-":""});return d=u.length,u=u.replace(/([A-Z]+)/g,function(p,o,c){var m=o.length;return o=n(o),c?m>2&&c+m<d?r(t(o,0,1))+t(o,1,m-1)+r(t(o,m-1,m)):r(t(o,0,1))+t(o,1,m):m>1&&c+m<d?t(o,0,m-1)+r(t(o,m-1,m)):o}).replace(/(-[a-zA-Z])/g,function(p,o){return r(t(o,1,o.length))}),l[i]=u,u}return Fp=a,Fp}var kp,ES;function rA(){if(ES)return kp;ES=1;var e=eo(),t=mM(),r=bM(),n={};function l(a){if(a=e(a),n[a])return n[a];if(/^[A-Z]+$/.test(a))return r(a);var i=a.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(d,u,p,o){var c=p.length;return c>1?u+"-"+r(t(p,0,c-1))+"-"+r(t(p,c-1,c))+o:r(u+"-"+p+o)}).replace(/^([A-Z]+)([a-z]+)?$/,function(d,u,p){var o=u.length;return r(t(u,0,o-1)+"-"+t(u,o-1,o)+(p||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(d,u,p,o,c){var m=p.length;return m>1&&(u&&(u+="-"),o)?(u||"")+r(t(p,0,m-1))+"-"+r(t(p,m-1,m))+o:(u||"")+(c?"-":"")+r(p)+(o||"")});return i=i.replace(/([-]+)/g,function(d,u,p){return p&&p+u.length<i.length?"-":""}),n[a]=i,i}return kp=l,kp}var $p,RS;function nA(){if(RS)return $p;RS=1;var e=eo();function t(r,n,l){var a=e(r);return(arguments.length===1?a:a.substring(l)).indexOf(n)===0}return $p=t,$p}var Ap,DS;function oA(){if(DS)return Ap;DS=1;var e=eo();function t(r,n,l){var a=e(r),i=arguments.length;return i>1&&(i>2?a.substring(0,l).indexOf(n)===l-1:a.indexOf(n)===a.length-1)}return Ap=t,Ap}var Pp,OS;function xM(){if(OS)return Pp;OS=1;var e=ba(),t=eo(),r=hM(),n=Qi();function l(a,i,d){return t(a).replace((d||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(u,p){return n(i,r(p))})}return Pp=l,Pp}var Lp,TS;function aA(){if(TS)return Lp;TS=1;var e=xM();function t(r,n){return e(r,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return Lp=t,Lp}var Np,MS;function lA(){if(MS)return Np;MS=1;function e(){}return Np=e,Np}var _p,IS;function iA(){if(IS)return _p;IS=1;var e=Il();function t(r,n){var l=e(arguments,2);return function(){return r.apply(n,e(arguments).concat(l))}}return _p=t,_p}var qp,FS;function sA(){if(FS)return qp;FS=1;var e=Il();function t(r,n){var l=!1,a=null,i=e(arguments,2);return function(){return l||(a=r.apply(n,e(arguments).concat(i)),l=!0),a}}return qp=t,qp}var Hp,kS;function cA(){if(kS)return Hp;kS=1;var e=Il();function t(r,n,l){var a=0,i=[];return function(){var d=arguments;a++,a<=r&&i.push(d[0]),a>=r&&n.apply(l,[i].concat(e(d)))}}return Hp=t,Hp}var Vp,$S;function uA(){if($S)return Vp;$S=1;var e=Il();function t(r,n,l){var a=0,i=[];return l=l||this,function(){var d=arguments;a++,a<r&&(i.push(d[0]),n.apply(l,[i].concat(e(d))))}}return Vp=t,Vp}var zp,AS;function dA(){if(AS)return zp;AS=1;function e(t,r,n){var l=null,a=null,i=n||{},d=!1,u=null,p="leading"in i?i.leading:!0,o="trailing"in i?i.trailing:!1,c=function(){l=null,a=null},m=function(){d=!0,t.apply(a,l),u=setTimeout(v,r),c()},v=function(){u=null,!d&&o===!0&&m()},x=function(){var k=u!==null;return k&&clearTimeout(u),c(),u=null,d=!1,k},S=function(){l=arguments,a=this,d=!1,u===null&&(p===!0?m():o===!0&&(u=setTimeout(v,r)))};return S.cancel=x,S}return zp=e,zp}var Bp,PS;function fA(){if(PS)return Bp;PS=1;function e(t,r,n){var l=null,a=null,i=n||{},d=!1,u=null,p=typeof n=="boolean",o="leading"in i?i.leading:p,c="trailing"in i?i.trailing:!p,m=function(){l=null,a=null},v=function(){d=!0,t.apply(a,l),m()},x=function(){o===!0&&(u=null),!d&&c===!0&&v()},S=function(){var E=u!==null;return E&&clearTimeout(u),m(),u=null,d=!1,E},k=function(){d=!1,l=arguments,a=this,u===null?o===!0&&v():clearTimeout(u),u=setTimeout(x,r)};return k.cancel=S,k}return Bp=e,Bp}var Wp,LS;function pA(){if(LS)return Wp;LS=1;var e=Il();function t(r,n){var l=e(arguments,2),a=this;return setTimeout(function(){r.apply(a,l)},n)}return Wp=t,Wp}var Gp,NS;function CM(){if(NS)return Gp;NS=1;var e=decodeURIComponent;return Gp=e,Gp}var Up,_S;function yM(){if(_S)return Up;_S=1;var e=CM(),t=Hn(),r=La();function n(l){var a,i={};return l&&r(l)&&t(l.split("&"),function(d){a=d.split("="),i[e(a[0])]=e(a[1]||"")}),i}return Up=n,Up}var jp,qS;function wM(){if(qS)return jp;qS=1;var e=encodeURIComponent;return jp=e,jp}var Yp,HS;function hA(){if(HS)return Yp;HS=1;var e=wM(),t=bn(),r=qr(),n=Aa(),l=xa(),a=gi();function i(u,p,o){var c,m=[];return t(u,function(v,x){c=r(v),a(v)||c?m=m.concat(i(v,p+"["+x+"]",c)):m.push(e(p+"["+(o?"":x)+"]")+"="+e(n(v)?"":v))}),m}function d(u){var p,o=[];return t(u,function(c,m){l(c)||(p=r(c),a(c)||p?o=o.concat(i(c,m,p)):o.push(e(m)+"="+e(n(c)?"":c)))}),o.join("&").replace(/%20/g,"+")}return Yp=d,Yp}var Kp,VS;function xc(){if(VS)return Kp;VS=1;var e=Jo(),t=typeof location===e?0:location;return Kp=t,Kp}var Xp,zS;function SM(){if(zS)return Xp;zS=1;var e=xc();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return Xp=t,Xp}var Zp,BS;function EM(){if(BS)return Zp;BS=1;var e=xc(),t=yM(),r=SM();function n(a){return t(a.split("?")[1]||"")}function l(a){var i,d,u,p,o=""+a;return o.indexOf("//")===0?o=(e?e.protocol:"")+o:o.indexOf("/")===0&&(o=r()+o),u=o.replace(/#.*/,"").match(/(\?.*)/),p={href:o,hash:"",host:"",hostname:"",protocol:"",port:"",search:u&&u[1]&&u[1].length>1?u[1]:""},p.path=o.replace(/^([a-z0-9.+-]*:)\/\//,function(c,m){return p.protocol=m,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(c,m,v){return d=v||"",p.port=d.replace(":",""),p.hostname=m,p.host=m+d,"/"}).replace(/(#.*)/,function(c,m){return p.hash=m.length>1?m:"",""}),i=p.hash.match(/#((.*)\?|(.*))/),p.pathname=p.path.replace(/(\?|#.*).*/,""),p.origin=p.protocol+"//"+p.host,p.hashKey=i&&(i[2]||i[1])||"",p.hashQuery=n(p.hash),p.searchQuery=n(p.search),p}return Zp=l,Zp}var Jp,WS;function gA(){if(WS)return Jp;WS=1;var e=xc(),t=SM(),r=AT();function n(){if(e){var l=e.pathname,a=r(l,"/")+1;return t()+(a===l.length?l:l.substring(0,a))}return""}return Jp=n,Jp}var Qp,GS;function vA(){if(GS)return Qp;GS=1;var e=xc(),t=EM();function r(){return e?t(e.href):{}}return Qp=r,Qp}var eh,US;function mA(){if(US)return eh;US=1;var e=ba(),t=Wb(),r=CM(),n=wM(),l=qr(),a=fc(),i=ol(),d=xa(),u=vi(),p=$a(),o=Zo(),c=Hn(),m=hc(),v=Po(),x=bc(),S=os(),k=rM();function E($,Y){var H=parseFloat(Y),j=m(),B=v(j);switch($){case"y":return v(x(j,H));case"M":return v(S(j,H));case"d":return v(k(j,H));case"h":case"H":return B+H*60*60*1e3;case"m":return B+H*60*1e3;case"s":return B+H*1e3}return B}function D($){return(i($)?$:new Date($)).toUTCString()}function P($,Y,H){if(t){var j,B,xe,Z,L,ne,Ve=[],Le=arguments;return l($)?Ve=$:Le.length>1?Ve=[o({name:$,value:Y},H)]:a($)&&(Ve=[$]),Ve.length>0?(c(Ve,function(ee){j=o({},e.cookies,ee),xe=[],j.name&&(B=j.expires,xe.push(n(j.name)+"="+n(a(j.value)?JSON.stringify(j.value):j.value)),B&&(isNaN(B)?B=B.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(se,ae,le){return D(E(le,ae))}):/^[0-9]{11,13}$/.test(B)||i(B)?B=D(B):B=D(E("d",B)),j.expires=B),c(["expires","path","domain","secure"],function(se){d(j[se])||xe.push(j[se]&&se==="secure"?se:se+"="+j[se])})),t.cookie=xe.join("; ")}),!0):(Z={},L=t.cookie,L&&c(L.split("; "),function(ee){ne=ee.indexOf("="),Z[r(ee.substring(0,ne))]=r(ee.substring(ne+1)||"")}),Le.length===1?Z[$]:Z)}return!1}function V($){return u(M(),$)}function q($){return P($)}function F($,Y,H){return P($,Y,H),P}function O($,Y){P($,"",o({expires:-1},e.cookies,Y))}function M(){return p(P())}function G(){return P()}return o(P,{has:V,set:F,setItem:F,get:q,getItem:q,remove:O,removeItem:O,keys:M,getJSON:G}),eh=P,eh}var th,jS;function bA(){if(jS)return th;jS=1;var e=Jo(),t=Wb(),r=VT(),n=Zo(),l=Hn();function a(u){try{var p="__xe_t";return u.setItem(p,1),u.removeItem(p),!0}catch(o){return!1}}function i(u){return navigator.userAgent.indexOf(u)>-1}function d(){var u,p,o,c=!1,m=!1,v=!1,x={isNode:!1,isMobile:c,isPC:!1,isDoc:!!t};if(!r&&typeof process!==e)x.isNode=!0;else{o=i("Edge"),p=i("Chrome"),c=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),x.isDoc&&(u=t.body||t.documentElement,l(["webkit","khtml","moz","ms","o"],function(S){x["-"+S]=!!u[S+"MatchesSelector"]}));try{m=a(r.localStorage)}catch(S){}try{v=a(r.sessionStorage)}catch(S){}n(x,{edge:o,firefox:i("Firefox"),msie:!o&&x["-ms"],safari:!p&&!o&&i("Safari"),isMobile:c,isPC:!c,isLocalStorage:m,isSessionStorage:v})}return x}return th=d,th}var rh,YS;function xA(){if(YS)return rh;YS=1;var e=$k(),t=Zo(),r=Ji(),n=dT(),l=Ak(),a=Pk(),i=nl(),d=pT(),u=hT(),p=gT(),o=Hn(),c=qb(),m=vT(),v=Lk(),x=Hb(),S=Nk(),k=zb(),E=xT(),D=_k(),P=Il(),V=qk(),q=Hk(),F=vi(),O=Vk(),M=zk(),G=Bk(),$=Wk(),Y=Gk(),H=Uk(),j=ET(),B=jk(),xe=Yk(),Z=yT(),L=Kk(),ne=Xk(),Ve=Zk(),Le=Jk(),ee=MT(),se=Qk(),ae=e$(),le=t$(),Ee=IT(),Oe=FT(),Be=Xo(),K=qr(),pe=Aa(),J=r$(),ie=xa(),Ae=Jn(),_e=fc(),_=La(),Fe=gi(),Pe=kT(),et=ol(),Ge=Pa(),ut=bn(),gt=o$(),_t=a$(),qt=l$(),Ht=AT(),Tt=$a(),Dt=mi(),Lt=_b(),wt=PT(),ct=DT(),bt=TT(),St=OT(),Ye=i$(),X=s$(),W=LT(),ge=NT(),be=Ca(),U=Bb(),te=_T(),re=c$(),$e=qT(),qe=HT(),Je=u$(),lt=d$(),Ct=f$(),rt=p$(),ve=h$(),Me=g$(),ke=v$(),Ue=m$(),Qe=b$(),Xe=x$(),dt=GT(),Ke=C$(),ft=y$(),Rt=w$(),Q=Gb(),Re=S$(),nt=E$(),vt=R$(),st=D$(),It=O$(),pt=T$(),Pt=M$(),yt=I$(),ht=F$(),Ut=Qi(),Wt=k$(),jt=jT(),Qt=$$(),ir=YT(),zt=A$(),dr=bT(),pr=ST(),Wr=P$(),$r=L$(),an=jb(),Ro=ZT(),zn=JT(),Dn=Yb(),oo=N$(),ao=Ml(),Bn=al(),On=_$(),Tn=q$(),y=Kb(),Do=H$(),Qr=tM(),qo=V$(),Oo=bc(),An=z$(),lo=os(),ln=rM(),Wn=Qn(),Ho=uM(),dn=dM(),Vo=G$(),io=Lo(),To=U$(),Mn=aM(),xn=sM(),so=iM(),Sa=j$(),co=Y$(),Mo=K$(),Gn=X$(),Cn=Z$(),Io=cM(),zo=J$(),yn=hM(),ra=fM(),tn=pM(),Or=Q$(),fn=eA(),na=tA(),Hr=rA(),uo=nA(),fo=oA(),oa=xM(),aa=aA(),Un=eo(),po=lA(),jn=hi(),Pn=iA(),cr=sA(),Lr=cA(),sn=uA(),cl=dA(),Al=fA(),Va=pA(),I=yM(),he=hA(),Te=EM(),je=gA(),mt=vA(),xt=mA(),Vt=bA();return t(e,{assign:t,objectEach:r,lastObjectEach:n,objectMap:l,merge:a,uniq:m,union:v,sortBy:S,orderBy:k,shuffle:E,sample:D,some:d,every:u,slice:P,filter:V,find:O,findLast:M,findKey:q,includes:F,arrayIndexOf:Ee,arrayLastIndexOf:Oe,map:i,reduce:G,copyWithin:$,chunk:Y,zip:H,unzip:j,zipObject:B,flatten:xe,toArray:x,includeArrays:p,pluck:Z,invoke:L,arrayEach:o,lastArrayEach:c,toArrayTree:ne,toTreeArray:Ve,findTree:Le,eachTree:ee,mapTree:se,filterTree:ae,searchTree:le,hasOwnProp:Be,eqNull:Ge,isNaN:J,isFinite:Ye,isUndefined:ie,isArray:K,isFloat:X,isInteger:W,isFunction:Ae,isBoolean:ge,isString:_,isNumber:be,isRegExp:U,isObject:_e,isPlainObject:Fe,isDate:et,isError:te,isTypeError:re,isEmpty:$e,isNull:pe,isSymbol:qe,isArguments:Je,isElement:lt,isDocument:Ct,isWindow:rt,isFormData:ve,isMap:Me,isWeakMap:ke,isSet:Ue,isWeakSet:Qe,isLeapYear:Pe,isMatch:Xe,isEqual:dt,isEqualWith:Ke,getType:ft,uniqueId:Rt,getSize:wt,indexOf:qt,lastIndexOf:Ht,findIndexOf:Q,findLastIndexOf:Re,toStringJSON:nt,toJSONString:vt,keys:Tt,values:Dt,entries:st,pick:It,omit:pt,first:Pt,last:yt,each:ut,forOf:gt,lastForOf:_t,lastEach:ct,has:ht,get:Ut,set:Wt,groupBy:jt,countBy:Qt,clone:Lt,clear:St,remove:bt,range:ir,destructuring:zt,random:dr,min:Wr,max:pr,commafy:$r,round:an,ceil:Ro,floor:zn,toFixed:Dn,toNumber:ao,toNumberString:Bn,toInteger:oo,add:On,subtract:Tn,multiply:y,divide:Do,sum:Qr,mean:qo,now:dn,timestamp:Vo,isValidDate:io,isDateSame:To,toStringDate:Wn,toDateString:Ho,getWhatYear:Oo,getWhatQuarter:An,getWhatMonth:lo,getWhatWeek:Mn,getWhatDay:ln,getYearDay:xn,getYearWeek:so,getMonthWeek:Sa,getDayOfYear:co,getDayOfMonth:Mo,getDateDiff:Gn,trim:yn,trimLeft:tn,trimRight:ra,escape:Or,unescape:fn,camelCase:na,kebabCase:Hr,repeat:zo,padStart:Io,padEnd:Cn,startsWith:uo,endsWith:fo,template:oa,toFormatString:aa,toString:Un,toValueString:Un,noop:po,property:jn,bind:Pn,once:cr,after:Lr,before:sn,throttle:cl,debounce:Al,delay:Va,unserialize:I,serialize:he,parseUrl:Te,getBaseURL:je,locat:mt,browse:Vt,cookie:xt}),rh=e,rh}var CA=xA();const wr=uc(CA);var ai=null,nh=null,Ua=null,KS="z-index-manage",ml=null,XS="z-index-style",RM="m",DM="s",Yi={m:1e3,s:1e3};function Xb(){return ai||typeof document!="undefined"&&(ai=document),ai}function OM(){return ai&&!nh&&(nh=ai.body||ai.getElementsByTagName("body")[0]),nh}function yA(){var e=0,t=Xb();if(t){var r=OM();if(r)for(var n=r.getElementsByTagName("*"),l=0;l<n.length;l++){var a=n[l];if(a&&a.style&&a.nodeType===1){var i=a.style.zIndex;i&&/^\d+$/.test(i)&&(e=Math.max(e,Number(i)))}}}return e}function wA(){if(!ml){var e=Xb();e&&(ml=e.getElementById(XS),ml||(ml=e.createElement("style"),ml.id=XS,e.getElementsByTagName("head")[0].appendChild(ml)))}return ml}function TM(){var e=wA();if(e){var t="--dom-",r="-z-index";e.innerHTML=":root{"+t+"main"+r+":"+Cc()+";"+t+"sub"+r+":"+Qb()+"}"}}function MM(){if(!Ua){var e=Xb();if(e&&(Ua=e.getElementById(KS),!Ua)){var t=OM();t&&(Ua=e.createElement("div"),Ua.id=KS,Ua.style.display="none",t.appendChild(Ua),Zb(Yi.m),Jb(Yi.s))}}return Ua}function IM(e){return function(t){if(t){t=Number(t),Yi[e]=t;var r=MM();r&&(r.dataset?r.dataset[e]=t+"":r.setAttribute("data-"+e,t+""))}return TM(),Yi[e]}}var Zb=IM(RM);function FM(e,t){return function(n){var l,a=MM();if(a){var i=a.dataset?a.dataset[e]:a.getAttribute("data-"+e);i&&(l=Number(i))}return l||(l=Yi[e]),n?Number(n)<l?t():n:l}}var Cc=FM(RM,kM);function kM(){return Zb(Cc()+1)}var Jb=IM(DM),$M=FM(DM,AM);function Qb(){return Cc()+$M()}function AM(){return Jb($M()+1),Qb()}var as={setCurrent:Zb,getCurrent:Cc,getNext:kM,setSubCurrent:Jb,getSubCurrent:Qb,getSubNext:AM,getMax:yA};TM();const di={size:"",version:1,zIndex:999,resizeInterval:500},PM={theme:""};function ex(e){const t=!e||e==="default"?"light":e;if(PM.theme=t,typeof document!="undefined"){const r=document.documentElement;r&&r.setAttribute("data-vxe-ui-theme",t)}return Tl}function SA(){return PM.theme}function yc(e){return e&&(e.zIndex&&as.setCurrent(e.zIndex),e.theme&&ex(e.theme),wr.merge(di,e)),Tl}function We(e,t){return arguments.length?wr.get(di,e,t):di}const EA={},Ob={};function LM(e){return e&&Object.assign(Ob,e),Tl}function lr(e){return arguments.length?wr.get(Ob,e):Ob}const ur={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},Tb=wr.browse(),ZS={" ":"Spacebar",Apps:ur.CONTEXT_MENU,Del:ur.DELETE,Up:ur.ARROW_UP,Down:ur.ARROW_DOWN,Left:ur.ARROW_LEFT,Right:ur.ARROW_RIGHT},NM=Tb.firefox?"DOMMouseScroll":"mousewheel",Mb=[];function Da(e){const t=e.type===NM;Mb.forEach(({type:r,cb:n})=>{e.cancelBubble||(r===e.type||t&&r==="mousewheel")&&n(e)})}class RA{constructor(t,r,n){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=t,t&&(t.type&&(this.type=t.type),t.key&&(this.key=t.key),t.code&&(this.code=t.code)),Object.assign(this,r),wr.objectEach(n,(l,a)=>{if(wr.isFunction(l)){let i=null,d=!1;Object.defineProperty(this,a,{get(){return d||(d=!0,i=l()),i}})}else this[a]=l})}stopPropagation(){const t=this.$event;t&&t.stopPropagation()}preventDefault(){const t=this.$event;t&&t.preventDefault()}}const $n=(e,t,r)=>new RA(e,t,r),Kt={on(e,t,r){Mb.push({comp:e,type:t,cb:r})},off(e,t){wr.remove(Mb,r=>r.comp===e&&r.type===t)},hasKey(e,t){const{key:r}=e;return t=t.toLowerCase(),r?t===r.toLowerCase()||!!(ZS[r]&&ZS[r].toLowerCase()===t):!1}};Tb.isDoc&&(Tb.msie||(window.addEventListener("copy",Da,!1),window.addEventListener("cut",Da,!1),window.addEventListener("paste",Da,!1)),document.addEventListener("keydown",Da,!1),document.addEventListener("contextmenu",Da,!1),window.addEventListener("mousedown",Da,!1),window.addEventListener("blur",Da,!1),window.addEventListener("resize",Da,!1),window.addEventListener(NM,wr.throttle(Da,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let JS;const wl=[],DA=500;function OA(){wl.length&&(wl.forEach(e=>{e.tarList.forEach(t=>{const{target:r,width:n,heighe:l}=t,a=r.clientWidth,i=r.clientHeight;(a&&n!==a||i&&l!==i)&&(t.width=a,t.heighe=i,setTimeout(e.callback))})}),_M())}function _M(){clearTimeout(JS),JS=setTimeout(OA,di.resizeInterval||DA)}class TA{constructor(t){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=t}observe(t){if(t){const{tarList:r}=this;r.some(n=>n.target===t)||r.push({target:t,width:t.clientWidth,heighe:t.clientHeight}),wl.length||_M(),wl.some(n=>n===this)||wl.push(this)}}unobserve(t){wr.remove(wl,r=>r.tarList.some(n=>n.target===t))}disconnect(){wr.remove(wl,t=>t===this)}}const MA={create(e){return window.ResizeObserver?new window.ResizeObserver(e):new TA(e)}},ls=zr({language:"",langMaps:{}});let QS=!1;function Jt(e,t){const{langMaps:r,language:n}=ls,{i18n:l}=di;return l?`${l(e,t)||""}`:(QS||(r[n]||console.error(`[vxe core] Language not installed. https://${Tl.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),QS=!0),wr.toFormatString(wr.get(r[n],e,e),t))}function IA(e){return ls.language=e||"zh-CN",Tl}function FA(e,t){return ls.langMaps[e]=Object.assign({},t),Tl}function kA(e){const{langMaps:t}=ls;return!!t[e]}function $A(){const{language:e}=ls;return e}function oh(e,t){return function(r,n){const l=`[vxe ${t||""}] ${Jt(r,n)}`;return console[e](l),l}}const eE="4.0.39",tx={create:oh,warn:oh("warn",`v${eE}`),err:oh("error",`v${eE}`)},Oi={},Xl={mixin(e){return wr.each(e,(t,r)=>Xl.add(r,t)),Xl},get(e){return Oi[e]||null},add(e,t){if(e&&t){const r=Oi[e];r?Object.assign(r,t):Oi[e]=t}return Xl},forEach(e){return wr.objectEach(Oi,e),Xl},delete(e){return delete Oi[e],Xl}};class qM{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return wr.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];return this.store[t]=n?wr.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){wr.objectEach(this.store,t)}}const AA=new qM;class PA{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return wr.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];return wr.isFunction(r)&&(r={menuMethod:r}),this.store[t]=n?wr.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){wr.objectEach(this.store,t)}}const LA=new PA;class NA{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return wr.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];return wr.isFunction(r)&&(r={cellFormatMethod:r}),this.store[t]=n?wr.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){wr.objectEach(this.store,t)}}const _A=new NA;class qA{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(t){return wr.each(t,(r,n)=>{this.add(n,r)}),this}has(t){return!!this.get(t)}get(t){return this.store[t]}add(t,r){const n=this.store[t];return wr.isFunction(r)&&(r={commandMethod:r}),this.store[t]=n?wr.merge(n,r):r,this}delete(t){delete this.store[t]}forEach(t){wr.objectEach(this.store,t)}}const HA=new qA,Ti={},Bs={mixin(e){return wr.each(e,(t,r)=>{Bs.add(r,t)}),Bs},get(e){return Ti[e]||[]},add(e,t){wr.isFunction(t)&&(t={tableInterceptorMethod:t});const r=t.tableInterceptorMethod;if(r){let n=Ti[e];n||(n=Ti[e]=[]),n.push(r)}return Bs},delete(e,t){const r=Ti[e];if(r){wr.isFunction(t)&&(t={tableInterceptorMethod:t});const n=t?t.tableInterceptorMethod:null;n?wr.remove(r,l=>l===n):delete Ti[e]}}};let da;const Mi={text:"",html:""};function VA(e){if(!da){da=document.createElement("textarea"),da.id="$VxeCopy";const t=da.style;t.width="48px",t.height="24px",t.position="fixed",t.zIndex="0",t.left="-500px",t.top="-500px",document.body.appendChild(da)}da.value=e}const zA={getStore(){return Mi},setStore(e){Object.assign(Mi,e||{})},copy(e){let t=!1;try{const r=wr.toValueString(e);VA(r),da.select(),da.setSelectionRange(0,da.value.length),t=document.execCommand("copy"),da.blur(),Mi.text=r,Mi.html=""}catch(r){}return t},getText(){return Mi.text||""}};function Ws(e,t){let r=!0,n=!1;const l=t||di.permissionMethod;if(e&&l){r=!1,n=!0;let i=!1,d=!1;const u=String(e).split("|");for(let p=0;p<u.length;p++){const o=u[p];let c=!0,m=!1;const v=l({code:o});if(wr.isBoolean(v)?c=v:v&&(c=!!v.visible,m=!!v.disabled),!m&&!d&&(d=!0,n=m),c&&!i&&(i=!0,r=c),i&&d)break}}return{code:e,visible:r,disabled:n}}const BA={getCheckInfo(e){return Ws(e)},checkVisible(e){return Ws(e).visible},checkDisable(e){return Ws(e).disabled}},WA=new qM;function Vn(e){const t=or("xeSizeInfo",null),r=ue(()=>e.size||(t?t.value:null));return Ko("xeSizeInfo",r),{computeSize:r}}function HM(e){return{computePermissionInfo:ue(()=>Ws(e.permissionCode,e.permissionMethod))}}const GA={useSize:Vn,usePermission:HM},tE=[];function UA(e,t){return e&&e.install&&tE.indexOf(e)===-1&&(e.install(Se,t),tE.push(e)),Se}const Ib={};function jA(e){return Ib[e]||null}function YA(e){e&&e.name&&(Ib[e.name]=e,Ib[wr.kebabCase(e.name)]=e)}function Uo(){return Ze()}const Se=Object.assign(Tl,{renderEmptyElement:Uo,setTheme:ex,getTheme:SA,setConfig:yc,getConfig:We,setIcon:LM,getIcon:lr,setLanguage:IA,hasLanguage:kA,getLanguage:$A,setI18n:FA,getI18n:Jt,globalEvents:Kt,GLOBAL_EVENT_KEYS:ur,createEvent:$n,globalResize:MA,renderer:Xl,validators:AA,menus:LA,formats:_A,commands:HA,interceptor:Bs,clipboard:zA,log:tx,permission:BA,globalStore:EA,hooks:WA,component:YA,getComponent:jA,useFns:GA,use:UA});ex();var ah,rE;function Na(){if(rE)return ah;rE=1;var e={cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1};return ah=e,ah}var lh,nE;function to(){if(nE)return lh;nE=1;function e(t,r,n){if(t)if(t.forEach)t.forEach(r,n);else for(var l=0,a=t.length;l<a;l++)r.call(n,t[l],l,t)}return lh=e,lh}var ih,oE;function VM(){if(oE)return ih;oE=1;var e=Object.prototype.toString;return ih=e,ih}var sh,aE;function is(){if(aE)return sh;aE=1;var e=VM();function t(r){return function(n){return"[object "+r+"]"===e.call(n)}}return sh=t,sh}var ch,lE;function Br(){if(lE)return ch;lE=1;var e=is(),t=Array.isArray||e("Array");return ch=t,ch}var uh,iE;function Qo(){if(iE)return uh;iE=1;function e(t,r){return t&&t.hasOwnProperty?t.hasOwnProperty(r):!1}return uh=e,uh}var dh,sE;function ss(){if(sE)return dh;sE=1;var e=Qo();function t(r,n,l){if(r)for(var a in r)e(r,a)&&n.call(l,r[a],a,r)}return dh=t,dh}var fh,cE;function un(){if(cE)return fh;cE=1;var e=Br(),t=to(),r=ss();function n(l,a,i){return l&&(e(l)?t:r)(l,a,i)}return fh=n,fh}var ph,uE;function xi(){if(uE)return ph;uE=1;function e(t){return function(r){return typeof r===t}}return ph=e,ph}var hh,dE;function So(){if(dE)return hh;dE=1;var e=xi(),t=e("function");return hh=t,hh}var gh,fE;function rx(){if(fE)return gh;fE=1;var e=un();function t(r,n){var l=Object[r];return function(a){var i=[];if(a){if(l)return l(a);e(a,n>1?function(d){i.push([""+d,a[d]])}:function(){i.push(arguments[n])})}return i}}return gh=t,gh}var vh,pE;function _a(){if(pE)return vh;pE=1;var e=rx(),t=e("keys",1);return vh=t,vh}var mh,hE;function nx(){if(hE)return mh;hE=1;var e=VM(),t=ss(),r=to();function n(d,u){var p=d.__proto__.constructor;return u?new p(u):new p}function l(d,u){return u?a(d,u):d}function a(d,u){if(d)switch(e.call(d)){case"[object Object]":{var p=Object.create(Object.getPrototypeOf(d));return t(d,function(v,x){p[x]=l(v,u)}),p}case"[object Date]":case"[object RegExp]":return n(d,d.valueOf());case"[object Array]":case"[object Arguments]":{var o=[];return r(d,function(v){o.push(l(v,u))}),o}case"[object Set]":{var c=n(d);return c.forEach(function(v){c.add(l(v,u))}),c}case"[object Map]":{var m=n(d);return m.forEach(function(v,x){m.set(x,l(v,u))}),m}}return d}function i(d,u){return d&&a(d,u)}return mh=i,mh}var bh,gE;function ea(){if(gE)return bh;gE=1;var e=to(),t=_a(),r=Br(),n=nx(),l=Object.assign;function a(d,u,p){for(var o=u.length,c,m=1;m<o;m++)c=u[m],e(t(u[m]),p?function(v){d[v]=n(c[v],p)}:function(v){d[v]=c[v]});return d}var i=function(d){if(d){var u=arguments;if(d===!0){if(u.length>1)return d=r(d[1])?[]:{},a(d,u,!0)}else return l?l.apply(Object,u):a(d,u)}return d};return bh=i,bh}var xh,vE;function KA(){if(vE)return xh;vE=1;var e=Na(),t=to(),r=un(),n=So(),l=ea(),a=function(){};function i(){t(arguments,function(u){r(u,function(p,o){a[o]=n(p)?function(){var c=p.apply(a.$context,arguments);return a.$context=null,c}:p})})}function d(u){return l(e,u)}return a.VERSION="3.5.30",a.mixin=i,a.setup=d,xh=a,xh}var Ch,mE;function ox(){if(mE)return Ch;mE=1;function e(t,r,n){for(var l=t.length-1;l>=0;l--)r.call(n,t[l],l,t)}return Ch=e,Ch}var yh,bE;function zM(){if(bE)return yh;bE=1;var e=ox(),t=_a();function r(n,l,a){e(t(n),function(i){l.call(a,n[i],i,n)})}return yh=r,yh}var wh,xE;function qa(){if(xE)return wh;xE=1;function e(t){return t===null}return wh=e,wh}var Sh,CE;function Ci(){if(CE)return Sh;CE=1;var e=qa();function t(r,n){return function(l){return e(l)?n:l[r]}}return Sh=t,Sh}var Eh,yE;function XA(){if(yE)return Eh;yE=1;var e=un(),t=So(),r=Ci();function n(l,a,i){var d={};if(l)if(a)t(a)||(a=r(a)),e(l,function(u,p){d[p]=a.call(i,u,p,l)});else return l;return d}return Eh=n,Eh}var Rh,wE;function yi(){if(wE)return Rh;wE=1;function e(t){return t?t.constructor===Object:!1}return Rh=e,Rh}var Dh,SE;function ZA(){if(SE)return Dh;SE=1;var e=Br(),t=yi(),r=un();function n(a,i){return t(a)&&t(i)||e(a)&&e(i)?(r(i,function(d,u){a[u]=n(a[u],d)}),a):i}var l=function(a){a||(a={});for(var i=arguments,d=i.length,u,p=1;p<d;p++)u=i[p],u&&n(a,u);return a};return Dh=l,Dh}var Oh,EE;function Fl(){if(EE)return Oh;EE=1;var e=un();function t(r,n,l){var a=[];if(r&&arguments.length>1){if(r.map)return r.map(n,l);e(r,function(){a.push(n.apply(l,arguments))})}return a}return Oh=t,Oh}var Th,RE;function wc(){if(RE)return Th;RE=1;var e=Qo(),t=Br();function r(n,l,a,i,d){return function(u,p,o){if(u&&p){if(n&&u[n])return u[n](p,o);if(l&&t(u)){for(var c=0,m=u.length;c<m;c++)if(!!p.call(o,u[c],c,u)===i)return[!0,!1,c,u[c]][a]}else for(var v in u)if(e(u,v)&&!!p.call(o,u[v],v,u)===i)return[!0,!1,v,u[v]][a]}return d}}return Th=r,Th}var Mh,DE;function BM(){if(DE)return Mh;DE=1;var e=wc(),t=e("some",1,0,!0,!1);return Mh=t,Mh}var Ih,OE;function WM(){if(OE)return Ih;OE=1;var e=wc(),t=e("every",1,1,!1,!0);return Ih=t,Ih}var Fh,TE;function cs(){if(TE)return Fh;TE=1;var e=Qo();function t(r,n){if(r){if(r.includes)return r.includes(n);for(var l in r)if(e(r,l)&&n===r[l])return!0}return!1}return Fh=t,Fh}var kh,ME;function GM(){if(ME)return kh;ME=1;var e=Br(),t=cs();function r(n,l){var a,i=0;if(e(n)&&e(l)){for(a=l.length;i<a;i++)if(!t(n,l[i]))return!1;return!0}return t(n,l)}return kh=r,kh}var $h,IE;function UM(){if(IE)return $h;IE=1;var e=un(),t=cs(),r=So(),n=Ci();function l(a,i,d){var u=[];if(i){r(i)||(i=n(i));var p,o={};e(a,function(c,m){p=i.call(d,c,m,a),o[p]||(o[p]=1,u.push(c))})}else e(a,function(c){t(u,c)||u.push(c)});return u}return $h=l,$h}var Ah,FE;function ax(){if(FE)return Ah;FE=1;var e=Fl();function t(r){return e(r,function(n){return n})}return Ah=t,Ah}var Ph,kE;function JA(){if(kE)return Ph;kE=1;var e=UM(),t=ax();function r(){for(var n=arguments,l=[],a=0,i=n.length;a<i;a++)l=l.concat(t(n[a]));return e(l)}return Ph=r,Ph}var Lh,$E;function ta(){if($E)return Lh;$E=1;var e="undefined";return Lh=e,Lh}var Nh,AE;function ya(){if(AE)return Nh;AE=1;var e=ta(),t=xi(),r=t(e);return Nh=r,Nh}var _h,PE;function ll(){if(PE)return _h;PE=1;var e=qa(),t=ya();function r(n){return e(n)||t(n)}return _h=r,_h}var qh,LE;function jM(){if(LE)return qh;LE=1;var e=/(.+)?\[(\d+)\]$/;return qh=e,qh}var Hh,NE;function lx(){if(NE)return Hh;NE=1;function e(t){return t?t.splice&&t.join?t:(""+t).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}return Hh=e,Hh}var Vh,_E;function us(){if(_E)return Vh;_E=1;var e=jM(),t=lx(),r=Qo(),n=ya(),l=ll();function a(u,p,o){if(l(u))return o;var c=d(u,p);return n(c)?o:c}function i(u,p){var o=p?p.match(e):"";return o?o[1]?u[o[1]]?u[o[1]][o[2]]:void 0:u[o[2]]:u[p]}function d(u,p){if(u){var o,c,m,v=0;if(u[p]||r(u,p))return u[p];if(c=t(p),m=c.length,m){for(o=u;v<m;v++)if(o=i(o,c[v]),l(o))return v===m-1?o:void 0}return o}}return Vh=a,Vh}var zh,qE;function ix(){if(qE)return zh;qE=1;var e=to(),t=ax(),r=Fl(),n=Br(),l=So(),a=yi(),i=ya(),d=qa(),u=ll(),p=us(),o=Ci(),c="asc",m="desc";function v(E,D){return i(E)?1:d(E)?i(D)?-1:1:E&&E.localeCompare?E.localeCompare(D):E>D?1:-1}function x(E,D,P){return function(V,q){var F=V[E],O=q[E];return F===O?P?P(V,q):0:D.order===m?v(O,F):v(F,O)}}function S(E,D,P,V){var q=[];return P=n(P)?P:[P],e(P,function(F,O){if(F){var M=F,G;n(F)?(M=F[0],G=F[1]):a(F)&&(M=F.field,G=F.order),q.push({field:M,order:G||c}),e(D,l(M)?function($,Y){$[O]=M.call(V,$.data,Y,E)}:function($){$[O]=M?p($.data,M):$.data})}}),q}function k(E,D,P){if(E){if(u(D))return t(E).sort(v);for(var V,q=r(E,function(M){return{data:M}}),F=S(E,q,D,P),O=F.length-1;O>=0;)V=x(O,F[O],V),O--;return V&&(q=q.sort(V)),r(q,o("data"))}return[]}return zh=k,zh}var Bh,HE;function QA(){if(HE)return Bh;HE=1;var e=ix(),t=e;return Bh=t,Bh}var Wh,VE;function YM(){if(VE)return Wh;VE=1;function e(t,r){return t>=r?t:(t=t>>0)+Math.round(Math.random()*((r||9)-t))}return Wh=e,Wh}var Gh,zE;function wi(){if(zE)return Gh;zE=1;var e=rx(),t=e("values",0);return Gh=t,Gh}var Uh,BE;function KM(){if(BE)return Uh;BE=1;var e=YM(),t=wi();function r(n){for(var l,a=[],i=t(n),d=i.length-1;d>=0;d--)l=d>0?e(0,d):0,a.push(i[l]),i.splice(l,1);return a}return Uh=r,Uh}var jh,WE;function eP(){if(WE)return jh;WE=1;var e=KM();function t(r,n){var l=e(r);return arguments.length<=1?l[0]:(n<l.length&&(l.length=n||0),l)}return jh=t,jh}var Yh,GE;function XM(){if(GE)return Yh;GE=1;function e(t){return function(r){if(r){var n=t(r&&r.replace?r.replace(/,/g,""):r);if(!isNaN(n))return n}return 0}}return Yh=e,Yh}var Kh,UE;function kl(){if(UE)return Kh;UE=1;var e=XM(),t=e(parseFloat);return Kh=t,Kh}var Xh,jE;function $l(){if(jE)return Xh;jE=1;var e=kl();function t(r,n,l){var a=[],i=arguments.length;if(r){if(n=i>=2?e(n):0,l=i>=3?e(l):r.length,r.slice)return r.slice(n,l);for(;n<l;n++)a.push(r[n])}return a}return Xh=t,Xh}var Zh,YE;function tP(){if(YE)return Zh;YE=1;var e=un();function t(r,n,l){var a=[];if(r&&n){if(r.filter)return r.filter(n,l);e(r,function(i,d){n.call(l,i,d,r)&&a.push(i)})}return a}return Zh=t,Zh}var Jh,KE;function rP(){if(KE)return Jh;KE=1;var e=wc(),t=e("",0,2,!0);return Jh=t,Jh}var Qh,XE;function nP(){if(XE)return Qh;XE=1;var e=wc(),t=e("find",1,3,!0);return Qh=t,Qh}var eg,ZE;function oP(){if(ZE)return eg;ZE=1;var e=Br(),t=wi();function r(n,l,a){if(n){e(n)||(n=t(n));for(var i=n.length-1;i>=0;i--)if(l.call(a,n[i],i,n))return n[i]}}return eg=r,eg}var tg,JE;function aP(){if(JE)return tg;JE=1;var e=_a();function t(r,n,l){if(r){var a,i,d=0,u=null,p=l,o=arguments.length>2,c=e(r);if(r.length&&r.reduce)return i=function(){return n.apply(u,arguments)},o?r.reduce(i,p):r.reduce(i);for(o&&(d=1,p=r[c[0]]),a=c.length;d<a;d++)p=n.call(u,p,r[c[d]],d,r);return p}}return tg=t,tg}var rg,QE;function lP(){if(QE)return rg;QE=1;var e=Br();function t(r,n,l,a){if(e(r)&&r.copyWithin)return r.copyWithin(n,l,a);var i,d,u=n>>0,p=l>>0,o=r.length,c=arguments.length>3?a>>0:o;if(u<o&&(u=u>=0?u:o+u,u>=0&&(p=p>=0?p:o+p,c=c>=0?c:o+c,p<c)))for(i=0,d=r.slice(p,c);u<o&&!(d.length<=i);u++)r[u]=d[i++];return r}return rg=t,rg}var ng,e1;function iP(){if(e1)return ng;e1=1;var e=Br();function t(r,n){var l,a=[],i=n>>0||1;if(e(r))if(i>=0&&r.length>i)for(l=0;l<r.length;)a.push(r.slice(l,l+i)),l+=i;else a=r.length?[r]:r;return a}return ng=t,ng}var og,t1;function ZM(){if(t1)return og;t1=1;var e=Fl(),t=Ci();function r(n,l){return e(n,t(l))}return og=r,og}var ag,r1;function JM(){if(r1)return ag;r1=1;var e=So(),t=ll(),r=us(),n=to();function l(a){return function(i,d){if(i&&i.length){var u,p;return n(i,function(o,c){d&&(o=e(d)?d(o,c,i):r(o,d)),!t(o)&&(t(u)||a(u,o))&&(p=c,u=o)}),i[p]}return u}}return ag=l,ag}var lg,n1;function QM(){if(n1)return lg;n1=1;var e=JM(),t=e(function(r,n){return r<n});return lg=t,lg}var ig,o1;function eI(){if(o1)return ig;o1=1;var e=ZM(),t=QM();function r(n){var l,a,i,d=[];if(n&&n.length)for(l=0,a=t(n,function(u){return u?u.length:0}),i=a?a.length:0;l<i;l++)d.push(e(n,l));return d}return ig=r,ig}var sg,a1;function sP(){if(a1)return sg;a1=1;var e=eI();function t(){return e(arguments)}return sg=t,sg}var cg,l1;function cP(){if(l1)return cg;l1=1;var e=wi(),t=un();function r(n,l){var a={};return l=l||[],t(e(n),function(i,d){a[i]=l[d]}),a}return cg=r,cg}var ug,i1;function uP(){if(i1)return ug;i1=1;var e=Br(),t=to();function r(l,a){var i=[];return t(l,function(d){i=i.concat(e(d)?a?r(d,a):d:[d])}),i}function n(l,a){return e(l)?r(l,a):[]}return ug=n,ug}var dg,s1;function dP(){if(s1)return dg;s1=1;var e=Fl(),t=Br();function r(l,a){for(var i=0,d=a.length;l&&i<d;)l=l[a[i++]];return d&&l?l:0}function n(l,a){for(var i,d=arguments,u=[],p=[],o=2,c=d.length;o<c;o++)u.push(d[o]);if(t(a)){for(c=a.length-1,o=0;o<c;o++)p.push(a[o]);a=a[c]}return e(l,function(m){if(p.length&&(m=r(m,p)),i=m[a]||a,i&&i.apply)return i.apply(m,u)})}return dg=n,dg}var fg,c1;function tI(){if(c1)return fg;c1=1;function e(t,r){try{delete t[r]}catch(n){t[r]=void 0}}return fg=e,fg}var pg,u1;function rI(){if(u1)return pg;u1=1;var e=Br(),t=ox(),r=zM();function n(l,a,i){return l&&(e(l)?t:r)(l,a,i)}return pg=n,pg}var hg,d1;function Sc(){if(d1)return hg;d1=1;var e=xi(),t=e("object");return hg=t,hg}var gg,f1;function nI(){if(f1)return gg;f1=1;var e=tI(),t=yi(),r=Sc(),n=Br(),l=qa(),a=ea(),i=ss();function d(u,p,o){if(u){var c,m=arguments.length>1&&(l(p)||!r(p)),v=m?o:p;if(t(u))i(u,m?function(x,S){u[S]=p}:function(x,S){e(u,S)}),v&&a(u,v);else if(n(u)){if(m)for(c=u.length;c>0;)c--,u[c]=p;else u.length=0;v&&u.push.apply(u,v)}}return u}return gg=d,gg}var vg,p1;function oI(){if(p1)return vg;p1=1;var e=tI(),t=So(),r=Br(),n=un(),l=to(),a=rI(),i=nI(),d=ll();function u(o){return function(c,m){return m===o}}function p(o,c,m){if(o){if(!d(c)){var v=[],x=[];return t(c)||(c=u(c)),n(o,function(S,k,E){c.call(m,S,k,E)&&v.push(k)}),r(o)?a(v,function(S,k){x.push(o[S]),o.splice(S,1)}):(x={},l(v,function(S){x[S]=o[S],e(o,S)})),x}return i(o)}return o}return vg=p,vg}var mg,h1;function fP(){if(h1)return mg;h1=1;var e=Na();Fl();var t=ix(),r=nx(),n=ll(),l=un(),a=oI(),i=ea();function d(p,o){l(p,function(c){c[o]&&!c[o].length&&a(c,o)})}function u(p,o){var c=i({},e.treeOptions,o),m=c.strict,v=c.key,x=c.parentKey,S=c.children,k=c.mapChildren,E=c.sortKey,D=c.reverse,P=c.data,V=[],q={},F={},O,M,G;return E&&(p=t(r(p),E),D&&(p=p.reverse())),l(p,function($){O=$[v],F[O]=!0}),l(p,function($){O=$[v],P?(M={},M[P]=$):M=$,G=$[x],q[O]=q[O]||[],M[v]=O,M[x]=G,O===G&&(G=null,console.log("Fix infinite Loop.",$)),q[G]=q[G]||[],q[G].push(M),M[S]=q[O],k&&(M[k]=q[O]),(!m||m&&n(G))&&(F[G]||V.push(M))}),m&&d(p,S),V}return mg=u,mg}var bg,g1;function pP(){if(g1)return bg;g1=1;var e=Na(),t=un(),r=ea();function n(a,i,d){var u=d.children,p=d.data,o=d.clear;return t(i,function(c){var m=c[u];p&&(c=c[p]),a.push(c),m&&m.length&&n(a,m,d),o&&delete c[u]}),a}function l(a,i){return n([],a,r({},e.treeOptions,i))}return bg=l,bg}var xg,v1;function Ec(){if(v1)return xg;v1=1;function e(t){return function(r,n,l,a){var i=l||{},d=i.children||"children";return t(null,r,n,a,[],[],d,i)}}return xg=e,xg}var Cg,m1;function hP(){if(m1)return Cg;m1=1;var e=Ec();function t(n,l,a,i,d,u,p,o){if(l){var c,m,v,x,S,k;for(m=0,v=l.length;m<v;m++){if(c=l[m],x=d.concat([""+m]),S=u.concat([c]),a.call(i,c,m,l,x,n,S))return{index:m,item:c,path:x,items:l,parent:n,nodes:S};if(p&&c&&(k=t(c,c[p],a,i,x.concat([p]),S,p),k))return k}}}var r=e(t);return Cg=r,Cg}var yg,b1;function aI(){if(b1)return yg;b1=1;var e=Ec(),t=un();function r(l,a,i,d,u,p,o,c){var m,v;t(a,function(x,S){m=u.concat([""+S]),v=p.concat([x]),i.call(d,x,S,a,m,l,v),x&&o&&(m.push(o),r(x,x[o],i,d,m,v,o))})}var n=e(r);return yg=n,yg}var wg,x1;function gP(){if(x1)return wg;x1=1;var e=Ec(),t=Fl();function r(l,a,i,d,u,p,o,c){var m,v,x,S=c.mapChildren||o;return t(a,function(k,E){return m=u.concat([""+E]),v=p.concat([k]),x=i.call(d,k,E,a,m,l,v),x&&k&&o&&k[o]&&(x[S]=r(k,k[o],i,d,m,v,o,c)),x})}var n=e(r);return wg=n,wg}var Sg,C1;function vP(){if(C1)return Sg;C1=1;var e=aI();function t(r,n,l,a){var i=[];return r&&n&&e(r,function(d,u,p,o,c,m){n.call(a,d,u,p,o,c,m)&&i.push(d)},l),i}return Sg=t,Sg}var Eg,y1;function mP(){if(y1)return Eg;y1=1;var e=Ec(),t=to(),r=ea();function n(a,i,d,u,p,o,c,m,v){var x,S,k,E,D,P=[],V=v.original,q=v.data,F=v.mapChildren||m,O=v.isEvery;return t(d,function(M,G){x=o.concat([""+G]),S=c.concat([M]),E=a&&!O||u.call(p,M,G,d,x,i,S),D=m&&M[m],E||D?(V?k=M:(k=r({},M),q&&(k[q]=M)),k[F]=n(E,M,M[m],u,p,x,S,m,v),(E||k[F].length)&&P.push(k)):E&&P.push(k)}),P}var l=e(function(a,i,d,u,p,o,c,m){return n(0,a,i,d,u,p,o,c,m)});return Eg=l,Eg}var Rg,w1;function lI(){if(w1)return Rg;w1=1;function e(t,r){if(t.indexOf)return t.indexOf(r);for(var n=0,l=t.length;n<l;n++)if(r===t[n])return n}return Rg=e,Rg}var Dg,S1;function iI(){if(S1)return Dg;S1=1;function e(t,r){if(t.lastIndexOf)return t.lastIndexOf(r);for(var n=t.length-1;n>=0;n--)if(r===t[n])return n;return-1}return Dg=e,Dg}var Og,E1;function wa(){if(E1)return Og;E1=1;var e=xi(),t=e("number");return Og=t,Og}var Tg,R1;function bP(){if(R1)return Tg;R1=1;var e=wa();function t(r){return e(r)&&isNaN(r)}return Tg=t,Tg}var Mg,D1;function Ha(){if(D1)return Mg;D1=1;var e=xi(),t=e("string");return Mg=t,Mg}var Ig,O1;function il(){if(O1)return Ig;O1=1;var e=is(),t=e("Date");return Ig=t,Ig}var Fg,T1;function ds(){if(T1)return Fg;T1=1;var e=parseInt;return Fg=e,Fg}var kg,M1;function xP(){if(M1)return kg;M1=1;function e(t){return Date.UTC(t.y,t.M||0,t.d||1,t.H||0,t.m||0,t.s||0,t.S||0)}return kg=e,kg}var $g,I1;function No(){if(I1)return $g;I1=1;function e(t){return t.getTime()}return $g=e,$g}var Ag,F1;function Eo(){if(F1)return Ag;F1=1;var e=ds(),t=xP(),r=No(),n=Ha(),l=il();function a(B){return"(\\d{"+B+"})"}function i(B){return B<10?B*100:B<100?B*10:B}function d(B){return isNaN(B)?B:e(B)}for(var u=a(2),p=a("1,2"),o=a("1,7"),c=a("3,4"),m=".{1}",v=m+p,x="(([zZ])|([-+]\\d{2}:?\\d{2}))",S=[c,v,v,v,v,v,m+o,x],k=[],E=S.length-1;E>=0;E--){for(var D="",P=0;P<E+1;P++)D+=S[P];k.push(new RegExp("^"+D+"$"))}function V(B){for(var xe,Z={},L=0,ne=k.length;L<ne;L++)if(xe=B.match(k[L]),xe){Z.y=xe[1],Z.M=xe[2],Z.d=xe[3],Z.H=xe[4],Z.m=xe[5],Z.s=xe[6],Z.S=xe[7],Z.Z=xe[8];break}return Z}for(var q=[["yyyy",c],["yy",u],["MM",u],["M",p],["dd",u],["d",p],["HH",u],["H",p],["mm",u],["m",p],["ss",u],["s",p],["SSS",a(3)],["S",o],["Z",x]],F={},O=["\\[([^\\]]+)\\]"],P=0;P<q.length;P++){var M=q[P];F[M[0]]=M[1]+"?",O.push(M[0])}var G=new RegExp(O.join("|"),"g"),$={};function Y(B,xe){var Z=$[xe];if(!Z){var L=[],ne=xe.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(G,function(le,Ee){var Oe=le.charAt(0);return Oe==="["?Ee:(L.push(Oe),F[le])});Z=$[xe]={_i:L,_r:new RegExp(ne)}}var Ve={},Le=B.match(Z._r);if(Le){for(var ee=Z._i,se=1,ae=Le.length;se<ae;se++)Ve[ee[se-1]]=Le[se];return Ve}return Ve}function H(B){if(/^[zZ]/.test(B.Z))return new Date(t(B));var xe=B.Z.match(/([-+])(\d{2}):?(\d{2})/);return xe?new Date(t(B)-(xe[1]==="-"?-1:1)*e(xe[2])*36e5+e(xe[3])*6e4):new Date("")}function j(B,xe){if(B){var Z=l(B);if(Z||!xe&&/^[0-9]{11,15}$/.test(B))return new Date(Z?r(B):e(B));if(n(B)){var L=xe?Y(B,xe):V(B);if(L.y)return L.M&&(L.M=d(L.M)-1),L.S&&(L.S=i(d(L.S.substring(0,3)))),L.Z?H(L):new Date(L.y,L.M||0,L.d||1,L.H||0,L.m||0,L.s||0,L.S||0)}}return new Date("")}return Ag=j,Ag}var Pg,k1;function Rc(){if(k1)return Pg;k1=1;function e(){return new Date}return Pg=e,Pg}var Lg,$1;function sI(){if($1)return Lg;$1=1;var e=il(),t=Eo(),r=Rc();function n(l){var a,i=l?t(l):r();return e(i)?(a=i.getFullYear(),a%4===0&&(a%100!==0||a%400===0)):!1}return Lg=n,Lg}var Ng,A1;function CP(){if(A1)return Ng;A1=1;var e=Br(),t=Qo();function r(n,l,a){if(n){if(e(n))for(var i=0,d=n.length;i<d&&l.call(a,n[i],i,n)!==!1;i++);else for(var u in n)if(t(n,u)&&l.call(a,n[u],u,n)===!1)break}}return Ng=r,Ng}var _g,P1;function yP(){if(P1)return _g;P1=1;var e=Br(),t=Qo();function r(n,l,a){if(n){var i,d;if(e(n))for(i=n.length-1;i>=0&&l.call(a,n[i],i,n)!==!1;i--);else for(d=t(n),i=d.length-1;i>=0&&l.call(a,n[d[i]],d[i],n)!==!1;i--);}}return _g=r,_g}var qg,L1;function cI(){if(L1)return qg;L1=1;var e=Br(),t=Ha(),r=Qo();function n(l,a){return function(i,d){if(i){if(i[l])return i[l](d);if(t(i)||e(i))return a(i,d);for(var u in i)if(r(i,u)&&d===i[u])return u}return-1}}return qg=n,qg}var Hg,N1;function wP(){if(N1)return Hg;N1=1;var e=cI(),t=lI(),r=e("indexOf",t);return Hg=r,Hg}var Vg,_1;function uI(){if(_1)return Vg;_1=1;var e=cI(),t=iI(),r=e("lastIndexOf",t);return Vg=r,Vg}var zg,q1;function dI(){if(q1)return zg;q1=1;var e=Br(),t=Ha(),r=un();function n(l){var a=0;return t(l)||e(l)?l.length:(r(l,function(){a++}),a)}return zg=n,zg}var Bg,H1;function SP(){if(H1)return Bg;H1=1;var e=wa();function t(r){return e(r)&&isFinite(r)}return Bg=t,Bg}var Wg,V1;function fI(){if(V1)return Wg;V1=1;var e=Br(),t=qa(),r=function(n){return!t(n)&&!isNaN(n)&&!e(n)&&n%1===0};return Wg=r,Wg}var Gg,z1;function EP(){if(z1)return Gg;z1=1;var e=Br(),t=fI(),r=qa();function n(l){return!r(l)&&!isNaN(l)&&!e(l)&&!t(l)}return Gg=n,Gg}var Ug,B1;function pI(){if(B1)return Ug;B1=1;var e=xi(),t=e("boolean");return Ug=t,Ug}var jg,W1;function sx(){if(W1)return jg;W1=1;var e=is(),t=e("RegExp");return jg=t,jg}var Yg,G1;function hI(){if(G1)return Yg;G1=1;var e=is(),t=e("Error");return Yg=t,Yg}var Kg,U1;function RP(){if(U1)return Kg;U1=1;function e(t){return t?t.constructor===TypeError:!1}return Kg=e,Kg}var Xg,j1;function gI(){if(j1)return Xg;j1=1;function e(t){for(var r in t)return!1;return!0}return Xg=e,Xg}var Zg,Y1;function vI(){if(Y1)return Zg;Y1=1;var e=ta(),t=typeof Symbol!==e;function r(n){return t&&Symbol.isSymbol?Symbol.isSymbol(n):typeof n=="symbol"}return Zg=r,Zg}var Jg,K1;function DP(){if(K1)return Jg;K1=1;var e=is(),t=e("Arguments");return Jg=t,Jg}var Qg,X1;function OP(){if(X1)return Qg;X1=1;var e=Ha(),t=wa();function r(n){return!!(n&&e(n.nodeName)&&t(n.nodeType))}return Qg=r,Qg}var ev,Z1;function cx(){if(Z1)return ev;Z1=1;var e=ta(),t=typeof document===e?0:document;return ev=t,ev}var tv,J1;function TP(){if(J1)return tv;J1=1;var e=cx();function t(r){return!!(r&&e&&r.nodeType===9)}return tv=t,tv}var rv,Q1;function mI(){if(Q1)return rv;Q1=1;var e=ta(),t=typeof window===e?0:window;return rv=t,rv}var nv,eR;function MP(){if(eR)return nv;eR=1;var e=mI();function t(r){return!!(e&&(r&&r===r.window))}return nv=t,nv}var ov,tR;function IP(){if(tR)return ov;tR=1;var e=ta(),t=typeof FormData!==e;function r(n){return t&&n instanceof FormData}return ov=r,ov}var av,rR;function FP(){if(rR)return av;rR=1;var e=ta(),t=typeof Map!==e;function r(n){return t&&n instanceof Map}return av=r,av}var lv,nR;function kP(){if(nR)return lv;nR=1;var e=ta(),t=typeof WeakMap!==e;function r(n){return t&&n instanceof WeakMap}return lv=r,lv}var iv,oR;function $P(){if(oR)return iv;oR=1;var e=ta(),t=typeof Set!==e;function r(n){return t&&n instanceof Set}return iv=r,iv}var sv,aR;function AP(){if(aR)return sv;aR=1;var e=ta(),t=typeof WeakSet!==e;function r(n){return t&&n instanceof WeakSet}return sv=r,sv}var cv,lR;function bI(){if(lR)return cv;lR=1;var e=So(),t=Ha(),r=Br(),n=Qo();function l(a){return function(i,d,u){if(i&&e(d)){if(r(i)||t(i))return a(i,d,u);for(var p in i)if(n(i,p)&&d.call(u,i[p],p,i))return p}return-1}}return cv=l,cv}var uv,iR;function ux(){if(iR)return uv;iR=1;var e=bI(),t=e(function(r,n,l){for(var a=0,i=r.length;a<i;a++)if(n.call(l,r[a],a,r))return a;return-1});return uv=t,uv}var dv,sR;function xI(){if(sR)return dv;sR=1;var e=wa(),t=Br(),r=Ha(),n=sx(),l=il(),a=pI(),i=ya(),d=_a(),u=WM();function p(o,c,m,v,x,S,k){if(o===c)return!0;if(o&&c&&!e(o)&&!e(c)&&!r(o)&&!r(c)){if(n(o))return m(""+o,""+c,x,S,k);if(l(o)||a(o))return m(+o,+c,x,S,k);var E,D,P,V=t(o),q=t(c);if(V||q?V&&q:o.constructor===c.constructor)return D=d(o),P=d(c),v&&(E=v(o,c,x)),D.length===P.length?i(E)?u(D,function(F,O){return F===P[O]&&p(o[F],c[P[O]],m,v,V||q?O:F,o,c)}):!!E:!1}return m(o,c,x,S,k)}return dv=p,dv}var fv,cR;function CI(){if(cR)return fv;cR=1;function e(t,r){return t===r}return fv=e,fv}var pv,uR;function yI(){if(uR)return pv;uR=1;var e=xI(),t=CI();function r(n,l){return e(n,l,t)}return pv=r,pv}var hv,dR;function PP(){if(dR)return hv;dR=1;var e=_a(),t=ux(),r=yI(),n=BM(),l=GM();function a(i,d){var u=e(i),p=e(d);if(p.length){if(l(u,p))return n(p,function(o){return t(u,function(c){return c===o&&r(i[c],d[o])})>-1})}else return!0;return r(i,d)}return hv=a,hv}var gv,fR;function LP(){if(fR)return gv;fR=1;var e=xI(),t=CI(),r=So(),n=ya();function l(a,i,d){return r(d)?e(a,i,function(u,p,o,c,m){var v=d(u,p,o,c,m);return n(v)?t(u,p):!!v},d):e(a,i,t)}return gv=l,gv}var vv,pR;function NP(){if(pR)return vv;pR=1;var e=vI(),t=il(),r=Br(),n=sx(),l=hI(),a=qa();function i(d){return a(d)?"null":e(d)?"symbol":t(d)?"date":r(d)?"array":n(d)?"regexp":l(d)?"error":typeof d}return vv=i,vv}var mv,hR;function _P(){if(hR)return mv;hR=1;var e=0;function t(r){return[r,++e].join("")}return mv=t,mv}var bv,gR;function qP(){if(gR)return bv;gR=1;var e=bI(),t=e(function(r,n,l){for(var a=r.length-1;a>=0;a--)if(n.call(l,r[a],a,r))return a;return-1});return bv=t,bv}var xv,vR;function HP(){if(vR)return xv;vR=1;var e=yi(),t=Ha();function r(n){if(e(n))return n;if(t(n))try{return JSON.parse(n)}catch(l){}return{}}return xv=r,xv}var Cv,mR;function VP(){if(mR)return Cv;mR=1;var e=ll();function t(r){return e(r)?"":JSON.stringify(r)}return Cv=t,Cv}var yv,bR;function zP(){if(bR)return yv;bR=1;var e=rx(),t=e("entries",2);return yv=t,yv}var wv,xR;function wI(){if(xR)return wv;xR=1;var e=So(),t=Br(),r=un(),n=ux();function l(a,i){return function(d,u){var p,o,c={},m=[],v=this,x=arguments,S=x.length;if(!e(u)){for(o=1;o<S;o++)p=x[o],m.push.apply(m,t(p)?p:[p]);u=0}return r(d,function(k,E){((u?u.call(v,k,E,d):n(m,function(D){return D===E})>-1)?a:i)&&(c[E]=k)}),c}}return wv=l,wv}var Sv,CR;function BP(){if(CR)return Sv;CR=1;var e=wI(),t=e(1,0);return Sv=t,Sv}var Ev,yR;function WP(){if(yR)return Ev;yR=1;var e=wI(),t=e(0,1);return Ev=t,Ev}var Rv,wR;function GP(){if(wR)return Rv;wR=1;var e=wi();function t(r){return e(r)[0]}return Rv=t,Rv}var Dv,SR;function UP(){if(SR)return Dv;SR=1;var e=wi();function t(r){var n=e(r);return n[n.length-1]}return Dv=t,Dv}var Ov,ER;function jP(){if(ER)return Ov;ER=1;var e=jM(),t=lx(),r=Qo();function n(l,a){if(l){if(r(l,a))return!0;var i,d,u,p,o,c,m=t(a),v=0,x=m.length;for(o=l;v<x&&(c=!1,i=m[v],p=i?i.match(e):"",p?(d=p[1],u=p[2],d?o[d]&&r(o[d],u)&&(c=!0,o=o[d][u]):r(o,u)&&(c=!0,o=o[u])):r(o,i)&&(c=!0,o=o[i]),c);v++)if(v===x-1)return!0}return!1}return Ov=n,Ov}var Tv,RR;function YP(){if(RR)return Tv;RR=1;var e=ds(),t=lx(),r=Qo(),n=/(.+)?\[(\d+)\]$/;function l(d,u,p,o,c){if(d[u])p&&(d[u]=c);else{var m,v,x=u?u.match(n):null;if(p)v=c;else{var S=o?o.match(n):null;S&&!S[1]?v=new Array(e(S[2])+1):v={}}return x?x[1]?(m=e(x[2]),d[x[1]]?p?d[x[1]][m]=v:d[x[1]][m]?v=d[x[1]][m]:d[x[1]][m]=v:(d[x[1]]=new Array(m+1),d[x[1]][m]=v)):d[x[2]]=v:d[u]=v,v}return d[u]}function a(d,u,p){if(d){if((d[u]||r(d,u))&&!i(u))d[u]=p;else for(var o=d,c=t(u),m=c.length,v=0;v<m;v++)if(!i(c[v])){var x=v===m-1;o=l(o,c[v],x,x?null:c[v+1],p)}}return d}function i(d){return d==="__proto__"||d==="constructor"||d==="prototype"}return Tv=a,Tv}var Mv,DR;function SI(){if(DR)return Mv;DR=1;var e=gI(),t=Sc(),r=So(),n=Ci(),l=un();function a(d){return function(){return e(d)}}function i(d,u,p){var o,c={};return d&&(u&&t(u)?u=a(u):r(u)||(u=n(u)),l(d,function(m,v){o=u?u.call(p,m,v,d):m,c[o]?c[o].push(m):c[o]=[m]})),c}return Mv=i,Mv}var Iv,OR;function KP(){if(OR)return Iv;OR=1;var e=SI(),t=ss();function r(n,l,a){var i=e(n,l,a||this);return t(i,function(d,u){i[u]=d.length}),i}return Iv=r,Iv}var Fv,TR;function XP(){if(TR)return Fv;TR=1;function e(t,r,n){var l,a,i=[],d=arguments;if(d.length<2&&(r=d[0],t=0),l=t>>0,a=r>>0,l<r)for(n=n>>0||1;l<a;l+=n)i.push(l);return i}return Fv=e,Fv}var kv,MR;function ZP(){if(MR)return kv;MR=1;var e=_a(),t=$l(),r=cs(),n=to(),l=ea();function a(i,d){if(i&&d){var u=l.apply(this,[{}].concat(t(arguments,1))),p=e(u);n(e(i),function(o){r(p,o)&&(i[o]=u[o])})}return i}return kv=a,kv}var $v,IR;function JP(){if(IR)return $v;IR=1;var e=JM(),t=e(function(r,n){return r>n});return $v=t,$v}var Av,FR;function Dc(){if(FR)return Av;FR=1;function e(t){return(t.split(".")[1]||"").length}return Av=e,Av}var Pv,kR;function fs(){if(kR)return Pv;kR=1;var e=ds();function t(r,n){if(r.repeat)return r.repeat(n);var l=isNaN(n)?[]:new Array(e(n));return l.join(r)+(l.length>0?r:"")}return Pv=t,Pv}var Lv,$R;function EI(){if($R)return Lv;$R=1;function e(t,r){return t.substring(0,r)+"."+t.substring(r,t.length)}return Lv=e,Lv}var Nv,AR;function sl(){if(AR)return Nv;AR=1;var e=fs(),t=EI();function r(n){var l=""+n,a=l.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(a){var i=n<0,d=i?"-":"",u=a[3]||"",p=a[5]||"",o=a[6]||"",c=a[7],m=a[8],v=m-o.length,x=m-u.length,S=m-p.length;return c==="+"?u?d+u+e("0",m):v>0?d+p+o+e("0",v):d+p+t(o,m):u?x>0?d+"0."+e("0",Math.abs(x))+u:d+t(u,x):S>0?d+"0."+e("0",Math.abs(S))+p+o:d+t(p,S)+o}return l}return Nv=r,Nv}var _v,PR;function RI(){if(PR)return _v;PR=1;var e=Dc(),t=sl();function r(n,l){var a=t(n),i=t(l);return parseInt(a.replace(".",""))*parseInt(i.replace(".",""))/Math.pow(10,e(a)+e(i))}return _v=r,_v}var qv,LR;function dx(){if(LR)return qv;LR=1;var e=RI(),t=kl(),r=sl();function n(l){return function(a,i){var d=t(a),u=d;if(d){i=i>>0;var p=r(d),o=p.split("."),c=o[0],m=o[1]||"",v=m.substring(0,i+1),x=c+(v?"."+v:"");if(i>=m.length)return t(x);if(x=d,i>0){var S=Math.pow(10,i);u=Math[l](e(x,S))/S}else u=Math[l](x)}return u}}return qv=n,qv}var Hv,NR;function fx(){if(NR)return Hv;NR=1;var e=dx(),t=e("round");return Hv=t,Hv}var Vv,_R;function DI(){if(_R)return Vv;_R=1;var e=dx(),t=e("ceil");return Vv=t,Vv}var zv,qR;function OI(){if(qR)return zv;qR=1;var e=dx(),t=e("floor");return zv=t,zv}var Bv,HR;function ro(){if(HR)return Bv;HR=1;var e=ll(),t=wa(),r=sl();function n(l){return t(l)?r(l):""+(e(l)?"":l)}return Bv=n,Bv}var Wv,VR;function px(){if(VR)return Wv;VR=1;var e=fx(),t=ro(),r=fs(),n=EI();function l(a,i){i=i>>0;var d=t(e(a,i)),u=d.split("."),p=u[0],o=u[1]||"",c=i-o.length;return i?c>0?p+"."+o+r("0",c):p+n(o,Math.abs(c)):p}return Wv=l,Wv}var Gv,zR;function QP(){if(zR)return Gv;zR=1;var e=Na(),t=fx(),r=DI(),n=OI(),l=wa(),a=ro(),i=px(),d=sl(),u=ea();function p(o,c){var m=u({},e.commafyOptions,c),v=m.digits,x=l(o),S,k,E,D,P;return x?(S=(m.ceil?r:m.floor?n:t)(o,v),k=d(v?i(S,v):S).split("."),D=k[0],P=k[1],E=D&&S<0,E&&(D=D.substring(1,D.length))):(S=a(o).replace(/,/g,""),k=S?[S]:[],D=k[0]),k.length?(E?"-":"")+D.replace(new RegExp("(?=(?!(\\b))(.{"+(m.spaceNumber||3)+"})+$)","g"),m.separator||",")+(P?"."+P:""):S}return Gv=p,Gv}var Uv,BR;function eL(){if(BR)return Uv;BR=1;var e=ds(),t=XM(),r=t(e);return Uv=r,Uv}var jv,WR;function hx(){if(WR)return jv;WR=1;var e=RI(),t=kl();function r(n,l){var a=t(n),i=t(l);return e(a,i)}return jv=r,jv}var Yv,GR;function TI(){if(GR)return Yv;GR=1;var e=Dc(),t=sl(),r=hx();function n(l,a){var i=t(l),d=t(a),u=Math.pow(10,Math.max(e(i),e(d)));return(r(l,u)+r(a,u))/u}return Yv=n,Yv}var Kv,UR;function tL(){if(UR)return Kv;UR=1;var e=TI(),t=kl();function r(n,l){return e(t(n),t(l))}return Kv=r,Kv}var Xv,jR;function rL(){if(jR)return Xv;jR=1;var e=Dc(),t=sl(),r=kl(),n=px();function l(a,i){var d=r(a),u=r(i),p=t(d),o=t(u),c=e(p),m=e(o),v=Math.pow(10,Math.max(c,m)),x=c>=m?c:m;return parseFloat(n((d*v-u*v)/v,x))}return Xv=l,Xv}var Zv,YR;function MI(){if(YR)return Zv;YR=1;var e=Dc(),t=sl(),r=hx();function n(l,a){var i=t(l),d=t(a),u=e(i),p=e(d),o=p-u,c=o<0,m=Math.pow(10,c?Math.abs(o):o);return r(i.replace(".","")/d.replace(".",""),c?1/m:m)}return Zv=n,Zv}var Jv,KR;function nL(){if(KR)return Jv;KR=1;var e=MI(),t=kl();function r(n,l){return e(t(n),t(l))}return Jv=r,Jv}var Qv,XR;function II(){if(XR)return Qv;XR=1;var e=TI(),t=So(),r=un(),n=us();function l(a,i,d){var u=0;return r(a,i?t(i)?function(){u=e(u,i.apply(d,arguments))}:function(p){u=e(u,n(p,i))}:function(p){u=e(u,p)}),u}return Qv=l,Qv}var em,ZR;function oL(){if(ZR)return em;ZR=1;var e=MI(),t=dI(),r=II();function n(l,a,i){return e(r(l,a,i),t(l))}return em=n,em}var tm,JR;function ps(){if(JR)return tm;JR=1;var e="first";return tm=e,tm}var rm,QR;function Oc(){if(QR)return rm;QR=1;var e="last";return rm=e,rm}var nm,eD;function hs(){if(eD)return nm;eD=1;function e(t){return t.getFullYear()}return nm=e,nm}var om,tD;function gs(){if(tD)return om;tD=1;var e=864e5;return om=e,om}var am,rD;function Tc(){if(rD)return am;rD=1;function e(t){return t.getMonth()}return am=e,am}var lm,nD;function _o(){if(nD)return lm;nD=1;var e=il(),t=No();function r(n){return e(n)&&!isNaN(t(n))}return lm=r,lm}var im,oD;function vs(){if(oD)return im;oD=1;var e=ps(),t=Oc(),r=gs(),n=hs(),l=No(),a=Tc(),i=Eo(),d=_o(),u=wa();function p(o,c,m){var v=c&&!isNaN(c)?c:0;if(o=i(o),d(o)){if(m===e)return new Date(n(o),a(o)+v,1);if(m===t)return new Date(l(p(o,v+1,e))-1);if(u(m)&&o.setDate(m),v){var x=o.getDate();if(o.setMonth(a(o)+v),x!==o.getDate())return o.setDate(1),new Date(l(o)-r)}}return o}return im=p,im}var sm,aD;function Mc(){if(aD)return sm;aD=1;var e=ps(),t=Oc(),r=hs(),n=vs(),l=Eo(),a=_o();function i(d,u,p){var o;if(d=l(d),a(d)&&(u&&(o=u&&!isNaN(u)?u:0,d.setFullYear(r(d)+o)),p||!isNaN(p))){if(p===e)return new Date(r(d),0,1);if(p===t)return d.setMonth(11),n(d,0,t);d.setMonth(p)}return d}return sm=i,sm}var cm,lD;function aL(){if(lD)return cm;lD=1;var e=vs(),t=Eo(),r=_o();function n(a){var i=a.getMonth();return i<3?1:i<6?2:i<9?3:4}function l(a,i,d){var u,p=i&&!isNaN(i)?i*3:0;return a=t(a),r(a)?(u=(n(a)-1)*3,a.setMonth(u),e(a,p,d)):a}return cm=l,cm}var um,iD;function FI(){if(iD)return um;iD=1;var e=ps(),t=Oc(),r=ds(),n=hs(),l=Tc(),a=No(),i=Eo(),d=_o();function u(p,o,c){if(p=i(p),d(p)&&!isNaN(o)){if(p.setDate(p.getDate()+r(o)),c===e)return new Date(n(p),l(p),p.getDate());if(c===t)return new Date(a(u(p,1,e))-1)}return p}return um=u,um}var dm,sD;function kI(){if(sD)return dm;sD=1;function e(t){return t.toUpperCase()}return dm=e,dm}var fm,cD;function $I(){if(cD)return fm;cD=1;var e=gs(),t=e*7;return fm=t,fm}var pm,uD;function AI(){if(uD)return pm;uD=1;var e=Na(),t=gs(),r=$I(),n=No(),l=Eo(),a=_o(),i=wa();function d(u,p,o,c){if(u=l(u),a(u)){var m=i(o),v=i(c),x=n(u);if(m||v){var S=v?c:e.firstDayOfWeek,k=u.getDay(),E=m?o:k;if(k!==E){var D=0;S>k?D=-(7-S+k):S<k&&(D=S-k),E>S?x+=((E===0?7:E)-S+D)*t:E<S?x+=(7-S+E+D)*t:x+=D*t}}return p&&!isNaN(p)&&(x+=p*r),new Date(x)}return u}return pm=d,pm}var hm,dD;function PI(){if(dD)return hm;dD=1;var e=Na(),t=$I(),r=wa(),n=_o(),l=AI(),a=No();function i(d){return function(u,p){var o=r(p)?p:e.firstDayOfWeek,c=l(u,0,o,o);if(n(c)){var m=new Date(c.getFullYear(),c.getMonth(),c.getDate()),v=d(c),x=v.getDay();return x>o&&v.setDate(7-x+o+1),x<o&&v.setDate(o-x+1),Math.floor((a(m)-a(v))/t+1)}return NaN}}return hm=i,hm}var gm,fD;function LI(){if(fD)return gm;fD=1;var e=PI(),t=e(function(r){return new Date(r.getFullYear(),0,1)});return gm=t,gm}var vm,pD;function lL(){if(pD)return vm;pD=1;var e=hs(),t=Tc();function r(n){return new Date(e(n),t(n),n.getDate())}return vm=r,vm}var mm,hD;function iL(){if(hD)return mm;hD=1;var e=No(),t=lL();function r(n){return e(t(n))}return mm=r,mm}var bm,gD;function NI(){if(gD)return bm;gD=1;var e=gs(),t=ps(),r=iL(),n=Mc(),l=Eo(),a=_o();function i(d){return d=l(d),a(d)?Math.floor((r(d)-r(n(d,0,t)))/e)+1:NaN}return bm=i,bm}var xm,vD;function _I(){if(vD)return xm;vD=1;var e=ro(),t=ya(),r=fs();function n(l,a,i){var d=e(l);return a=a>>0,i=t(i)?" ":""+i,d.padStart?d.padStart(a,i):a>d.length?(a-=d.length,a>i.length&&(i+=r(i,a/i.length)),i.slice(0,a)+d):d}return xm=n,xm}var Cm,mD;function qI(){if(mD)return Cm;mD=1;var e=Na(),t=kI(),r=hs(),n=Tc(),l=Eo(),a=LI(),i=NI(),d=ea(),u=_o(),p=So(),o=_I();function c(x,S,k,E){var D=S[k];return D?p(D)?D(E,k,x):D[E]:E}var m=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function v(x,S,k){if(x){if(x=l(x),u(x)){var E=S||e.parseDateFormat||e.formatString,D=x.getHours(),P=D<12?"am":"pm",V=d({},e.parseDateRules||e.formatStringMatchs,k?k.formats:null),q=function(L,ne){return(""+r(x)).substr(4-ne)},F=function(L,ne){return o(n(x)+1,ne,"0")},O=function(L,ne){return o(x.getDate(),ne,"0")},M=function(L,ne){return o(D,ne,"0")},G=function(L,ne){return o(D<=12?D:D-12,ne,"0")},$=function(L,ne){return o(x.getMinutes(),ne,"0")},Y=function(L,ne){return o(x.getSeconds(),ne,"0")},H=function(L,ne){return o(x.getMilliseconds(),ne,"0")},j=function(L,ne){var Ve=x.getTimezoneOffset()/60*-1;return c(x,V,L,(Ve>=0?"+":"-")+o(Ve,2,"0")+(ne===1?":":"")+"00")},B=function(L,ne){return o(c(x,V,L,a(x,(k?k.firstDay:null)||e.firstDayOfWeek)),ne,"0")},xe=function(L,ne){return o(c(x,V,L,i(x)),ne,"0")},Z={yyyy:q,yy:q,MM:F,M:F,dd:O,d:O,HH:M,H:M,hh:G,h:G,mm:$,m:$,ss:Y,s:Y,SSS:H,S:H,ZZ:j,Z:j,WW:B,W:B,DDD:xe,D:xe,a:function(L){return c(x,V,L,P)},A:function(L){return c(x,V,L,t(P))},e:function(L){return c(x,V,L,x.getDay())},E:function(L){return c(x,V,L,x.getDay())},q:function(L){return c(x,V,L,Math.floor((n(x)+3)/3))}};return E.replace(m,function(L,ne){return ne||(Z[L]?Z[L](L,L.length):L)})}return"Invalid Date"}return""}return Cm=v,Cm}var ym,bD;function HI(){if(bD)return ym;bD=1;var e=No(),t=Rc(),r=Date.now||function(){return e(t())};return ym=r,ym}var wm,xD;function sL(){if(xD)return wm;xD=1;var e=No(),t=HI(),r=Eo(),n=il(),l=function(a,i){if(a){var d=r(a,i);return n(d)?e(d):d}return t()};return wm=l,wm}var Sm,CD;function cL(){if(CD)return Sm;CD=1;var e=qI();function t(r,n,l){return r&&n?(r=e(r,l),r!=="Invalid Date"&&r===e(n,l)):!1}return Sm=t,Sm}var Em,yD;function uL(){if(yD)return Em;yD=1;var e=PI(),t=e(function(r){return new Date(r.getFullYear(),r.getMonth(),1)});return Em=t,Em}var Rm,wD;function dL(){if(wD)return Rm;wD=1;var e=Mc(),t=Eo(),r=_o(),n=sI();function l(a,i){return a=t(a),r(a)?n(e(a,i))?366:365:NaN}return Rm=l,Rm}var Dm,SD;function fL(){if(SD)return Dm;SD=1;var e=gs(),t=ps(),r=Oc(),n=No(),l=vs(),a=Eo(),i=_o();function d(u,p){return u=a(u),i(u)?Math.floor((n(l(u,p,r))-n(l(u,p,t)))/e)+1:NaN}return Dm=d,Dm}var Om,ED;function pL(){if(ED)return Om;ED=1;var e=No(),t=Rc(),r=Eo(),n=_o(),l=[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]];function a(i,d){var u,p,o,c,m,v,x={done:!1,time:0};if(i=r(i),d=d?r(d):t(),n(i)&&n(d)&&(u=e(i),p=e(d),u<p))for(c=x.time=p-u,x.done=!0,v=0,m=l.length;v<m;v++)o=l[v],c>=o[1]?v===m-1?x[o[0]]=c||0:(x[o[0]]=Math.floor(c/o[1]),c-=x[o[0]]*o[1]):x[o[0]]=0;return x}return Om=a,Om}var Tm,RD;function hL(){if(RD)return Tm;RD=1;var e=ro(),t=ya(),r=fs();function n(l,a,i){var d=e(l);return a=a>>0,i=t(i)?" ":""+i,d.padEnd?d.padEnd(a,i):a>d.length?(a-=d.length,a>i.length&&(i+=r(i,a/i.length)),d+i.slice(0,a)):d}return Tm=n,Tm}var Mm,DD;function gL(){if(DD)return Mm;DD=1;var e=ro(),t=fs();function r(n,l){return t(e(n),l)}return Mm=r,Mm}var Im,OD;function VI(){if(OD)return Im;OD=1;var e=ro();function t(r){return r&&r.trimRight?r.trimRight():e(r).replace(/[\s\uFEFF\xA0]+$/g,"")}return Im=t,Im}var Fm,TD;function zI(){if(TD)return Fm;TD=1;var e=ro();function t(r){return r&&r.trimLeft?r.trimLeft():e(r).replace(/^[\s\uFEFF\xA0]+/g,"")}return Fm=t,Fm}var km,MD;function BI(){if(MD)return km;MD=1;var e=VI(),t=zI();function r(n){return n&&n.trim?n.trim():e(t(n))}return km=r,km}var $m,ID;function WI(){if(ID)return $m;ID=1;var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};return $m=e,$m}var Am,FD;function GI(){if(FD)return Am;FD=1;var e=ro(),t=_a();function r(n){var l=new RegExp("(?:"+t(n).join("|")+")","g");return function(a){return e(a).replace(l,function(i){return n[i]})}}return Am=r,Am}var Pm,kD;function vL(){if(kD)return Pm;kD=1;var e=WI(),t=GI(),r=t(e);return Pm=r,Pm}var Lm,$D;function mL(){if($D)return Lm;$D=1;var e=WI(),t=GI(),r=un(),n={};r(e,function(a,i){n[e[i]]=i});var l=t(n);return Lm=l,Lm}var Nm,AD;function UI(){if(AD)return Nm;AD=1;function e(t,r,n){return t.substring(r,n)}return Nm=e,Nm}var _m,PD;function jI(){if(PD)return _m;PD=1;function e(t){return t.toLowerCase()}return _m=e,_m}var qm,LD;function bL(){if(LD)return qm;LD=1;var e=ro(),t=UI(),r=kI(),n=jI(),l={};function a(i){if(i=e(i),l[i])return l[i];var d=i.length,u=i.replace(/([-]+)/g,function(p,o,c){return c&&c+o.length<d?"-":""});return d=u.length,u=u.replace(/([A-Z]+)/g,function(p,o,c){var m=o.length;return o=n(o),c?m>2&&c+m<d?r(t(o,0,1))+t(o,1,m-1)+r(t(o,m-1,m)):r(t(o,0,1))+t(o,1,m):m>1&&c+m<d?t(o,0,m-1)+r(t(o,m-1,m)):o}).replace(/(-[a-zA-Z])/g,function(p,o){return r(t(o,1,o.length))}),l[i]=u,u}return qm=a,qm}var Hm,ND;function xL(){if(ND)return Hm;ND=1;var e=ro(),t=UI(),r=jI(),n={};function l(a){if(a=e(a),n[a])return n[a];if(/^[A-Z]+$/.test(a))return r(a);var i=a.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(d,u,p,o){var c=p.length;return c>1?u+"-"+r(t(p,0,c-1))+"-"+r(t(p,c-1,c))+o:r(u+"-"+p+o)}).replace(/^([A-Z]+)([a-z]+)?$/,function(d,u,p){var o=u.length;return r(t(u,0,o-1)+"-"+t(u,o-1,o)+(p||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(d,u,p,o,c){var m=p.length;return m>1&&(u&&(u+="-"),o)?(u||"")+r(t(p,0,m-1))+"-"+r(t(p,m-1,m))+o:(u||"")+(c?"-":"")+r(p)+(o||"")});return i=i.replace(/([-]+)/g,function(d,u,p){return p&&p+u.length<i.length?"-":""}),n[a]=i,i}return Hm=l,Hm}var Vm,_D;function CL(){if(_D)return Vm;_D=1;var e=ro();function t(r,n,l){var a=e(r);return(arguments.length===1?a:a.substring(l)).indexOf(n)===0}return Vm=t,Vm}var zm,qD;function yL(){if(qD)return zm;qD=1;var e=ro();function t(r,n,l){var a=e(r),i=arguments.length;return i>1&&(i>2?a.substring(0,l).indexOf(n)===l-1:a.indexOf(n)===a.length-1)}return zm=t,zm}var Bm,HD;function YI(){if(HD)return Bm;HD=1;var e=Na(),t=ro(),r=BI(),n=us();function l(a,i,d){return t(a).replace((d||e).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(u,p){return n(i,r(p))})}return Bm=l,Bm}var Wm,VD;function wL(){if(VD)return Wm;VD=1;var e=YI();function t(r,n){return e(r,n,{tmplRE:/\{([.\w[\]\s]+)\}/g})}return Wm=t,Wm}var Gm,zD;function SL(){if(zD)return Gm;zD=1;function e(){}return Gm=e,Gm}var Um,BD;function EL(){if(BD)return Um;BD=1;var e=$l();function t(r,n){var l=e(arguments,2);return function(){return r.apply(n,e(arguments).concat(l))}}return Um=t,Um}var jm,WD;function RL(){if(WD)return jm;WD=1;var e=$l();function t(r,n){var l=!1,a=null,i=e(arguments,2);return function(){return l||(a=r.apply(n,e(arguments).concat(i)),l=!0),a}}return jm=t,jm}var Ym,GD;function DL(){if(GD)return Ym;GD=1;var e=$l();function t(r,n,l){var a=0,i=[];return function(){var d=arguments;a++,a<=r&&i.push(d[0]),a>=r&&n.apply(l,[i].concat(e(d)))}}return Ym=t,Ym}var Km,UD;function OL(){if(UD)return Km;UD=1;var e=$l();function t(r,n,l){var a=0,i=[];return l=l||this,function(){var d=arguments;a++,a<r&&(i.push(d[0]),n.apply(l,[i].concat(e(d))))}}return Km=t,Km}var Xm,jD;function TL(){if(jD)return Xm;jD=1;function e(t,r,n){var l=null,a=null,i=n||{},d=!1,u=null,p="leading"in i?i.leading:!0,o="trailing"in i?i.trailing:!1,c=function(){l=null,a=null},m=function(){d=!0,t.apply(a,l),u=setTimeout(v,r),c()},v=function(){u=null,!d&&o===!0&&m()},x=function(){var k=u!==null;return k&&clearTimeout(u),c(),u=null,d=!1,k},S=function(){l=arguments,a=this,d=!1,u===null&&(p===!0?m():o===!0&&(u=setTimeout(v,r)))};return S.cancel=x,S}return Xm=e,Xm}var Zm,YD;function ML(){if(YD)return Zm;YD=1;function e(t,r,n){var l=null,a=null,i=n||{},d=!1,u=null,p=typeof n=="boolean",o="leading"in i?i.leading:p,c="trailing"in i?i.trailing:!p,m=function(){l=null,a=null},v=function(){d=!0,t.apply(a,l),m()},x=function(){o===!0&&(u=null),!d&&c===!0&&v()},S=function(){var E=u!==null;return E&&clearTimeout(u),m(),u=null,d=!1,E},k=function(){d=!1,l=arguments,a=this,u===null?o===!0&&v():clearTimeout(u),u=setTimeout(x,r)};return k.cancel=S,k}return Zm=e,Zm}var Jm,KD;function IL(){if(KD)return Jm;KD=1;var e=$l();function t(r,n){var l=e(arguments,2),a=this;return setTimeout(function(){r.apply(a,l)},n)}return Jm=t,Jm}var Qm,XD;function KI(){if(XD)return Qm;XD=1;var e=decodeURIComponent;return Qm=e,Qm}var eb,ZD;function XI(){if(ZD)return eb;ZD=1;var e=KI(),t=to(),r=Ha();function n(l){var a,i={};return l&&r(l)&&t(l.split("&"),function(d){a=d.split("="),i[e(a[0])]=e(a[1]||"")}),i}return eb=n,eb}var tb,JD;function ZI(){if(JD)return tb;JD=1;var e=encodeURIComponent;return tb=e,tb}var rb,QD;function FL(){if(QD)return rb;QD=1;var e=ZI(),t=un(),r=Br(),n=qa(),l=ya(),a=yi();function i(u,p,o){var c,m=[];return t(u,function(v,x){c=r(v),a(v)||c?m=m.concat(i(v,p+"["+x+"]",c)):m.push(e(p+"["+(o?"":x)+"]")+"="+e(n(v)?"":v))}),m}function d(u){var p,o=[];return t(u,function(c,m){l(c)||(p=r(c),a(c)||p?o=o.concat(i(c,m,p)):o.push(e(m)+"="+e(n(c)?"":c)))}),o.join("&").replace(/%20/g,"+")}return rb=d,rb}var nb,eO;function Ic(){if(eO)return nb;eO=1;var e=ta(),t=typeof location===e?0:location;return nb=t,nb}var ob,tO;function JI(){if(tO)return ob;tO=1;var e=Ic();function t(){return e?e.origin||e.protocol+"//"+e.host:""}return ob=t,ob}var ab,rO;function QI(){if(rO)return ab;rO=1;var e=Ic(),t=XI(),r=JI();function n(a){return t(a.split("?")[1]||"")}function l(a){var i,d,u,p,o=""+a;return o.indexOf("//")===0?o=(e?e.protocol:"")+o:o.indexOf("/")===0&&(o=r()+o),u=o.replace(/#.*/,"").match(/(\?.*)/),p={href:o,hash:"",host:"",hostname:"",protocol:"",port:"",search:u&&u[1]&&u[1].length>1?u[1]:""},p.path=o.replace(/^([a-z0-9.+-]*:)\/\//,function(c,m){return p.protocol=m,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(c,m,v){return d=v||"",p.port=d.replace(":",""),p.hostname=m,p.host=m+d,"/"}).replace(/(#.*)/,function(c,m){return p.hash=m.length>1?m:"",""}),i=p.hash.match(/#((.*)\?|(.*))/),p.pathname=p.path.replace(/(\?|#.*).*/,""),p.origin=p.protocol+"//"+p.host,p.hashKey=i&&(i[2]||i[1])||"",p.hashQuery=n(p.hash),p.searchQuery=n(p.search),p}return ab=l,ab}var lb,nO;function kL(){if(nO)return lb;nO=1;var e=Ic(),t=JI(),r=uI();function n(){if(e){var l=e.pathname,a=r(l,"/")+1;return t()+(a===l.length?l:l.substring(0,a))}return""}return lb=n,lb}var ib,oO;function $L(){if(oO)return ib;oO=1;var e=Ic(),t=QI();function r(){return e?t(e.href):{}}return ib=r,ib}var sb,aO;function AL(){if(aO)return sb;aO=1;var e=Na(),t=cx(),r=KI(),n=ZI(),l=Br(),a=Sc(),i=il(),d=ya(),u=cs(),p=_a(),o=ea(),c=to(),m=Rc(),v=No(),x=Mc(),S=vs(),k=FI();function E($,Y){var H=parseFloat(Y),j=m(),B=v(j);switch($){case"y":return v(x(j,H));case"M":return v(S(j,H));case"d":return v(k(j,H));case"h":case"H":return B+H*60*60*1e3;case"m":return B+H*60*1e3;case"s":return B+H*1e3}return B}function D($){return(i($)?$:new Date($)).toUTCString()}function P($,Y,H){if(t){var j,B,xe,Z,L,ne,Ve=[],Le=arguments;return l($)?Ve=$:Le.length>1?Ve=[o({name:$,value:Y},H)]:a($)&&(Ve=[$]),Ve.length>0?(c(Ve,function(ee){j=o({},e.cookies,ee),xe=[],j.name&&(B=j.expires,xe.push(n(j.name)+"="+n(a(j.value)?JSON.stringify(j.value):j.value)),B&&(isNaN(B)?B=B.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(se,ae,le){return D(E(le,ae))}):/^[0-9]{11,13}$/.test(B)||i(B)?B=D(B):B=D(E("d",B)),j.expires=B),c(["expires","path","domain","secure"],function(se){d(j[se])||xe.push(j[se]&&se==="secure"?se:se+"="+j[se])})),t.cookie=xe.join("; ")}),!0):(Z={},L=t.cookie,L&&c(L.split("; "),function(ee){ne=ee.indexOf("="),Z[r(ee.substring(0,ne))]=r(ee.substring(ne+1)||"")}),Le.length===1?Z[$]:Z)}return!1}function V($){return u(M(),$)}function q($){return P($)}function F($,Y,H){return P($,Y,H),P}function O($,Y){P($,"",o({expires:-1},e.cookies,Y))}function M(){return p(P())}function G(){return P()}return o(P,{has:V,set:F,setItem:F,get:q,getItem:q,remove:O,removeItem:O,keys:M,getJSON:G}),sb=P,sb}var cb,lO;function PL(){if(lO)return cb;lO=1;var e=ta(),t=cx(),r=mI(),n=ea(),l=to();function a(u){try{var p="__xe_t";return u.setItem(p,1),u.removeItem(p),!0}catch(o){return!1}}function i(u){return navigator.userAgent.indexOf(u)>-1}function d(){var u,p,o,c=!1,m=!1,v=!1,x={isNode:!1,isMobile:c,isPC:!1,isDoc:!!t};if(!r&&typeof process!==e)x.isNode=!0;else{o=i("Edge"),p=i("Chrome"),c=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),x.isDoc&&(u=t.body||t.documentElement,l(["webkit","khtml","moz","ms","o"],function(S){x["-"+S]=!!u[S+"MatchesSelector"]}));try{m=a(r.localStorage)}catch(S){}try{v=a(r.sessionStorage)}catch(S){}n(x,{edge:o,firefox:i("Firefox"),msie:!o&&x["-ms"],safari:!p&&!o&&i("Safari"),isMobile:c,isPC:!c,isLocalStorage:m,isSessionStorage:v})}return x}return cb=d,cb}var ub,iO;function LL(){if(iO)return ub;iO=1;var e=KA(),t=ea(),r=ss(),n=zM(),l=XA(),a=ZA(),i=Fl(),d=BM(),u=WM(),p=GM(),o=to(),c=ox(),m=UM(),v=JA(),x=ax(),S=QA(),k=ix(),E=KM(),D=eP(),P=$l(),V=tP(),q=rP(),F=cs(),O=nP(),M=oP(),G=aP(),$=lP(),Y=iP(),H=sP(),j=eI(),B=cP(),xe=uP(),Z=ZM(),L=dP(),ne=fP(),Ve=pP(),Le=hP(),ee=aI(),se=gP(),ae=vP(),le=mP(),Ee=lI(),Oe=iI(),Be=Qo(),K=Br(),pe=qa(),J=bP(),ie=ya(),Ae=So(),_e=Sc(),_=Ha(),Fe=yi(),Pe=sI(),et=il(),Ge=ll(),ut=un(),gt=CP(),_t=yP(),qt=wP(),Ht=uI(),Tt=_a(),Dt=wi(),Lt=nx(),wt=dI(),ct=rI(),bt=oI(),St=nI(),Ye=SP(),X=EP(),W=fI(),ge=pI(),be=wa(),U=sx(),te=hI(),re=RP(),$e=gI(),qe=vI(),Je=DP(),lt=OP(),Ct=TP(),rt=MP(),ve=IP(),Me=FP(),ke=kP(),Ue=$P(),Qe=AP(),Xe=PP(),dt=yI(),Ke=LP(),ft=NP(),Rt=_P(),Q=ux(),Re=qP(),nt=HP(),vt=VP(),st=zP(),It=BP(),pt=WP(),Pt=GP(),yt=UP(),ht=jP(),Ut=us(),Wt=YP(),jt=SI(),Qt=KP(),ir=XP(),zt=ZP(),dr=YM(),pr=QM(),Wr=JP(),$r=QP(),an=fx(),Ro=DI(),zn=OI(),Dn=px(),oo=eL(),ao=kl(),Bn=sl(),On=tL(),Tn=rL(),y=hx(),Do=nL(),Qr=II(),qo=oL(),Oo=Mc(),An=aL(),lo=vs(),ln=FI(),Wn=Eo(),Ho=qI(),dn=HI(),Vo=sL(),io=_o(),To=cL(),Mn=AI(),xn=NI(),so=LI(),Sa=uL(),co=dL(),Mo=fL(),Gn=pL(),Cn=hL(),Io=_I(),zo=gL(),yn=BI(),ra=VI(),tn=zI(),Or=vL(),fn=mL(),na=bL(),Hr=xL(),uo=CL(),fo=yL(),oa=YI(),aa=wL(),Un=ro(),po=SL(),jn=Ci(),Pn=EL(),cr=RL(),Lr=DL(),sn=OL(),cl=TL(),Al=ML(),Va=IL(),I=XI(),he=FL(),Te=QI(),je=kL(),mt=$L(),xt=AL(),Vt=PL();return t(e,{assign:t,objectEach:r,lastObjectEach:n,objectMap:l,merge:a,uniq:m,union:v,sortBy:S,orderBy:k,shuffle:E,sample:D,some:d,every:u,slice:P,filter:V,find:O,findLast:M,findKey:q,includes:F,arrayIndexOf:Ee,arrayLastIndexOf:Oe,map:i,reduce:G,copyWithin:$,chunk:Y,zip:H,unzip:j,zipObject:B,flatten:xe,toArray:x,includeArrays:p,pluck:Z,invoke:L,arrayEach:o,lastArrayEach:c,toArrayTree:ne,toTreeArray:Ve,findTree:Le,eachTree:ee,mapTree:se,filterTree:ae,searchTree:le,hasOwnProp:Be,eqNull:Ge,isNaN:J,isFinite:Ye,isUndefined:ie,isArray:K,isFloat:X,isInteger:W,isFunction:Ae,isBoolean:ge,isString:_,isNumber:be,isRegExp:U,isObject:_e,isPlainObject:Fe,isDate:et,isError:te,isTypeError:re,isEmpty:$e,isNull:pe,isSymbol:qe,isArguments:Je,isElement:lt,isDocument:Ct,isWindow:rt,isFormData:ve,isMap:Me,isWeakMap:ke,isSet:Ue,isWeakSet:Qe,isLeapYear:Pe,isMatch:Xe,isEqual:dt,isEqualWith:Ke,getType:ft,uniqueId:Rt,getSize:wt,indexOf:qt,lastIndexOf:Ht,findIndexOf:Q,findLastIndexOf:Re,toStringJSON:nt,toJSONString:vt,keys:Tt,values:Dt,entries:st,pick:It,omit:pt,first:Pt,last:yt,each:ut,forOf:gt,lastForOf:_t,lastEach:ct,has:ht,get:Ut,set:Wt,groupBy:jt,countBy:Qt,clone:Lt,clear:St,remove:bt,range:ir,destructuring:zt,random:dr,min:Wr,max:pr,commafy:$r,round:an,ceil:Ro,floor:zn,toFixed:Dn,toNumber:ao,toNumberString:Bn,toInteger:oo,add:On,subtract:Tn,multiply:y,divide:Do,sum:Qr,mean:qo,now:dn,timestamp:Vo,isValidDate:io,isDateSame:To,toStringDate:Wn,toDateString:Ho,getWhatYear:Oo,getWhatQuarter:An,getWhatMonth:lo,getWhatWeek:Mn,getWhatDay:ln,getYearDay:xn,getYearWeek:so,getMonthWeek:Sa,getDayOfYear:co,getDayOfMonth:Mo,getDateDiff:Gn,trim:yn,trimLeft:tn,trimRight:ra,escape:Or,unescape:fn,camelCase:na,kebabCase:Hr,repeat:zo,padStart:Io,padEnd:Cn,startsWith:uo,endsWith:fo,template:oa,toFormatString:aa,toString:Un,toValueString:Un,noop:po,property:jn,bind:Pn,once:cr,after:Lr,before:sn,throttle:cl,debounce:Al,delay:Va,unserialize:I,serialize:he,parseUrl:Te,getBaseURL:je,locat:mt,browse:Vt,cookie:xt}),ub=e,ub}var NL=LL();const f=uc(NL);let Ii;const li=zr({modals:[],drawers:[],globalLoading:null,globalWatermark:null}),_L=Sr({setup(){const e=Se.getComponent("VxeModal"),t=Se.getComponent("VxeDrawer"),r=Se.getComponent("VxeLoading"),n=Se.getComponent("VxeWatermark");return()=>{const{modals:l,drawers:a,globalWatermark:i,globalLoading:d}=li;return[l.length?g("div",{key:1,class:"vxe-dynamics--modal"},l.map(u=>g(e,u))):Ze(),a.length?g("div",{key:2,class:"vxe-dynamics--drawer"},a.map(u=>g(t,u))):Ze(),i?g(n,i):Ze(),d?g(r,d):Ze()]}}}),no=ik(_L);function eF(){Ii||(Ii=document.createElement("div"),Ii.className="vxe-dynamics",document.body.appendChild(Ii),no.mount(Ii))}const tF="ui v4.5.16";tx.create("warn",tF);const qL=tx.create("error",tF),HL="4.5.16";Se.uiVersion=HL;Se.dynamicApp=no;function VL(e){return yc(e)}function zL(e){return yc(e)}Se.config=VL;Se.setup=zL;yc({alert:{},anchor:{},anchorLink:{},avatar:{},badge:{},breadcrumb:{separator:"/"},breadcrumbItem:{},button:{trigger:"hover",prefixTooltip:{enterable:!0},suffixTooltip:{enterable:!0}},buttonGroup:{},calendar:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1},card:{border:!0,padding:!0},carousel:{height:200,loop:!0,interval:5e3},carouselItem:{},checkbox:{},checkboxGroup:{},col:{},collapse:{padding:!0,expandConfig:{showIcon:!0}},collapsePane:{},countdown:{},colorPicker:{type:"hex",clearable:!0,showAlpha:!0,clickToCopy:!0,showColorExtractor:!0,showQuick:!0},datePicker:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,shortcutConfig:{align:"left",mode:"text",autoClose:!0}},drawer:{position:"right",showHeader:!0,lockView:!0,mask:!0,showTitleOverflow:!0,showClose:!0,padding:!0,cancelClosable:!0,confirmClosable:!0},empty:{},form:{validConfig:{showMessage:!0,autoPos:!0,theme:"beautify"},tooltipConfig:{enterable:!0},titleAsterisk:!0,titleOverflow:!1,padding:!0},formDesign:{height:400,showHeader:!0,showPc:!0},formGather:{},formGroup:{},formItem:{},formView:{},icon:{},iconPicker:{icons:["home","company","comment","setting","send","envelope","envelope-open","bell","search","print","pc","goods","chart-line","edit","delete","save","folder","microphone","flag","link","location","sunny","rmb","usd","user","add-user","add-users","star","unlock","time","text","feedback","calendar","association-form","cloud-download","cloud-upload","file","subtable","chart-bar-x","chart-bar-y","chart-line","chart-pie","chart-radar"]},image:{showPreview:!0,showPrintButton:!0,maskClosable:!0},imageGroup:{showPreview:!0,showPrintButton:!0},imagePreview:{showPrintButton:!0},input:{startDate:new Date(1900,0,1),endDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},layoutAside:{},layoutBody:{},layoutContainer:{},layoutFooter:{},layoutHeader:{},link:{underline:!0},listDesign:{height:400,showPc:!0},listView:{},list:{virtualYConfig:{enabled:!0,gt:100}},loading:{showIcon:!0,showText:!0},modal:{top:16,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,padding:!0,draggable:!0,showConfirmButton:null,cancelClosable:!0,confirmClosable:!0,zoomConfig:{minimizeMaxSize:10,minimizeVerticalOffset:{top:-24,left:0},minimizeHorizontalOffset:{top:0,left:32}},storageKey:"VXE_MODAL_POSITION"},noticeBar:{},numberInput:{digits:2,autoFill:!0,controls:!0},optgroup:{},option:{},pager:{pageSizePlacement:"top"},print:{},passwordInput:{controls:!0},printPageBreak:{},pulldown:{destroyOnClose:!0},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},rate:{},result:{},row:{},select:{multiCharOverflow:8,remoteConfig:{enabled:!0,autoLoad:!0},virtualYConfig:{enabled:!0,gt:100,oSize:2}},split:{resize:!0,itemConfig:{minWidth:40,minHeight:40}},splitPane:{},slider:{max:100,min:0},steps:{},switch:{},tabPane:{},tableSelect:{gridConfig:{showOverflow:!0,showHeaderOverflow:!0,showFooterOverflow:!0,rowConfig:{isHover:!0},virtualXConfig:{enabled:!0,gt:0},virtualYConfig:{enabled:!0,gt:0}}},tabs:{},tag:{},textEllipsis:{underline:!0},text:{},textarea:{resize:"none"},tip:{},tooltip:{trigger:"hover",theme:"dark",enterDelay:500,leaveDelay:300,isArrow:!0},tree:{indent:20,minHeight:60,radioConfig:{strict:!0}},treeSelect:{treeConfig:{radioConfig:{},checkboxConfig:{}}},upload:{mode:"all",imageTypes:["jpg","jpeg","png","gif"],showList:!0,showUploadButton:!0,showButtonText:!0,showRemoveButton:!0,showButtonIcon:!0,showPreview:!0,dragToUpload:!0},watermark:{rotate:-30,gap:[100,100]},table:{},colgroup:{},column:{},toolbar:{},grid:{}});const tt="vxe-icon-";LM({LOADING:tt+"spinner roll vxe-loading--default-icon",BUTTON_DROPDOWN:tt+"arrow-down",BUTTON_LOADING:tt+"spinner roll",BUTTON_TOOLTIP_ICON:tt+"question-circle-fill",MENU_ITEM_EXPAND_OPEN:tt+"arrow-down rotate180",MENU_ITEM_EXPAND_CLOSE:tt+"arrow-down",SELECT_LOADED:tt+"spinner roll",SELECT_OPEN:tt+"caret-down rotate180",SELECT_CLOSE:tt+"caret-down",ADD_OPTION:tt+"add",ICON_PICKER_OPEN:tt+"caret-down rotate180",ICON_PICKER_CLOSE:tt+"caret-down",PAGER_HOME:tt+"home-page",PAGER_END:tt+"end-page",PAGER_JUMP_PREV:tt+"arrow-double-left",PAGER_JUMP_NEXT:tt+"arrow-double-right",PAGER_PREV_PAGE:tt+"arrow-left",PAGER_NEXT_PAGE:tt+"arrow-right",PAGER_JUMP_MORE:tt+"ellipsis-h",RADIO_CHECKED:tt+"radio-checked-fill",RADIO_UNCHECKED:tt+"radio-unchecked",CHECKBOX_INDETERMINATE:tt+"checkbox-indeterminate-fill",CHECKBOX_CHECKED:tt+"checkbox-checked-fill",CHECKBOX_UNCHECKED:tt+"checkbox-unchecked",INPUT_CLEAR:tt+"error-circle-fill",INPUT_SEARCH:tt+"search",NUMBER_INPUT_PREV_NUM:tt+"caret-up",NUMBER_INPUT_NEXT_NUM:tt+"caret-down",DATE_PICKER_DATE:tt+"calendar",PASSWORD_INPUT_SHOW_PWD:tt+"eye-fill-close",PASSWORD_INPUT_HIDE_PWD:tt+"eye-fill",MODAL_ZOOM_MIN:tt+"minus",MODAL_ZOOM_REVERT:tt+"recover",MODAL_ZOOM_IN:tt+"square",MODAL_ZOOM_OUT:tt+"maximize",MODAL_CLOSE:tt+"close",MODAL_INFO:tt+"info-circle-fill",MODAL_SUCCESS:tt+"success-circle-fill",MODAL_WARNING:tt+"warning-circle-fill",MODAL_ERROR:tt+"error-circle-fill",MODAL_QUESTION:tt+"question-circle-fill",MODAL_LOADING:tt+"spinner roll",DRAWER_CLOSE:tt+"close",FORM_PREFIX:tt+"question-circle-fill",FORM_SUFFIX:tt+"question-circle-fill",FORM_FOLDING:tt+"arrow-up rotate180",FORM_UNFOLDING:tt+"arrow-up",FORM_DESIGN_STYLE_SETTING:tt+"layout",FORM_DESIGN_PROPS_PC:tt+"pc",FORM_DESIGN_PROPS_MOBILE:tt+"mobile",FORM_DESIGN_PROPS_ADD:tt+"add",FORM_DESIGN_PROPS_EDIT:tt+"edit",FORM_DESIGN_WIDGET_ADD:tt+"square-plus-fill",FORM_DESIGN_WIDGET_COPY:tt+"copy",FORM_DESIGN_WIDGET_DELETE:tt+"delete",FORM_DESIGN_WIDGET_SWAP_LR:tt+"swap",FORM_DESIGN_WIDGET_OPTION_DELETE:tt+"delete",FORM_DESIGN_WIDGET_OPTION_EXPAND_OPEN:tt+"square-plus",FORM_DESIGN_WIDGET_OPTION_EXPAND_CLOSE:tt+"square-minus",LIST_DESIGN_FIELD_SETTING:tt+"custom-column",LIST_DESIGN_LIST_SETTING:tt+"menu",LIST_DESIGN_LIST_SETTING_SEARCH_DELETE:tt+"delete",LIST_DESIGN_LIST_SETTING_ACTIVE_DELETE:tt+"delete",UPLOAD_FILE_ERROR:tt+"warning-circle-fill",UPLOAD_FILE_ADD:tt+"upload",UPLOAD_FILE_REMOVE:tt+"delete",UPLOAD_FILE_DOWNLOAD:tt+"download",UPLOAD_IMAGE_RE_UPLOAD:tt+"repeat",UPLOAD_IMAGE_ADD:tt+"add",UPLOAD_IMAGE_REMOVE:tt+"close",UPLOAD_LOADING:tt+"spinner roll vxe-loading--default-icon",UPLOAD_FILE_TYPE_DEFAULT:tt+"file",UPLOAD_FILE_TYPE_XLSX:tt+"file-excel",UPLOAD_FILE_TYPE_XLS:tt+"file-excel",UPLOAD_FILE_TYPE_PDF:tt+"file-pdf",UPLOAD_FILE_TYPE_PNG:tt+"file-image",UPLOAD_FILE_TYPE_GIF:tt+"file-image",UPLOAD_FILE_TYPE_JPG:tt+"file-image",UPLOAD_FILE_TYPE_JPEG:tt+"file-image",UPLOAD_FILE_TYPE_MD:tt+"file-markdown",UPLOAD_FILE_TYPE_PPD:tt+"file-ppt",UPLOAD_FILE_TYPE_DOCX:tt+"file-word",UPLOAD_FILE_TYPE_DOC:tt+"file-word",UPLOAD_FILE_TYPE_ZIP:tt+"file-zip",UPLOAD_FILE_TYPE_TXT:tt+"file-txt",IMAGE_PREVIEW_CLOSE:tt+"close",IMAGE_PREVIEW_PREVIOUS:tt+"arrow-left",IMAGE_PREVIEW_NEXT:tt+"arrow-right",IMAGE_PREVIEW_PCT_FULL:tt+"pct-full",IMAGE_PREVIEW_PCT_1_1:tt+"pct-1-1",IMAGE_PREVIEW_ZOOM_OUT:tt+"search-zoom-out",IMAGE_PREVIEW_ZOOM_IN:tt+"search-zoom-in",IMAGE_PREVIEW_ROTATE_LEFT:tt+"rotate-left",IMAGE_PREVIEW_ROTATE_RIGHT:tt+"rotate-right",IMAGE_PREVIEW_PRINT:tt+"print",IMAGE_PREVIEW_DOWNLOAD:tt+"download",ALERT_CLOSE:tt+"close",ALERT_INFO:tt+"info-circle-fill",ALERT_SUCCESS:tt+"success-circle-fill",ALERT_WARNING:tt+"warning-circle-fill",ALERT_ERROR:tt+"error-circle-fill",TREE_NODE_OPEN:tt+"caret-right rotate90",TREE_NODE_CLOSE:tt+"caret-right",TREE_NODE_LOADED:tt+"spinner roll",TREE_SELECT_LOADED:tt+"spinner roll",TREE_SELECT_OPEN:tt+"caret-down rotate180",TREE_SELECT_CLOSE:tt+"caret-down",TABLE_SELECT_LOADED:tt+"spinner roll",TABLE_SELECT_OPEN:tt+"caret-down rotate180",TABLE_SELECT_CLOSE:tt+"caret-down",TABS_TAB_BUTTON_LEFT:tt+"arrow-left",TABS_TAB_BUTTON_RIGHT:tt+"arrow-right",TABS_TAB_CLOSE:tt+"close",TABS_TAB_REFRESH:tt+"refresh",TABS_TAB_REFRESH_LOADING:tt+"refresh roll",TEXT_COPY:tt+"copy",TEXT_LOADING:tt+"spinner roll",CAROUSEL_HORIZONTAL_PREVIOUS:tt+"arrow-left",CAROUSEL_HORIZONTAL_NEXT:tt+"arrow-right",CAROUSEL_VERTICAL_PREVIOUS:tt+"arrow-up",CAROUSEL_VERTICAL_NEXT:tt+"arrow-down",COLLAPSE_OPEN:tt+"arrow-right rotate90",COLLAPSE_CLOSE:tt+"arrow-right",EMPTY_DEFAULT:tt+"empty",RESULT_INFO:tt+"info-circle-fill",RESULT_SUCCESS:tt+"success-circle-fill",RESULT_WARNING:tt+"warning-circle-fill",RESULT_ERROR:tt+"error-circle-fill",RESULT_QUESTION:tt+"question-circle-fill",RESULT_LOADING:tt+"spinner roll",RATE_CHECKED:tt+"star-fill",RATE_UNCHECKED:tt+"star",COLOR_COPY:tt+"copy",EYE_DROPPER:tt+"dropper",SPLIT_TOP_ACTION:tt+"arrow-up",SPLIT_BOTTOM_ACTION:tt+"arrow-down",SPLIT_LEFT_ACTION:tt+"arrow-left",SPLIT_RIGHT_ACTION:tt+"arrow-right"});let ei;function rF(){return ei||(ei=new Image,ei.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),ei}function BL(){return ei||rF()}const db={};function WL(e){return db[e]||(db[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),db[e]}function gx(e,t){return e&&e.className&&e.className.match&&e.className.match(WL(t))}function oc(e,t="px"){return f.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function Wi(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function _n(e,t,r,n){let l,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(r&&gx(a,r))l=a;else if(a===t)return{flag:r?!!l:!0,container:t,targetElem:l};a=a.parentNode}return{flag:!1}}function Fc(e){const t=e.getBoundingClientRect(),r=t.top,n=t.left,{scrollTop:l,scrollLeft:a,visibleHeight:i,visibleWidth:d}=Wi();return{boundingTop:r,top:l+r,boundingLeft:n,left:a+n,visibleHeight:i,visibleWidth:d}}function fi(){return as.getNext()}function ms(){return as.getCurrent()}function wo(e,t){if(e){const r=We().translate;return f.toValueString(r?r(""+e,t):e)}return""}function Cl(e){return e==null||e===""}function sO(e){return f.isBoolean(e)?e:null}function Kr(e){return f.isArray(e)?e:e?[e]:[]}const Gi=Sr({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:()=>We().tooltip.size||We().size},selector:String,trigger:{type:String,default:()=>We().tooltip.trigger||"hover"},theme:{type:String,default:()=>We().tooltip.theme||"dark"},content:{type:[String,Number],default:null},useHTML:Boolean,zIndex:[String,Number],popupClassName:[String,Function],isArrow:{type:Boolean,default:()=>We().tooltip.isArrow},enterable:{type:Boolean,default:()=>We().tooltip.enterable},enterDelay:{type:Number,default:()=>We().tooltip.enterDelay},leaveDelay:{type:Number,default:()=>We().tooltip.leaveDelay}},emits:["update:modelValue"],setup(e,t){const{slots:r,emit:n}=t,l=f.uniqueId(),{computeSize:a}=Vn(e),i=zr({target:null,isUpdate:!1,visible:!1,tipContent:"",tipActive:!1,tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),d={},u=it(),p={refElem:u},o={xID:l,props:e,context:t,reactData:i,internalData:d,getRefMaps:()=>p};let c={};const m=()=>{const{tipTarget:$,tipStore:Y}=i;if($){const{scrollTop:H,scrollLeft:j,visibleWidth:B}=Wi(),{top:xe,left:Z}=Fc($),L=u.value,ne=6,Ve=L.offsetHeight,Le=L.offsetWidth;let ee=Z,se=xe-Ve-ne;ee=Math.max(ne,Z+Math.floor(($.offsetWidth-Le)/2)),ee+Le+ne>j+B&&(ee=j+B-Le-ne),xe-Ve<H+ne&&(Y.placement="bottom",se=xe+$.offsetHeight+ne),Y.style.top=`${se}px`,Y.style.left=`${ee}px`,Y.arrowStyle.left=`${Z-ee+$.offsetWidth/2}px`}},v=$=>{$!==i.visible&&(i.visible=$,i.isUpdate=!0,n("update:modelValue",$))},x=()=>{i.tipZindex<ms()&&(i.tipZindex=fi())},S=()=>{i.visible?c.close():F(i.target||O(),e.content)},k=()=>{F(i.target||O(),e.content)},E=()=>{const{trigger:$,enterable:Y,leaveDelay:H}=e;i.tipActive=!1,Y&&$==="hover"?setTimeout(()=>{i.tipActive||c.close()},H):c.close()},D=()=>{i.tipActive=!0},P=()=>{const{trigger:$,enterable:Y,leaveDelay:H}=e;i.tipActive=!1,Y&&$==="hover"&&setTimeout(()=>{i.tipActive||c.close()},H)},V=()=>{const{tipStore:$}=i,Y=u.value;return Y&&(Y.parentNode||document.body.appendChild(Y)),v(!0),x(),$.placement="top",$.style={width:"auto",left:0,top:0,zIndex:e.zIndex||i.tipZindex},$.arrowStyle={left:"50%"},c.updatePlacement()},q=()=>{d.showDelayTip=f.debounce(()=>{i.tipActive&&V()},e.enterDelay,{leading:!1,trailing:!0})},F=($,Y)=>{if(!r.content&&(Y===""||f.eqNull(Y)))return ye();if($){const{showDelayTip:j}=d,{trigger:B,enterDelay:xe}=e;if(i.tipActive=!0,i.tipTarget=$,i.tipContent=Y,xe&&B==="hover")j&&j();else return V()}return ye()},O=()=>{const{selector:$}=e;if($){if(f.isElement($))return $;if(f.isString($))return document.querySelector($)}return null};c={dispatchEvent($,Y,H){n($,$n(H,{$tooltip:o},Y))},open($,Y){return F($||i.target||O(),Y)},close(){return i.tipTarget=null,i.tipActive=!1,Object.assign(i.tipStore,{style:{},placement:"",arrowStyle:null}),v(!1),ye()},toVisible($,Y){return F($,Y)},updatePlacement(){return ye().then(()=>{const{tipTarget:$}=i,Y=u.value;if($&&Y)return m(),ye().then(()=>{m()})})},isActived(){return i.tipActive},setActived($){i.tipActive=!!$}},Object.assign(o,c);const M=()=>{const{useHTML:$}=e,{tipContent:Y}=i,H=r.content;return H?g("div",{key:1,class:"vxe-tooltip--content"},Kr(H({}))):$?g("div",{key:2,class:"vxe-tooltip--content",innerHTML:Y}):g("div",{key:3,class:"vxe-tooltip--content"},`${Y}`)},G=()=>{const{popupClassName:$,theme:Y,isArrow:H,enterable:j}=e,{tipActive:B,visible:xe,tipStore:Z}=i,L=r.default,ne=a.value;let Ve;return j&&(Ve={onMouseenter:D,onMouseleave:P}),g("div",Object.assign({ref:u,class:["vxe-tooltip--wrapper",`theme--${Y}`,$?f.isFunction($)?$({$tooltip:o}):$:"",{[`size--${ne}`]:ne,[`placement--${Z.placement}`]:Z.placement,"is--enterable":j,"is--visible":xe,"is--arrow":H,"is--active":B}],style:Z.style},Ve),[M(),g("div",{class:"vxe-tooltip--arrow",style:Z.arrowStyle}),...L?Kr(L({})):[]])};return er(()=>e.enterDelay,()=>{q()}),er(()=>e.content,$=>{i.tipContent=$}),er(()=>e.modelValue,$=>{i.isUpdate||($?F(i.target||O(),e.content):c.close()),i.isUpdate=!1}),qn(()=>{ye(()=>{const{trigger:$,content:Y}=e,H=u.value;if(H){const j=H.parentNode;if(j){i.tipContent=Y,i.tipZindex=fi(),f.arrayEach(H.children,(xe,Z)=>{Z>1&&(j.insertBefore(xe,H),i.target||(i.target=xe))}),j.removeChild(H);const{target:B}=i;B&&($==="hover"?(B.onmouseenter=k,B.onmouseleave=E):$==="click"&&(B.onclick=S)),e.modelValue&&F(B||O(),Y)}}})}),Ki(()=>{const{target:$}=i,Y=u.value;if($&&($.onmouseenter=null,$.onmouseleave=null,$.onclick=null),Y){const H=Y.parentNode;H&&H.removeChild(Y)}}),q(),o.renderVN=G,o},render(){return this.renderVN()}}),ko=Sr({name:"VxeButton",props:{type:String,mode:String,className:[String,Function],popupClassName:[String,Function],size:{type:String,default:()=>We().button.size||We().size},name:[String,Number],routerLink:Object,permissionCode:[String,Number],content:String,placement:String,status:String,title:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,trigger:{type:String,default:()=>We().button.trigger},align:String,prefixTooltip:Object,suffixTooltip:Object,destroyOnClose:{type:Boolean,default:()=>We().button.destroyOnClose},transfer:{type:Boolean,default:null}},emits:["click","mouseenter","mouseleave","dropdown-click"],setup(e,t){const{slots:r,emit:n}=t,l=or("$xeModal",null),a=or("$xeDrawer",null),i=or("$xeTable",null),d=or("$xeForm",null),u=or("$xeButtonGroup",null),p=f.uniqueId(),{computeSize:o}=Vn(e),{computePermissionInfo:c}=HM(e),m=zr({initialized:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),v={showTime:void 0,tooltipTimeout:void 0},x=it(),S=it(),k=it(),E={refElem:x},D={xID:p,props:e,context:t,reactData:m,internalData:v,getRefMaps:()=>E};let P={};const V=ue(()=>{const{transfer:_}=e;if(_===null){const Fe=We().button.transfer;if(f.isBoolean(Fe))return Fe;if(i||l||a||d)return!0}return _}),q=ue(()=>{const{disabled:_}=e,Fe=c.value;return _||Fe.disabled}),F=ue(()=>{const{type:_}=e;return _?["submit","reset","button"].indexOf(_)>-1:!1}),O=ue(()=>{const{type:_,mode:Fe}=e;return Fe==="text"||_==="text"||u&&u.props.mode==="text"?"text":"button"}),M=ue(()=>{const{status:_}=e;return _||(u?u.props.status:"")}),G=ue(()=>{const{align:_}=e;return _||(u?u.props.align:!1)}),$=ue(()=>{const{round:_}=e;return _||(u?u.props.round:!1)}),Y=ue(()=>{const{circle:_}=e;return _||(u?u.props.circle:!1)}),H=ue(()=>Object.assign({},e.prefixTooltip)),j=ue(()=>Object.assign({},e.suffixTooltip)),B=()=>{m.panelIndex<ms()&&(m.panelIndex=fi())},xe=()=>ye().then(()=>{const{placement:_}=e,{panelIndex:Fe}=m,Pe=S.value,et=k.value,Ge=V.value;if(et&&Pe){const ut=Pe.offsetHeight,gt=Pe.offsetWidth,_t=et.offsetHeight,qt=et.offsetWidth,Ht=5,Tt={zIndex:Fe},{top:Dt,left:Lt,boundingTop:wt,visibleHeight:ct,visibleWidth:bt}=Fc(Pe);let St="bottom";if(Ge){let Ye=Lt+gt-qt,X=Dt+ut;_==="top"?(St="top",X=Dt-_t):_||(wt+ut+_t+Ht>ct&&(St="top",X=Dt-_t),X<Ht&&(St="bottom",X=Dt+ut)),Ye+qt+Ht>bt&&(Ye-=Ye+qt+Ht-bt),Ye<Ht&&(Ye=Ht),Object.assign(Tt,{left:`${Ye}px`,right:"auto",top:`${X}px`,minWidth:`${gt}px`})}else _==="top"?(St="top",Tt.bottom=`${ut}px`):_||wt+ut+_t>ct&&wt-ut-_t>Ht&&(St="top",Tt.bottom=`${ut}px`);return m.panelStyle=Tt,m.panelPlacement=St,ye()}}),Z=_=>{u&&u.handleClick({name:e.name},_),J("click",{$event:_},_)},L=_=>{_.button===0&&_.stopPropagation()},ne=_=>{const Fe=_.currentTarget,Pe=k.value,{flag:et,targetElem:Ge}=_n(_,Fe,"vxe-button");et&&(Pe&&(Pe.dataset.active="N"),m.visiblePanel=!1,setTimeout(()=>{(!Pe||Pe.dataset.active!=="Y")&&(m.isAniVisible=!1)},350),J("dropdown-click",{name:Ge.getAttribute("name"),$event:_},_))},Ve=()=>{const _=k.value;_&&(_.dataset.active="Y",m.isAniVisible=!0,setTimeout(()=>{_.dataset.active==="Y"&&(m.visiblePanel=!0,B(),xe(),setTimeout(()=>{m.visiblePanel&&xe()},50))},20))},Le=_=>{const{loading:Fe}=e;q.value||Fe||(Ee(),se(_))},ee=_=>{Oe(),ae(_)},se=_=>{J("mouseenter",{},_)},ae=_=>{J("mouseleave",{},_)},le=_=>{const{loading:Fe,trigger:Pe}=e;q.value||Fe||(Pe==="click"&&(m.visiblePanel?Oe():Ee()),Z(_))},Ee=()=>{const{trigger:_}=e,Fe=k.value;return Fe&&(Fe.dataset.active="Y",m.initialized||(m.initialized=!0),v.showTime=setTimeout(()=>{Fe.dataset.active==="Y"?Ve():m.isAniVisible=!1},_==="click"?50:250)),ye()},Oe=()=>{const _=k.value;return clearTimeout(v.showTime),_?(_.dataset.active="N",setTimeout(()=>{_.dataset.active!=="Y"&&(m.visiblePanel=!1,setTimeout(()=>{_.dataset.active!=="Y"&&(m.isAniVisible=!1)},350))},100)):(m.isAniVisible=!1,m.visiblePanel=!1),ye()},Be=()=>{Oe()},K=(_,Fe)=>g(Gi,{useHTML:_.useHTML,content:_.content,enterable:_.enterable,theme:_.theme},{default(){return g("i",{class:[`vxe-button--tooltip-${Fe}-icon`,_.icon||lr().BUTTON_TOOLTIP_ICON]})}}),pe=()=>{const{content:_,icon:Fe,loading:Pe,prefixTooltip:et,suffixTooltip:Ge}=e,ut=H.value,gt=j.value,_t=r.icon,qt=r.default,Ht=[];return et&&Ht.push(K(ut,"prefix")),Pe?Ht.push(g("i",{class:["vxe-button--loading-icon",lr().BUTTON_LOADING]})):_t?Ht.push(g("span",{class:"vxe-button--custom-icon"},_t({}))):Fe&&Ht.push(g("i",{class:["vxe-button--icon",Fe]})),qt?Ht.push(g("span",{class:"vxe-button--content"},qt({}))):_&&Ht.push(g("span",{class:"vxe-button--content"},wo(_))),Ge&&Ht.push(K(gt,"suffix")),Ht},J=(_,Fe,Pe)=>{n(_,$n(Pe,{$button:D},Fe))};P={dispatchEvent:J,openPanel:Ee,closePanel:Oe,focus(){const _=S.value;return _&&_.focus(),ye()},blur(){const _=S.value;return _&&_.blur(),ye()}};const ie=_=>{const Fe=k.value;m.visiblePanel&&!_n(_,Fe).flag&&Oe()},Ae=_=>{const Fe=q.value,{visiblePanel:Pe}=m;if(!Fe){const et=x.value,Ge=k.value;m.isActivated=_n(_,et).flag||_n(_,Ge).flag,Pe&&!m.isActivated&&Oe()}};Object.assign(D,P);const _e=()=>{const{className:_,popupClassName:Fe,trigger:Pe,title:et,routerLink:Ge,type:ut,destroyOnClose:gt,name:_t,loading:qt}=e,{initialized:Ht,isAniVisible:Tt,visiblePanel:Dt}=m,Lt=F.value,wt=O.value,ct=M.value,bt=$.value,St=G.value,Ye=Y.value,X=V.value,W=q.value,ge=c.value,be=o.value,U=r.dropdowns;if(!ge.visible)return Ze();if(U){const te={},re={};return Pe==="hover"&&(te.onMouseenter=Le,te.onMouseleave=ee,re.onMouseenter=Ve,re.onMouseleave=Be),g("div",{ref:x,class:["vxe-button--dropdown",_?f.isFunction(_)?_({$button:D}):_:"",{[`size--${be}`]:be,"is--active":Dt}]},[Ge?g(Rb("router-link"),Object.assign({ref:S,class:["vxe-button","vxe-button--link",`type--${wt}`,St?`align--${St}`:"",_?f.isFunction(_)?_({$button:D}):_:"",{[`size--${be}`]:be,[`theme--${ct}`]:ct,"is--round":bt,"is--circle":Ye,"is--disabled":W||qt,"is--loading":qt}],title:et,name:_t,type:Lt?ut:"button",disabled:W||qt,to:Ge,onClick:le},te),{default(){return pe().concat([g("i",{class:`vxe-button--dropdown-arrow ${lr().BUTTON_DROPDOWN}`})])}}):g("button",Object.assign({ref:S,class:["vxe-button",`type--${wt}`,St?`align--${St}`:"",_?f.isFunction(_)?_({$button:D}):_:"",{[`size--${be}`]:be,[`theme--${ct}`]:ct,"is--round":bt,"is--circle":Ye,"is--disabled":W||qt,"is--loading":qt}],title:et,name:_t,type:Lt?ut:"button",disabled:W||qt,onClick:le},te),pe().concat([g("i",{class:`vxe-button--dropdown-arrow ${lr().BUTTON_DROPDOWN}`})])),g(Xi,{to:"body",disabled:X?!Ht:!0},[g("div",Object.assign({ref:k,class:["vxe-button--dropdown-panel",Fe?f.isFunction(Fe)?Fe({$button:D}):Fe:"",{[`size--${be}`]:be,"ani--leave":Tt,"ani--enter":Dt}],placement:m.panelPlacement,style:m.panelStyle},re),Ht&&(Dt||Tt)?[g("div",{class:"vxe-button--dropdown-wrapper",onMousedown:L,onClick:ne},gt&&!Dt?[]:U({}))]:[])])])}return Ge?g(Rb("router-link"),{ref:S,class:["vxe-button","vxe-button--link",`type--${wt}`,St?`align--${St}`:"",_?f.isFunction(_)?_({$button:D}):_:"",{[`size--${be}`]:be,[`theme--${ct}`]:ct,"is--round":bt,"is--circle":Ye,"is--disabled":W||qt,"is--loading":qt}],title:et,name:_t,type:Lt?ut:"button",disabled:W||qt,to:Ge,onClick:Z,onMouseenter:se,onMouseleave:ae},{default(){return pe()}}):g("button",{ref:S,class:["vxe-button",`type--${wt}`,St?`align--${St}`:"",_?f.isFunction(_)?_({$button:D}):_:"",{[`size--${be}`]:be,[`theme--${ct}`]:ct,"is--round":bt,"is--circle":Ye,"is--disabled":W||qt,"is--loading":qt}],title:et,name:_t,type:Lt?ut:"button",disabled:W||qt,onClick:Z,onMouseenter:se,onMouseleave:ae},pe())};return D.renderVN=_e,qn(()=>{Kt.on(D,"mousewheel",ie),Kt.on(D,"mousedown",Ae)}),Ao(()=>{Kt.off(D,"mousewheel"),Kt.off(D,"mousedown")}),D},render(){return this.renderVN()}}),vx=Object.assign({},ko,{install(e){e.component(ko.name,ko)}});no.use(vx);Se.component(ko);const Gs=Sr({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:{type:Boolean,default:null},size:{type:String,default:()=>We().checkbox.size||We().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:r,emit:n}=t,l=or("$xeForm",null),a=or("xeFormItemInfo",null),i=or("$xeCheckboxGroup",null),d=f.uniqueId(),u=zr({}),p={xID:d,props:e,context:t,reactData:u};let o={};const{computeSize:c}=Vn(e),m=ue(()=>i?f.includes(i.props.modelValue,e.label):e.modelValue===e.checkedValue),v=ue(()=>{const{disabled:E}=e,D=m.value;if(E===null&&i){const{computeIsDisabled:P,computeIsMaximize:V}=i.getComputeMaps(),q=P.value,F=V.value;return q||F&&!D}return E}),x=E=>{const{checkedValue:D,uncheckedValue:P}=e;if(!v.value){const q=E.target.checked,F=q?D:P,O={checked:q,value:F,label:e.label};i?i.handleChecked(O,E):(n("update:modelValue",F),o.dispatchEvent("change",O,E),l&&a&&l.triggerItemEvent(E,a.itemConfig.field,F))}};o={dispatchEvent:(E,D,P)=>{n(E,$n(P,{$checkbox:p},D))}},Object.assign(p,o);const k=()=>{const{label:E}=e,D=c.value,P=v.value,V=m.value,q=!V&&e.indeterminate;return g("label",{key:E,class:["vxe-checkbox",{[`size--${D}`]:D,"is--indeterminate":q,"is--disabled":P,"is--checked":V}],title:e.title},[g("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:P,checked:V,onChange:x}),g("span",{class:["vxe-checkbox--icon",q?lr().CHECKBOX_INDETERMINATE:V?lr().CHECKBOX_CHECKED:lr().CHECKBOX_UNCHECKED]}),g("span",{class:"vxe-checkbox--label"},r.default?r.default({}):wo(e.content))])};return p.renderVN=k,p},render(){return this.renderVN()}}),nF=Object.assign(Gs,{install(e){e.component(Gs.name,Gs)}});no.use(nF);Se.component(Gs);const Us=Sr({name:"VxeIcon",props:{name:String,className:String,roll:Boolean,status:String,size:{type:String,default:()=>We().icon.size||We().size}},emits:["click"],setup(e,t){const{emit:r}=t,n=f.uniqueId(),{computeSize:l}=Vn(e),a={xID:n,props:e,context:t},i=c=>{r("click",$n(c,{}))};Object.assign(a,{dispatchEvent:(c,m,v)=>{r(c,$n(v,{$icon:a},m))}},{});const o=()=>{const{name:c,roll:m,status:v,className:x}=e,S=l.value;return g("i",{class:["vxe-icon",`vxe-icon-${c}`,`${x||""}`,{[`size--${S}`]:S,[`theme--${v}`]:v,roll:m}],onClick:i})};return a.renderVN=o,a},render(){return this.renderVN()}}),oF=Object.assign({},Us,{install(e){e.component(Us.name,Us)}});no.use(oF);Se.component(Us);function GL(e){if(e){const t=new Date;let r=0,n=0,l=0;if(f.isDate(e))r=e.getHours(),n=e.getMinutes(),l=e.getSeconds();else{e=f.toValueString(e);const a=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);a&&(r=f.toNumber(a[1]),n=f.toNumber(a[3]),l=f.toNumber(a[5]))}return t.setHours(r),t.setMinutes(n),t.setSeconds(l),t}return new Date("")}function cO(e){const t=e.getMonth();return t<3?1:t<6?2:t<9?3:4}function $o(e){return f.isString(e)?e.replace(/,/g,""):e}function Ui(e,t){return/^-/.test(""+e)?f.toFixed(f.ceil(e,t),t):f.toFixed(f.floor(e,t),t)}const Ol=Sr({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:()=>We().input.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:{type:String,default:null},maxLength:{type:[String,Number],default:()=>We().input.maxLength},autoComplete:{type:String,default:"off"},autoFocus:{type:Boolean,default:null},align:String,form:String,className:String,size:{type:String,default:()=>We().input.size||We().size},multiple:Boolean,showWordCount:Boolean,countMethod:Function,min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],trim:{type:Boolean,default:()=>We().input.trim},exponential:{type:Boolean,default:()=>We().input.exponential},controls:{type:Boolean,default:()=>We().input.controls},digits:{type:[String,Number],default:()=>We().input.digits},startDate:{type:[String,Number,Date],default:()=>We().input.startDate},endDate:{type:[String,Number,Date],default:()=>We().input.endDate},minDate:[String,Number,Date],maxDate:[String,Number,Date],startWeek:Number,startDay:{type:[String,Number],default:()=>We().input.startDay},labelFormat:String,valueFormat:String,editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:()=>We().input.festivalMethod},disabledMethod:{type:Function,default:()=>We().input.disabledMethod},selectDay:{type:[String,Number],default:()=>We().input.selectDay},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:null},maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup(e,t){const{slots:r,emit:n}=t,l=or("$xeSelect",null),a=or("$xeTreeSelect",null),i=or("$xeModal",null),d=or("$xeDrawer",null),u=or("$xeTable",null),p=or("$xeForm",null),o=or("xeFormItemInfo",null),c=f.uniqueId(),{computeSize:m}=Vn(e),v=zr({initialized:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,isAniVisible:!1,panelStyle:{},panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),x={yearSize:12,monthSize:20,quarterSize:8,hpTimeout:void 0,dnTimeout:void 0},S=it(),k=it(),E=it(),D=it(),P=it(),V={refElem:S,refInput:k},q={xID:c,props:e,context:t,reactData:v,internalData:x,getRefMaps:()=>V};let F={};const O=(I,he)=>{const{type:Te}=e;return Te==="time"?GL(I):f.toStringDate(I,he)},M=ue(()=>{const{transfer:I}=e;if(I===null){const he=We().input.transfer;if(f.isBoolean(he))return he;if(u||i||d||p)return!0}return I}),G=ue(()=>p?p.props.readonly:!1),$=ue(()=>{const{readonly:I}=e;return I}),Y=ue(()=>{const{disabled:I}=e;return I===null?p?p.props.disabled:!1:I}),H=ue(()=>{const{maxLength:I,maxlength:he}=e,Te=I||he;return B.value&&!f.toNumber(Te)?16:Te}),j=ue(()=>{const{type:I}=e;return I==="time"||I==="datetime"}),B=ue(()=>["number","integer","float"].indexOf(e.type)>-1),xe=ue(()=>f.getSize(v.inputValue)),Z=ue(()=>{const I=xe.value,he=H.value;return he&&I>f.toNumber(he)}),L=ue(()=>j.value||["date","week","month","quarter","year"].indexOf(e.type)>-1),ne=ue(()=>e.type==="password"),Ve=ue(()=>e.type==="search"),Le=ue(()=>f.toInteger(e.digits)||1),ee=ue(()=>{const{type:I}=e,he=Le.value,Te=e.step;return I==="integer"?f.toInteger(Te)||1:I==="float"?f.toNumber(Te)||1/Math.pow(10,he):f.toNumber(Te)||1}),se=ue(()=>{const{type:I}=e,he=B.value,Te=L.value,je=ne.value;return e.clearable&&(je||he||Te||I==="text"||I==="search")}),ae=ue(()=>e.startDate?f.toStringDate(e.startDate):null),le=ue(()=>e.endDate?f.toStringDate(e.endDate):null),Ee=ue(()=>["date","week","month","quarter","year"].indexOf(e.type)>-1),Oe=ue(()=>{const{modelValue:I,multiple:he}=e,Te=L.value,je=pe.value;return he&&I&&Te?f.toValueString(I).split(",").map(mt=>{const xt=O(mt,je);return f.isValidDate(xt)?xt:null}):[]}),Be=ue(()=>{const I=Oe.value,he=pe.value;return I.map(Te=>f.toDateString(Te,he))}),K=ue(()=>{const I=Oe.value,he=Fe.value;return I.map(Te=>f.toDateString(Te,he)).join(", ")}),pe=ue(()=>{const{type:I,valueFormat:he}=e;return he||(I==="time"?"HH:mm:ss":I==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),J=ue(()=>{const{modelValue:I}=e,he=L.value,Te=pe.value;let je=null;if(I&&he){const mt=O(I,Te);f.isValidDate(mt)&&(je=mt)}return je}),ie=ue(()=>{const I=ae.value,{selectMonth:he}=v;return he&&I?he<=I:!1}),Ae=ue(()=>{const I=le.value,{selectMonth:he}=v;return he&&I?he>=I:!1}),_e=ue(()=>{const{datetimePanelValue:I}=v,he=W.value;return I?f.toDateString(I,he?"HH:mm:ss":"HH:mm"):""}),_=ue(()=>{const I=J.value,he=j.value;return I&&he?(I.getHours()*3600+I.getMinutes()*60+I.getSeconds())*1e3:0}),Fe=ue(()=>{const{labelFormat:I}=e;return L.value?I||Jt(`vxe.input.date.labelFormat.${e.type}`):""}),Pe=ue(()=>{const{selectMonth:I,currentDate:he}=v,{yearSize:Te}=x,je=[];if(I&&he){const mt=he.getFullYear(),xt=I.getFullYear(),Vt=new Date(xt-xt%Te,0,1);for(let $t=-4;$t<Te+4;$t++){const Ne=f.getWhatYear(Vt,$t,"first"),kt=Ne.getFullYear();je.push({date:Ne,isCurrent:!0,isPrev:$t<0,isNow:mt===kt,isNext:$t>=Te,year:kt})}}return je}),et=ue(()=>{const I=L.value;let he="",Te="";if(I){const{datePanelType:je,selectMonth:mt}=v,xt=Pe.value;let Vt="",$t;mt&&(Vt=mt.getFullYear(),$t=mt.getMonth()+1),je==="quarter"||je==="month"?he=Jt("vxe.datePicker.yearTitle",[Vt]):je==="year"?he=xt.length?`${xt[0].year} - ${xt[xt.length-1].year}`:"":(he=Jt("vxe.datePicker.yearTitle",[Vt]),Te=$t?Jt(`vxe.input.date.m${$t}`):"-")}return{y:he,m:Te}}),Ge=ue(()=>{const{startDay:I,startWeek:he}=e;return f.toNumber(f.isNumber(I)||f.isString(I)?I:he)}),ut=ue(()=>{const I=[];if(L.value){let Te=Ge.value;I.push(Te);for(let je=0;je<6;je++)Te>=6?Te=0:Te++,I.push(Te)}return I}),gt=ue(()=>L.value?ut.value.map(Te=>({value:Te,label:Jt(`vxe.input.date.weeks.w${Te}`)})):[]),_t=ue(()=>{if(L.value){const he=gt.value;return[{label:Jt("vxe.input.date.weeks.w")}].concat(he)}return[]}),qt=ue(()=>{const I=Pe.value;return f.chunk(I,4)}),Ht=ue(()=>{const{selectMonth:I,currentDate:he}=v,{quarterSize:Te}=x,je=[];if(I&&he){const mt=he.getFullYear(),xt=cO(he),Vt=f.getWhatYear(I,0,"first"),$t=Vt.getFullYear();for(let Ne=-2;Ne<Te-2;Ne++){const kt=f.getWhatQuarter(Vt,Ne),rr=kt.getFullYear(),ar=cO(kt),Er=rr<$t;je.push({date:kt,isPrev:Er,isCurrent:rr===$t,isNow:rr===mt&&ar===xt,isNext:!Er&&rr>$t,quarter:ar})}}return je}),Tt=ue(()=>{const I=Ht.value;return f.chunk(I,2)}),Dt=ue(()=>{const{selectMonth:I,currentDate:he}=v,{monthSize:Te}=x,je=[];if(I&&he){const mt=he.getFullYear(),xt=he.getMonth(),Vt=f.getWhatYear(I,0,"first").getFullYear();for(let $t=-4;$t<Te-4;$t++){const Ne=f.getWhatYear(I,0,$t),kt=Ne.getFullYear(),rr=Ne.getMonth(),ar=kt<Vt;je.push({date:Ne,isPrev:ar,isCurrent:kt===Vt,isNow:kt===mt&&rr===xt,isNext:!ar&&kt>Vt,month:rr})}}return je}),Lt=ue(()=>{const I=Dt.value;return f.chunk(I,4)}),wt=ue(()=>{const{selectMonth:I,currentDate:he}=v,Te=[];if(I&&he){const je=_.value,mt=ut.value,xt=he.getFullYear(),Vt=he.getMonth(),$t=he.getDate(),Ne=I.getFullYear(),kt=I.getMonth(),rr=I.getDay(),ar=-mt.indexOf(rr),Er=new Date(f.getWhatDay(I,ar).getTime()+je);for(let cn=0;cn<42;cn++){const Ln=f.getWhatDay(Er,cn),Nn=Ln.getFullYear(),Jr=Ln.getMonth(),In=Ln.getDate(),Ea=Ln<I;Te.push({date:Ln,isPrev:Ea,isCurrent:Nn===Ne&&Jr===kt,isNow:Nn===xt&&Jr===Vt&&In===$t,isNext:!Ea&&kt!==Jr,label:In})}}return Te}),ct=ue(()=>{const I=wt.value;return f.chunk(I,7)}),bt=ue(()=>{const I=ct.value,he=Ge.value;return I.map(Te=>{const je=Te[0];return[{date:je.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:f.getYearWeek(je.date,he)}].concat(Te)})}),St=ue(()=>{const I=[];if(j.value)for(let Te=0;Te<24;Te++)I.push({value:Te,label:(""+Te).padStart(2,"0")});return I}),Ye=ue(()=>{const I=[];if(j.value)for(let Te=0;Te<60;Te++)I.push({value:Te,label:(""+Te).padStart(2,"0")});return I}),X=ue(()=>{const I=pe.value;return!/HH/.test(I)||/mm/.test(I)}),W=ue(()=>{const I=pe.value;return!/HH/.test(I)||/ss/.test(I)}),ge=ue(()=>Ye.value),be=ue(()=>{const{type:I,editable:he,multiple:Te}=e;return $.value||Te||!he||I==="week"||I==="quarter"}),U=ue(()=>{const{type:I}=e,{showPwd:he}=v,Te=B.value,je=L.value,mt=ne.value;return je||Te||mt&&he||I==="number"?"text":I}),te=ue(()=>{const{placeholder:I}=e;if(I)return wo(I);if(f.eqNull(I)){const he=We().input.placeholder;return he?wo(he):Jt("vxe.base.pleaseInput")}return I}),re=ue(()=>{const{type:I,immediate:he}=e;return he||!(I==="text"||I==="number"||I==="integer"||I==="float")}),$e=ue(()=>{const{type:I}=e,{inputValue:he}=v;return B.value?I==="integer"?f.toInteger($o(he)):f.toNumber($o(he)):0}),qe=ue(()=>{const{min:I}=e,{inputValue:he}=v,Te=B.value,je=$e.value;return(he||he===0)&&Te&&I!==null?je<=f.toNumber(I):!1}),Je=ue(()=>{const{max:I}=e,{inputValue:he}=v,Te=B.value,je=$e.value;return(he||he===0)&&Te&&I!==null?je>=f.toNumber(I):!1}),lt=I=>{const{type:he,exponential:Te}=e,je=H.value,mt=Le.value,xt=he==="float"?Ui(I,mt):f.toValueString(I);return Te&&(I===xt||f.toValueString(I).toLowerCase()===f.toNumber(xt).toExponential())?I:xt.slice(0,je)},Ct=I=>{n("update:modelValue",I)},rt=I=>{const{inputValue:he}=v;F.dispatchEvent(I.type,{value:he},I)},ve=(I,he)=>{e.trim&&(I=`${I||""}`.trim()),v.inputValue=I,Ct(I),F.dispatchEvent("input",{value:I},he),f.toValueString(e.modelValue)!==I&&(F.dispatchEvent("change",{value:I},he),!l&&!a&&p&&o&&p.triggerItemEvent(he,o.itemConfig.field,I))},Me=(I,he)=>{const Te=L.value,je=re.value;v.inputValue=I,Te||(je?ve(I,he):F.dispatchEvent("input",{value:I},he))},ke=I=>{const Te=I.target.value;Me(Te,I)},Ue=I=>{re.value||rt(I)},Qe=I=>{const{inputValue:he}=v,Te=re.value,je=he;Te||ve(je,I),yt(),v.visiblePanel||(v.isActivated=!1),F.dispatchEvent("blur",{value:je},I),!l&&!a&&p&&o&&p.triggerItemEvent(I,o.itemConfig.field,je)},Xe=I=>{const{inputValue:he}=v,Te=B.value,je=L.value;v.isActivated=!0,Te?v.inputValue=Cl(he)?"":`${f.toNumber(he)}`:je&&Gn(I),rt(I)},dt=I=>{if(!Y.value){const{inputValue:Te}=v;F.dispatchEvent("prefix-click",{value:Te},I)}},Ke=()=>new Promise(I=>{v.visiblePanel=!1,x.hpTimeout=setTimeout(()=>{v.isAniVisible=!1,I()},350)}),ft=(I,he)=>{const{type:Te,autoFocus:je}=e,mt=B.value;L.value&&Ke(),(je||je===null)&&(mt||["text","search","password"].indexOf(Te)>-1)&&focus(),ve("",I),F.dispatchEvent("clear",{value:he},I)},Rt=I=>{if(!Y.value){const{inputValue:Te}=v;F.dispatchEvent("suffix-click",{value:Te},I)}},Q=I=>{const{type:he}=e,Te=Fe.value,je=pe.value,mt=Ge.value;let xt=null,Vt="";if(I&&(xt=O(I,je)),f.isValidDate(xt)){if(Vt=f.toDateString(xt,Te,{firstDay:mt}),Te&&he==="week"){const $t=f.getYearWeek(xt,mt),kt=f.getWhatWeek(xt,0,$t===1?(6+mt)%7:mt,mt).getFullYear();if(kt!==xt.getFullYear()){const rr=Te.indexOf("yyyy");if(rr>-1){const ar=Number(Vt.substring(rr,rr+4));ar&&!isNaN(ar)&&(Vt=Vt.replace(`${ar}`,`${kt}`))}}}}else xt=null;v.datePanelValue=xt,v.datePanelLabel=Vt},Re=()=>{const I=L.value,{inputValue:he}=v;I&&(Q(he),v.inputValue=e.multiple?K.value:v.datePanelLabel)},nt=()=>{const{type:I}=e,{inputValue:he}=v,Te=L.value,je=Le.value;if(Te)Re();else if(I==="float"&&he){const mt=Ui(he,je);he!==mt&&ve(mt,{type:"init"})}},vt=I=>e.max===null||f.toNumber(I)<=f.toNumber(e.max),st=I=>e.min===null||f.toNumber(I)>=f.toNumber(e.min),It=()=>{v.inputValue=e.multiple?K.value:v.datePanelLabel},pt=I=>{const he=Ge.value,Te=f.getYearWeek(I,he),je=f.getWhatWeek(I,0,he,he),mt=f.getWhatMonth(Te===1?f.getWhatDay(je,6):I,0,"first");f.isEqual(mt,v.selectMonth)||(v.selectMonth=mt)},Pt=I=>{const{modelValue:he,multiple:Te}=e,{datetimePanelValue:je}=v,mt=j.value,xt=pe.value,Vt=Ge.value;if(e.type==="week"){const Ne=f.toNumber(e.selectDay);I=f.getWhatWeek(I,0,Ne,Vt)}else mt&&(I.setHours(je.getHours()),I.setMinutes(je.getMinutes()),I.setSeconds(je.getSeconds()));const $t=f.toDateString(I,xt,{firstDay:Vt});if(pt(I),Te){const Ne=Be.value;if(mt){const kt=[...Oe.value],rr=[],ar=f.findIndexOf(kt,Er=>f.isDateSame(I,Er,"yyyyMMdd"));ar===-1?kt.push(I):kt.splice(ar,1),kt.forEach(Er=>{Er&&(Er.setHours(je.getHours()),Er.setMinutes(je.getMinutes()),Er.setSeconds(je.getSeconds()),rr.push(Er))}),ve(rr.map(Er=>f.toDateString(Er,xt)).join(","),{type:"update"})}else Ne.some(kt=>f.isEqual(kt,$t))?ve(Ne.filter(kt=>!f.isEqual(kt,$t)).join(","),{type:"update"}):ve(Ne.concat([$t]).join(","),{type:"update"})}else f.isEqual(he,$t)||ve($t,{type:"update"})},yt=()=>{const{type:I,min:he,max:Te,exponential:je}=e,{inputValue:mt,datetimePanelValue:xt}=v,Vt=B.value,$t=L.value,Ne=Fe.value;if(!be.value){if(Vt){if(mt){let rr=I==="integer"?f.toInteger($o(mt)):f.toNumber($o(mt));if(st(rr)?vt(rr)||(rr=Te):rr=he,je){const ar=f.toValueString(mt).toLowerCase();ar===f.toNumber(rr).toExponential()&&(rr=ar)}ve(lt(rr),{type:"check"})}}else if($t)if(mt){let rr=O(mt,Ne);if(f.isValidDate(rr))if(I==="time")rr=f.toDateString(rr,Ne),mt!==rr&&ve(rr,{type:"check"}),v.inputValue=rr;else{let ar=!1;const Er=Ge.value;if(I==="datetime"){const cn=J.value;(mt!==f.toDateString(cn,Ne)||mt!==f.toDateString(rr,Ne))&&(ar=!0,xt.setHours(rr.getHours()),xt.setMinutes(rr.getMinutes()),xt.setSeconds(rr.getSeconds()))}else ar=!0;v.inputValue=f.toDateString(rr,Ne,{firstDay:Er}),ar&&Pt(rr)}else It()}else ve("",{type:"check"})}},ht=I=>{const{showPwd:he}=v,Te=Y.value,je=$.value;!Te&&!je&&(v.showPwd=!he),F.dispatchEvent("toggle-visible",{visible:v.showPwd},I)},Ut=I=>{F.dispatchEvent("search-click",{},I)},Wt=(I,he)=>{const{min:Te,max:je,type:mt}=e,{inputValue:xt}=v,Vt=ee.value,$t=mt==="integer"?f.toInteger($o(xt)):f.toNumber($o(xt)),Ne=I?f.add($t,Vt):f.subtract($t,Vt);let kt;st(Ne)?vt(Ne)?kt=Ne:kt=je:kt=Te,Me(lt(kt),he)},jt=I=>{const he=Y.value,Te=$.value,je=qe.value;Wr(),!he&&!Te&&!je&&Wt(!1,I),F.dispatchEvent("next-number",{value:v.inputValue},I)},Qt=I=>{x.dnTimeout=setTimeout(()=>{jt(I),Qt(I)},60)},ir=I=>{const he=Y.value,Te=$.value,je=Je.value;Wr(),!he&&!Te&&!je&&Wt(!0,I),F.dispatchEvent("prev-number",{value:v.inputValue},I)},zt=I=>{const he=Kt.hasKey(I,ur.ARROW_UP),Te=Kt.hasKey(I,ur.ARROW_DOWN);(he||Te)&&(I.preventDefault(),he?ir(I):jt(I))},dr=I=>{const{exponential:he,controls:Te}=e;if(B.value){const mt=I.ctrlKey,xt=I.shiftKey,Vt=I.altKey,$t=I.metaKey,Ne=I.keyCode,kt=Kt.hasKey(I,ur.ESCAPE),rr=Kt.hasKey(I,ur.ARROW_UP),ar=Kt.hasKey(I,ur.ARROW_DOWN);!mt&&!xt&&!Vt&&!$t&&(Kt.hasKey(I,ur.SPACEBAR)||(!he||Ne!==69)&&Ne>=65&&Ne<=90||Ne>=186&&Ne<=188||Ne>=191)&&I.preventDefault(),kt?yt():(rr||ar)&&Te&&zt(I)}rt(I)},pr=I=>{rt(I)},Wr=()=>{const{dnTimeout:I}=x;I&&(clearTimeout(I),x.dnTimeout=void 0)},$r=I=>{x.dnTimeout=setTimeout(()=>{ir(I),$r(I)},60)},an=I=>{if(Wr(),I.button===0){const he=gx(I.currentTarget,"is--prev");he?ir(I):jt(I),x.dnTimeout=setTimeout(()=>{he?$r(I):Qt(I)},500)}},Ro=I=>{if(B.value&&e.controls&&v.isActivated){const Te=I.deltaY;Te>0?jt(I):Te<0&&ir(I),I.preventDefault()}rt(I)},zn=(I,he)=>{const Te=Ge.value,je=f.getYearWeek(I,Te),mt=f.getWhatWeek(I,0,Te,Te),xt=f.getWhatMonth(je===1?f.getWhatDay(mt,6):I,he,"first");v.selectMonth=xt},Dn=()=>{const I=f.getWhatDay(Date.now(),0,"first");v.currentDate=I,zn(I,0)},oo=()=>{v.datePanelType="year"},ao=()=>{let{datePanelType:I}=v;I==="month"||I==="quarter"?I="year":I="month",v.datePanelType=I},Bn=I=>{const{type:he}=e,{datePanelType:Te,selectMonth:je,inputValue:mt}=v,{yearSize:xt}=x,Vt=mt;if(!ie.value){let Ne;he==="year"?Ne=f.getWhatYear(je,-xt,"first"):he==="month"||he==="quarter"?Te==="year"?Ne=f.getWhatYear(je,-xt,"first"):Ne=f.getWhatYear(je,-1,"first"):Te==="year"?Ne=f.getWhatYear(je,-xt,"first"):Te==="month"?Ne=f.getWhatYear(je,-1,"first"):Ne=f.getWhatMonth(je,-1,"first"),v.selectMonth=Ne,F.dispatchEvent("date-prev",{viewType:Te,viewDate:Ne,value:Vt,type:he},I)}},On=I=>{Dn(),e.multiple||(Pt(v.currentDate),Ke()),F.dispatchEvent("date-today",{type:e.type},I)},Tn=I=>{const{type:he}=e,{datePanelType:Te,selectMonth:je,inputValue:mt}=v,{yearSize:xt}=x,Vt=mt;if(!Ae.value){let Ne;he==="year"?Ne=f.getWhatYear(je,xt,"first"):he==="month"||he==="quarter"?Te==="year"?Ne=f.getWhatYear(je,xt,"first"):Ne=f.getWhatYear(je,1,"first"):Te==="year"?Ne=f.getWhatYear(je,xt,"first"):Te==="month"?Ne=f.getWhatYear(je,1,"first"):Ne=f.getWhatMonth(je,1,"first"),v.selectMonth=Ne,F.dispatchEvent("date-next",{viewType:Te,viewDate:Ne,value:Vt,type:he},I)}},y=I=>{const{disabledMethod:he}=e,{datePanelType:Te}=v,je=ae.value,mt=le.value,{date:xt}=I;return je&&je.getTime()>xt.getTime()||mt&&mt.getTime()<xt.getTime()?!0:he?he({type:Te,viewType:Te,date:xt,$input:q}):!1},Do=I=>{const{type:he,multiple:Te}=e,{datePanelType:je}=v;he==="month"?je==="year"?(v.datePanelType="month",pt(I)):(Pt(I),Te||Ke()):he==="year"?(Pt(I),Te||Ke()):he==="quarter"?je==="year"?(v.datePanelType="quarter",pt(I)):(Pt(I),Te||Ke()):je==="month"?(v.datePanelType=he==="week"?he:"day",pt(I)):je==="year"?(v.datePanelType="month",pt(I)):(Pt(I),he==="datetime"||Te||Ke())},Qr=I=>{y(I)||Do(I.date)},qo=I=>{y({date:I})||(wt.value.some(Te=>f.isDateSame(Te.date,I,"yyyyMMdd"))||pt(I),Q(I))},Oo=I=>{y({date:I})||(Pe.value.some(Te=>f.isDateSame(Te.date,I,"yyyy"))||pt(I),Q(I))},An=I=>{y({date:I})||(Ht.value.some(Te=>f.isDateSame(Te.date,I,"yyyyq"))||pt(I),Q(I))},lo=I=>{y({date:I})||(Dt.value.some(Te=>f.isDateSame(Te.date,I,"yyyyMM"))||pt(I),Q(I))},ln=I=>{if(!y(I)){const{datePanelType:he}=v;he==="month"?lo(I.date):he==="quarter"?An(I.date):he==="year"?Oo(I.date):qo(I.date)}},Wn=I=>{if(I){const he=I.offsetHeight,Te=I.parentNode;Te.scrollTop=I.offsetTop-he*4}},Ho=I=>{v.datetimePanelValue=new Date(v.datetimePanelValue.getTime()),Wn(I.currentTarget)},dn=(I,he)=>{v.datetimePanelValue.setHours(he.value),Ho(I)},Vo=()=>{const{multiple:I}=e,{datetimePanelValue:he}=v,Te=J.value,je=j.value;if(je){const mt=pe.value;if(I){const xt=Be.value;if(je){const Vt=[...Oe.value],$t=[];Vt.forEach(Ne=>{Ne&&(Ne.setHours(he.getHours()),Ne.setMinutes(he.getMinutes()),Ne.setSeconds(he.getSeconds()),$t.push(Ne))}),ve($t.map(Ne=>f.toDateString(Ne,mt)).join(","),{type:"update"})}else ve(xt.join(","),{type:"update"})}else Pt(Te||v.currentDate)}Ke()},io=(I,he)=>{v.datetimePanelValue.setMinutes(he.value),Ho(I)},To=(I,he)=>{v.datetimePanelValue.setSeconds(he.value),Ho(I)},Mn=I=>{const{isActivated:he,datePanelValue:Te,datePanelType:je}=v;if(he){I.preventDefault();const mt=Kt.hasKey(I,ur.ARROW_LEFT),xt=Kt.hasKey(I,ur.ARROW_UP),Vt=Kt.hasKey(I,ur.ARROW_RIGHT),$t=Kt.hasKey(I,ur.ARROW_DOWN);if(je==="year"){let Ne=f.getWhatYear(Te||Date.now(),0,"first");mt?Ne=f.getWhatYear(Ne,-1):xt?Ne=f.getWhatYear(Ne,-4):Vt?Ne=f.getWhatYear(Ne,1):$t&&(Ne=f.getWhatYear(Ne,4)),Oo(Ne)}else if(je==="quarter"){let Ne=f.getWhatQuarter(Te||Date.now(),0,"first");mt?Ne=f.getWhatQuarter(Ne,-1):xt?Ne=f.getWhatQuarter(Ne,-2):Vt?Ne=f.getWhatQuarter(Ne,1):$t&&(Ne=f.getWhatQuarter(Ne,2)),An(Ne)}else if(je==="month"){let Ne=f.getWhatMonth(Te||Date.now(),0,"first");mt?Ne=f.getWhatMonth(Ne,-1):xt?Ne=f.getWhatMonth(Ne,-4):Vt?Ne=f.getWhatMonth(Ne,1):$t&&(Ne=f.getWhatMonth(Ne,4)),lo(Ne)}else{let Ne=Te||f.getWhatDay(Date.now(),0,"first");const kt=Ge.value;mt?Ne=f.getWhatDay(Ne,-1):xt?Ne=f.getWhatWeek(Ne,-1,kt):Vt?Ne=f.getWhatDay(Ne,1):$t&&(Ne=f.getWhatWeek(Ne,1,kt)),qo(Ne)}}},xn=I=>{const{isActivated:he}=v;if(he){const Te=Kt.hasKey(I,ur.PAGE_UP);I.preventDefault(),Te?Bn(I):Tn(I)}},so=()=>{const{type:I}=e,he=j.value,Te=J.value;["year","quarter","month","week"].indexOf(I)>-1?v.datePanelType=I:v.datePanelType="day",v.currentDate=f.getWhatDay(Date.now(),0,"first"),Te?(zn(Te,0),Q(Te)):Dn(),he&&(v.datetimePanelValue=v.datePanelValue||f.getWhatDay(Date.now(),0,"first"),ye(()=>{const je=P.value;f.arrayEach(je.querySelectorAll("li.is--selected"),mt=>{Wn(mt)})}))},Sa=()=>{v.panelIndex<ms()&&(v.panelIndex=fi())},co=()=>ye().then(()=>{const{placement:I}=e,{panelIndex:he}=v,Te=k.value,je=E.value,mt=M.value;if(Te&&je){const xt=Te.offsetHeight,Vt=Te.offsetWidth,$t=je.offsetHeight,Ne=je.offsetWidth,kt=5,rr={zIndex:he},{boundingTop:ar,boundingLeft:Er,visibleHeight:cn,visibleWidth:Ln}=Fc(Te);let Nn="bottom";if(mt){let Jr=Er,In=ar+xt;I==="top"?(Nn="top",In=ar-$t):I||(In+$t+kt>cn&&(Nn="top",In=ar-$t),In<kt&&(Nn="bottom",In=ar+xt)),Jr+Ne+kt>Ln&&(Jr-=Jr+Ne+kt-Ln),Jr<kt&&(Jr=kt),Object.assign(rr,{left:`${Jr}px`,top:`${In}px`,minWidth:`${Vt}px`})}else I==="top"?(Nn="top",rr.bottom=`${xt}px`):I||(rr.top=`${xt}px`,ar+xt+$t>cn&&ar-xt-$t>kt&&(Nn="top",rr.top="",rr.bottom=`${xt}px`));return v.panelStyle=rr,v.panelPlacement=Nn,ye()}}),Mo=()=>{const{visiblePanel:I}=v,{hpTimeout:he}=x,Te=Y.value,je=L.value;return!Te&&!I?(v.initialized||(v.initialized=!0),he&&(clearTimeout(he),x.hpTimeout=void 0),v.isActivated=!0,v.isAniVisible=!0,je&&so(),setTimeout(()=>{v.visiblePanel=!0},10),Sa(),co()):ye()},Gn=I=>{$.value||(I.preventDefault(),Mo())},Cn=I=>{rt(I)},Io=I=>{const{visiblePanel:he,isActivated:Te}=v,je=L.value,mt=S.value,xt=D.value;!Y.value&&Te&&(v.isActivated=_n(I,mt).flag||_n(I,xt).flag,v.isActivated||(je?he&&(Ke(),yt()):yt()))},zo=I=>{const{clearable:he}=e,{visiblePanel:Te}=v,je=Y.value,mt=L.value;if(!je){const xt=Kt.hasKey(I,ur.TAB),Vt=Kt.hasKey(I,ur.DELETE),$t=Kt.hasKey(I,ur.ESCAPE),Ne=Kt.hasKey(I,ur.ENTER),kt=Kt.hasKey(I,ur.ARROW_LEFT),rr=Kt.hasKey(I,ur.ARROW_UP),ar=Kt.hasKey(I,ur.ARROW_RIGHT),Er=Kt.hasKey(I,ur.ARROW_DOWN),cn=Kt.hasKey(I,ur.PAGE_UP),Ln=Kt.hasKey(I,ur.PAGE_DOWN),Nn=kt||rr||ar||Er;let Jr=v.isActivated;xt?(Jr&&yt(),Jr=!1,v.isActivated=Jr):Nn?mt&&Jr&&(Te?Mn(I):(rr||Er)&&Gn(I)):Ne?mt&&(Te?v.datePanelValue?Do(v.datePanelValue):Ke():Jr&&Gn(I)):(cn||Ln)&&mt&&Jr&&xn(I),xt||$t?Te&&Ke():Vt&&he&&Jr&&ft(I,null)}},yn=I=>{const{visiblePanel:he}=v;if(!Y.value&&he){const je=D.value;_n(I,je).flag?co():(Ke(),yt())}},ra=()=>{const{isActivated:I,visiblePanel:he}=v;he?(Ke(),yt()):I&&yt()},tn=(I,he)=>{const{festivalMethod:Te}=e;if(Te){const{datePanelType:je}=v,mt=Te({type:je,viewType:je,date:I.date,$input:q}),xt=mt?f.isString(mt)?{label:mt}:mt:{},Vt=xt.extra?f.isString(xt.extra)?{label:xt.extra}:xt.extra:null,$t=[g("span",{class:["vxe-input--date-label",{"is-notice":xt.notice}]},Vt&&Vt.label?[g("span",`${he||""}`),g("span",{class:["vxe-input--date-label--extra",Vt.important?"is-important":"",Vt.className],style:Vt.style},f.toValueString(Vt.label))]:[`${he||""}`])],Ne=xt.label;if(Ne){const kt=f.toValueString(Ne).split(",");$t.push(g("span",{class:["vxe-input--date-festival",xt.important?"is-important":"",xt.className],style:xt.style},[kt.length>1?g("span",{class:["vxe-input--date-festival--overlap",`overlap--${kt.length}`]},kt.map(rr=>g("span",rr.substring(0,3)))):g("span",{class:"vxe-input--date-festival--label"},kt[0].substring(0,3))]))}return $t}return[`${he||""}`]},Or=()=>{const{multiple:I}=e,{datePanelType:he,datePanelValue:Te}=v,je=J.value,mt=gt.value,xt=ct.value,Vt=Oe.value,$t="yyyyMMdd";return[g("table",{class:`vxe-input--date-${he}-view`,cellspacing:0,cellpadding:0,border:0},[g("thead",[g("tr",mt.map(Ne=>g("th",Ne.label)))]),g("tbody",xt.map(Ne=>g("tr",Ne.map(kt=>g("td",{class:{"is--prev":kt.isPrev,"is--current":kt.isCurrent,"is--now":kt.isNow,"is--next":kt.isNext,"is--disabled":y(kt),"is--selected":I?Vt.some(rr=>f.isDateSame(rr,kt.date,$t)):f.isDateSame(je,kt.date,$t),"is--hover":f.isDateSame(Te,kt.date,$t)},onClick:()=>Qr(kt),onMouseenter:()=>ln(kt)},tn(kt,kt.label))))))])]},fn=()=>{const{multiple:I}=e,{datePanelType:he,datePanelValue:Te}=v,je=J.value,mt=_t.value,xt=bt.value,Vt=Oe.value,$t="yyyyMMdd";return[g("table",{class:`vxe-input--date-${he}-view`,cellspacing:0,cellpadding:0,border:0},[g("thead",[g("tr",mt.map(Ne=>g("th",Ne.label)))]),g("tbody",xt.map(Ne=>{const kt=I?Ne.some(ar=>Vt.some(Er=>f.isDateSame(Er,ar.date,$t))):Ne.some(ar=>f.isDateSame(je,ar.date,$t)),rr=Ne.some(ar=>f.isDateSame(Te,ar.date,$t));return g("tr",Ne.map(ar=>g("td",{class:{"is--prev":ar.isPrev,"is--current":ar.isCurrent,"is--now":ar.isNow,"is--next":ar.isNext,"is--disabled":y(ar),"is--selected":kt,"is--hover":rr},onClick:()=>Qr(ar),onMouseenter:()=>ln(ar)},tn(ar,ar.label))))}))])]},na=()=>{const{multiple:I}=e,{datePanelType:he,datePanelValue:Te}=v,je=J.value,mt=Lt.value,xt=Oe.value,Vt="yyyyMM";return[g("table",{class:`vxe-input--date-${he}-view`,cellspacing:0,cellpadding:0,border:0},[g("tbody",mt.map($t=>g("tr",$t.map(Ne=>g("td",{class:{"is--prev":Ne.isPrev,"is--current":Ne.isCurrent,"is--now":Ne.isNow,"is--next":Ne.isNext,"is--disabled":y(Ne),"is--selected":I?xt.some(kt=>f.isDateSame(kt,Ne.date,Vt)):f.isDateSame(je,Ne.date,Vt),"is--hover":f.isDateSame(Te,Ne.date,Vt)},onClick:()=>Qr(Ne),onMouseenter:()=>ln(Ne)},tn(Ne,Jt(`vxe.input.date.months.m${Ne.month}`)))))))])]},Hr=()=>{const{multiple:I}=e,{datePanelType:he,datePanelValue:Te}=v,je=J.value,mt=Tt.value,xt=Oe.value,Vt="yyyyq";return[g("table",{class:`vxe-input--date-${he}-view`,cellspacing:0,cellpadding:0,border:0},[g("tbody",mt.map($t=>g("tr",$t.map(Ne=>g("td",{class:{"is--prev":Ne.isPrev,"is--current":Ne.isCurrent,"is--now":Ne.isNow,"is--next":Ne.isNext,"is--disabled":y(Ne),"is--selected":I?xt.some(kt=>f.isDateSame(kt,Ne.date,Vt)):f.isDateSame(je,Ne.date,Vt),"is--hover":f.isDateSame(Te,Ne.date,Vt)},onClick:()=>Qr(Ne),onMouseenter:()=>ln(Ne)},tn(Ne,Jt(`vxe.input.date.quarters.q${Ne.quarter}`)))))))])]},uo=()=>{const{multiple:I}=e,{datePanelType:he,datePanelValue:Te}=v,je=J.value,mt=qt.value,xt=Oe.value,Vt="yyyy";return[g("table",{class:`vxe-input--date-${he}-view`,cellspacing:0,cellpadding:0,border:0},[g("tbody",mt.map($t=>g("tr",$t.map(Ne=>g("td",{class:{"is--prev":Ne.isPrev,"is--current":Ne.isCurrent,"is--now":Ne.isNow,"is--next":Ne.isNext,"is--disabled":y(Ne),"is--selected":I?xt.some(kt=>f.isDateSame(kt,Ne.date,Vt)):f.isDateSame(je,Ne.date,Vt),"is--hover":f.isDateSame(Te,Ne.date,Vt)},onClick:()=>Qr(Ne),onMouseenter:()=>ln(Ne)},tn(Ne,Ne.year))))))])]},fo=()=>{const{datePanelType:I}=v;switch(I){case"week":return fn();case"month":return na();case"quarter":return Hr();case"year":return uo()}return Or()},oa=()=>{const{multiple:I}=e,{datePanelType:he}=v,Te=ie.value,je=Ae.value,mt=et.value;return[g("div",{class:"vxe-input--date-picker-header"},[g("div",{class:"vxe-input--date-picker-type-wrapper"},[he==="year"?g("span",{class:"vxe-input--date-picker-label"},mt.y):g("span",{class:"vxe-input--date-picker-btns"},[g("span",{class:"vxe-input--date-picker-btn",onClick:oo},mt.y),mt.m?g("span",{class:"vxe-input--date-picker-btn",onClick:ao},mt.m):Uo()])]),g("div",{class:"vxe-input--date-picker-btn-wrapper"},[g("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":Te}],onClick:Bn},[g("i",{class:"vxe-icon-caret-left"})]),g("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:On},[g("i",{class:"vxe-icon-dot"})]),g("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":je}],onClick:Tn},[g("i",{class:"vxe-icon-caret-right"})]),I&&Ee.value?g("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-confirm-btn"},[g("button",{class:"vxe-input--date-picker-confirm",type:"button",onClick:Vo},Jt("vxe.button.confirm"))]):null])]),g("div",{class:"vxe-input--date-picker-body"},fo())]},aa=()=>{const{datetimePanelValue:I}=v,he=_e.value,Te=St.value,je=X.value,mt=Ye.value,xt=W.value,Vt=ge.value;return[g("div",{class:"vxe-input--time-picker-header"},[je?g("span",{class:"vxe-input--time-picker-title"},he):Ze(),g("div",{class:"vxe-input--time-picker-btn"},[g("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:Vo},Jt("vxe.button.confirm"))])]),g("div",{ref:P,class:"vxe-input--time-picker-body"},[g("ul",{class:"vxe-input--time-picker-hour-list"},Te.map(($t,Ne)=>g("li",{key:Ne,class:{"is--selected":I&&I.getHours()===$t.value},onClick:kt=>dn(kt,$t)},$t.label))),je?g("ul",{class:"vxe-input--time-picker-minute-list"},mt.map(($t,Ne)=>g("li",{key:Ne,class:{"is--selected":I&&I.getMinutes()===$t.value},onClick:kt=>io(kt,$t)},$t.label))):Ze(),je&&xt?g("ul",{class:"vxe-input--time-picker-second-list"},Vt.map(($t,Ne)=>g("li",{key:Ne,class:{"is--selected":I&&I.getSeconds()===$t.value},onClick:kt=>To(kt,$t)},$t.label))):Ze()])]},Un=()=>{const{type:I}=e,{initialized:he,isAniVisible:Te,visiblePanel:je,panelPlacement:mt,panelStyle:xt}=v,Vt=m.value,$t=M.value,Ne=L.value,kt=[];return Ne?(I==="datetime"?kt.push(g("div",{key:I,ref:D,class:"vxe-input--panel-layout-wrapper"},[g("div",{class:"vxe-input--panel-left-wrapper"},oa()),g("div",{class:"vxe-input--panel-right-wrapper"},aa())])):I==="time"?kt.push(g("div",{key:I,ref:D,class:"vxe-input--panel-wrapper"},aa())):kt.push(g("div",{key:I||"default",ref:D,class:"vxe-input--panel-wrapper"},oa())),g(Xi,{to:"body",disabled:$t?!he:!0},[g("div",{ref:E,class:["vxe-table--ignore-clear vxe-input--panel",`type--${I}`,{[`size--${Vt}`]:Vt,"is--transfer":$t,"ani--leave":Te,"ani--enter":je}],placement:mt,style:xt},je||Te?kt:[])])):Ze()},po=()=>{const I=Je.value,he=qe.value;return g("div",{class:"vxe-input--control-icon"},[g("div",{class:"vxe-input--number-icon"},[g("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":I}],onMousedown:an,onMouseup:Wr,onMouseleave:Wr},[g("i",{class:lr().NUMBER_INPUT_PREV_NUM})]),g("div",{class:["vxe-input--number-btn is--next",{"is--disabled":he}],onMousedown:an,onMouseup:Wr,onMouseleave:Wr},[g("i",{class:lr().NUMBER_INPUT_NEXT_NUM})])])])},jn=()=>g("div",{class:"vxe-input--control-icon",onClick:Gn},[g("i",{class:["vxe-input--date-picker-icon",lr().DATE_PICKER_DATE]})]),Pn=()=>g("div",{class:"vxe-input--control-icon",onClick:Ut},[g("i",{class:["vxe-input--search-icon",lr().INPUT_SEARCH]})]),cr=()=>{const{showPwd:I}=v;return g("div",{class:"vxe-input--control-icon",onClick:ht},[g("i",{class:["vxe-input--password-icon",I?lr().PASSWORD_INPUT_SHOW_PWD:lr().PASSWORD_INPUT_HIDE_PWD]})])},Lr=()=>{const{prefixIcon:I}=e,he=r.prefix;return he||I?g("div",{class:"vxe-input--prefix",onClick:dt},[g("div",{class:"vxe-input--prefix-icon"},he?Kr(he({})):[g("i",{class:I})])]):null},sn=()=>{const{suffixIcon:I}=e,{inputValue:he}=v,Te=r.suffix,je=Y.value,mt=B.value,xt=L.value,Vt=ne.value,$t=Ve.value,Ne=se.value,kt=Vt||mt||xt||$t;return Ne||Te||I||kt?g("div",{class:["vxe-input--suffix",{"is--clear":Ne&&!je&&!(he===""||f.eqNull(he))}]},[Ne?g("div",{class:"vxe-input--clear-icon",onClick:ft},[g("i",{class:lr().INPUT_CLEAR})]):Ze(),kt?cl():Ze(),Te||I?g("div",{class:"vxe-input--suffix-icon",onClick:Rt},Te?Kr(Te({})):[g("i",{class:I})]):Ze()]):null},cl=()=>{const{controls:I}=e,he=B.value,Te=L.value,je=ne.value,mt=Ve.value;return je?cr():he&&I?po():Te?jn():mt?Pn():Ze()};F={dispatchEvent:(I,he,Te)=>{n(I,$n(Te,{$input:q},he))},focus(){const I=k.value;return v.isActivated=!0,I.focus(),ye()},blur(){return k.value.blur(),v.isActivated=!1,ye()},select(){return k.value.select(),v.isActivated=!1,ye()},showPanel:Mo,hidePanel:Ke,updatePlacement:co},Object.assign(q,F);const Va=()=>{const{className:I,controls:he,type:Te,align:je,showWordCount:mt,countMethod:xt,name:Vt,autoComplete:$t,autocomplete:Ne}=e,{inputValue:kt,visiblePanel:rr,isActivated:ar}=v,Er=m.value,cn=Y.value;if(G.value)return g("div",{ref:S,class:["vxe-input--readonly",`type--${Te}`,I]},kt);const Nn=Z.value,Jr=xe.value,In=be.value,Ea=H.value,Lc=U.value,Cs=te.value,Pl=se.value,ul=mt&&["text","search"].includes(Te),Ll=Lr(),ys=sn();return g("div",{ref:S,class:["vxe-input",`type--${Te}`,I,{[`size--${Er}`]:Er,[`is--${je}`]:je,"is--controls":he,"is--prefix":!!Ll,"is--suffix":!!ys,"is--visible":rr,"is--count":ul,"is--disabled":cn,"is--active":ar,"show--clear":Pl&&!cn&&!(kt===""||f.eqNull(kt))}],spellcheck:!1},[Ll||Ze(),g("div",{class:"vxe-input--wrapper"},[g("input",{ref:k,class:"vxe-input--inner",value:kt,name:Vt,type:Lc,placeholder:Cs,maxlength:Ea,readonly:In,disabled:cn,autocomplete:$t||Ne,onKeydown:dr,onKeyup:pr,onWheel:Ro,onClick:Cn,onInput:ke,onChange:Ue,onFocus:Xe,onBlur:Qe})]),ys||Ze(),Un(),ul?g("span",{class:["vxe-input--count",{"is--error":Nn}]},xt?`${xt({value:kt})}`:`${Jr}${Ea?`/${Ea}`:""}`):Ze()])};return er(()=>e.modelValue,I=>{v.inputValue=I,Re()}),er(()=>e.type,()=>{Object.assign(v,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),nt()}),er(Fe,()=>{L.value&&(Q(v.datePanelValue),v.inputValue=e.multiple?K.value:v.datePanelLabel)}),qn(()=>{Kt.on(q,"mousewheel",yn),Kt.on(q,"mousedown",Io),Kt.on(q,"keydown",zo),Kt.on(q,"blur",ra)}),Ki(()=>{Wr(),yt(),Kt.off(q,"mousewheel"),Kt.off(q,"mousedown"),Kt.off(q,"keydown"),Kt.off(q,"blur")}),nt(),q.renderVN=Va,q},render(){return this.renderVN()}}),aF=Object.assign(Ol,{install(e){e.component(Ol.name,Ol)}});no.use(aF);Se.component(Ol);const js=Sr({name:"VxeLoading",props:{modelValue:Boolean,icon:{type:String,default:()=>We().loading.icon},showIcon:{type:Boolean,default:()=>We().loading.showIcon},text:{type:String,default:()=>We().loading.text},showText:{type:Boolean,default:()=>We().loading.showText},status:String,size:{type:String,default:()=>We().loading.size||We().size}},setup(e,t){const{slots:r,emit:n}=t,l=f.uniqueId(),{computeSize:a}=Vn(e),i=zr({initialized:!1}),d={computeSize:a},u={xID:l,props:e,context:t,reactData:i,getComputeMaps:()=>d},p=ue(()=>e.icon||lr().LOADING),o=ue(()=>{const{text:k}=e;return f.isString(k)?k:Jt("vxe.loading.text")}),c=()=>{i.initialized||(i.initialized=!!i.initialized)};Object.assign(u,{dispatchEvent:(k,E,D)=>{n(k,$n(D,{$loading:u},E))}},{});const S=()=>{const{modelValue:k,showIcon:E,status:D}=e,{initialized:P}=i,V=a.value,q=r.default,F=r.text,O=r.icon,M=p.value,G=o.value;return!P&&!k?Ze():g("div",{class:["vxe-loading",{[`size--${V}`]:V,[`theme--${D}`]:D,"is--visible":k}]},q?[g("div",{class:"vxe-loading--wrapper"},Kr(q({})))]:[g("div",{class:"vxe-loading--chunk"},[E&&(O||M)?g("div",{class:"vxe-loading--icon"},O?Kr(O({})):[g("i",{class:M})]):g("div",{class:"vxe-loading--spinner"}),F||G?g("div",{class:"vxe-loading--text"},F?Kr(F({})):`${G}`):null])])};return er(()=>e.modelValue,()=>{c()}),c(),u.renderVN=S,u},render(){return this.renderVN()}}),mx=Object.assign({},js,{install(e){e.component(js.name,js)}}),UL={open(e){const t=Object.assign({},e);li.globalLoading={modelValue:!0,text:t.text,icon:t.icon},eF()},close(){li.globalLoading=null}};no.use(mx);Se.component(js);Se.loading=UL;const Ja=[],fb=[],pb=[],Fi="data-vxe-lock-scroll",uO="--vxe-ui-modal-lock-scroll-view-width",Ys=Sr({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:()=>We().modal.top},position:[String,Object],title:String,duration:{type:[Number,String],default:()=>We().modal.duration},content:[Number,String],showCancelButton:{type:Boolean,default:null},cancelButtonText:{type:String,default:()=>We().modal.cancelButtonText},showConfirmButton:{type:Boolean,default:()=>We().modal.showConfirmButton},confirmButtonText:{type:String,default:()=>We().modal.confirmButtonText},lockView:{type:Boolean,default:()=>We().modal.lockView},lockScroll:Boolean,mask:{type:Boolean,default:()=>We().modal.mask},maskClosable:{type:Boolean,default:()=>We().modal.maskClosable},escClosable:{type:Boolean,default:()=>We().modal.escClosable},cancelClosable:{type:Boolean,default:()=>We().modal.cancelClosable},confirmClosable:{type:Boolean,default:()=>We().modal.confirmClosable},resize:Boolean,showHeader:{type:Boolean,default:()=>We().modal.showHeader},showFooter:{type:Boolean,default:()=>We().modal.showFooter},showZoom:Boolean,zoomConfig:Object,showMaximize:{type:Boolean,default:()=>sO(We().modal.showMaximize)},showMinimize:{type:Boolean,default:()=>sO(We().modal.showMinimize)},showClose:{type:Boolean,default:()=>We().modal.showClose},dblclickZoom:{type:Boolean,default:()=>We().modal.dblclickZoom},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:()=>We().modal.minWidth},minHeight:{type:[Number,String],default:()=>We().modal.minHeight},zIndex:Number,marginSize:{type:[Number,String],default:()=>We().modal.marginSize},fullscreen:Boolean,draggable:{type:Boolean,default:()=>We().modal.draggable},remember:{type:Boolean,default:()=>We().modal.remember},destroyOnClose:{type:Boolean,default:()=>We().modal.destroyOnClose},showTitleOverflow:{type:Boolean,default:()=>We().modal.showTitleOverflow},transfer:{type:Boolean,default:()=>We().modal.transfer},storage:{type:Boolean,default:()=>We().modal.storage},storageKey:{type:String,default:()=>We().modal.storageKey},padding:{type:Boolean,default:()=>We().modal.padding},size:{type:String,default:()=>We().modal.size||We().size},beforeHideMethod:Function,slots:Object,message:[Number,String],animat:{type:Boolean,default:()=>We().modal.animat}},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom","resize","move"],setup(e,t){const{slots:r,emit:n}=t,l=f.uniqueId(),a=or("$xeModal",null),i=or("$xeDrawer",null),d=or("$xeTable",null),u=or("$xeForm",null),{computeSize:p}=Vn(e),o=zr({initialized:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,prevZoomStatus:"",zoomStatus:"",revertLocat:null,prevLocat:null,firstOpen:!0,resizeFlag:1}),c={msgTimeout:void 0},m=it(),v=it(),x=it(),S=it(),k=it(),E={refElem:m},D=ue(()=>{const{transfer:W}=e;if(W===null){const ge=We().modal.transfer;if(f.isBoolean(ge))return ge;if(d||a||i||u)return!0}return W}),P=ue(()=>e.type==="message"||e.type==="notification"),V=ue(()=>o.zoomStatus==="minimize"),q=ue(()=>o.zoomStatus==="maximize"),F=ue(()=>Object.assign({},We().modal.zoomConfig,e.zoomConfig)),O={computeSize:p,computeZoomOpts:F},M={xID:l,props:e,context:t,reactData:o,internalData:c,getRefMaps:()=>E,getComputeMaps:()=>O};let G={};const $=()=>v.value,Y=()=>{const{width:W,height:ge}=e,be=$();return be&&(be.style.width=W?oc(W):"",be.style.height=ge?oc(ge):""),ye()},H=()=>{const{zIndex:W}=e,{modalZindex:ge}=o;W?o.modalZindex=W:ge<ms()&&(o.modalZindex=fi())},j=()=>ye().then(()=>{const{position:W}=e,ge=f.toNumber(e.marginSize),be=$();if(!be)return;const U=document.documentElement.clientWidth||document.body.clientWidth,te=document.documentElement.clientHeight||document.body.clientHeight,re=W==="center",{top:$e,left:qe}=f.isString(W)?{top:W,left:W}:Object.assign({},W),Je=re||$e==="center",lt=re||qe==="center";let Ct="",rt="";qe&&!lt?rt=isNaN(qe)?qe:`${qe}px`:rt=`${Math.max(ge,U/2-be.offsetWidth/2)}px`,$e&&!Je?Ct=isNaN($e)?$e:`${$e}px`:Ct=`${Math.max(ge,te/2-be.offsetHeight/2)}px`,be.style.top=Ct,be.style.left=rt}),B=()=>{ye(()=>{const{type:W}=e,ge=W==="notification"?pb:fb;let be=0;ge.forEach(U=>{const te=U.getBox();te&&(be+=f.toNumber(U.props.top),U.reactData.modalTop=be,be+=te.clientHeight)})})},xe=()=>{const{type:W}=e,ge=W==="notification"?pb:fb;ge.indexOf(M)>-1&&f.remove(ge,be=>be===M),B()},Z=W=>{const{remember:ge}=e,{visible:be}=o,U=P.value,te=e.beforeHideMethod||We().modal.beforeHideMethod,re={type:W};return be&&Promise.resolve(te?te(re):null).then($e=>{f.isError($e)||(U&&xe(),o.contentVisible=!1,ge||et(),f.remove(Ja,qe=>qe===M),Lt("before-hide",re,null),setTimeout(()=>{o.visible=!1,n("update:modelValue",!1),Lt("hide",re,null)},200),K())}).catch($e=>$e),ye()},L=W=>{const ge="close";Lt(ge,{type:ge},W),Z(ge)},ne=W=>{const{confirmClosable:ge}=e,be="confirm";Lt(be,{type:be},W),ge&&Z(be)},Ve=W=>{const{cancelClosable:ge}=e,be="cancel";Lt(be,{type:be},W),ge&&Z(be)},Le=W=>{const ge=We().version,be=f.toStringJSON(localStorage.getItem(W)||"");return be&&be._v===ge?be:{_v:ge}},ee=()=>{const{id:W,storage:ge,storageKey:be}=e;return!!(W&&ge&&Le(be)[W])},se=()=>{const{id:W,storage:ge,storageKey:be}=e;if(W&&ge){const U=Le(be)[W];if(U){const te=$(),[re,$e,qe,Je,lt,Ct,rt,ve]=U.split(",");te&&(re&&(te.style.left=`${re}px`),$e&&(te.style.top=`${$e}px`),qe&&(te.style.width=`${qe}px`),Je&&(te.style.height=`${Je}px`)),lt&&Ct&&(o.revertLocat={left:lt,top:Ct,width:rt,height:ve})}}},ae=()=>{const{type:W}=e,ge=W==="notification"?pb:fb;ge.indexOf(M)===-1&&ge.push(M),B()},le=()=>{const{id:W,storage:ge,storageKey:be}=e,{zoomStatus:U,revertLocat:te}=o;if(!U&&W&&ge){const re=$();if(!re)return;const $e=Le(be);$e[W]=[re.style.left,re.style.top,re.style.width,re.style.height].concat(te?[te.left,te.top,te.width,te.height]:[]).map(qe=>qe?f.toNumber(qe):"").join(","),localStorage.setItem(be,f.toJSONString($e))}},Ee=()=>{const W=F.value,{minimizeLayout:ge,minimizeMaxSize:be,minimizeHorizontalOffset:U,minimizeVerticalOffset:te,minimizeOffsetMethod:re}=W,$e=ge==="horizontal",qe=o.zoomStatus,Je=[],lt=[];Ja.forEach(rt=>{rt.xID!==M.xID&&rt.props.type==="modal"&&rt.reactData.zoomStatus==="minimize"&&(rt.getComputeMaps().computeZoomOpts.value.minimizeLayout==="horizontal"?Je.push(rt):lt.push(rt))});const Ct=$e?Je:lt;return be&&Ct.length>=be?(Se.modal&&Se.modal.message({status:"error",content:Jt("vxe.modal.miniMaxSize",[be])}),Promise.resolve({status:!1})):(o.prevZoomStatus=qe,o.zoomStatus="minimize",ye().then(()=>{const rt=$();if(!rt)return{status:!1};const ve=x.value;if(!ve)return{status:!1};const{visibleHeight:Me}=Wi();qe||(o.revertLocat={top:rt.offsetTop,left:rt.offsetLeft,width:rt.offsetWidth+(rt.style.width?0:1),height:rt.offsetHeight+(rt.style.height?0:1)});const ke=f[$e?"max":"min"](Ct,Xe=>{const dt=Xe.getBox();return dt?f.toNumber(dt.style[$e?"left":"top"]):0});let Ue=Me-ve.offsetHeight-16,Qe=16;if(ke){const Xe=ke.getBox();if(Xe){const dt=f.toNumber(Xe.style.left),Ke=f.toNumber(Xe.style.top);let ft={};$e?ft=Object.assign({},U):ft=Object.assign({},te),Qe=dt+f.toNumber(ft.left),Ue=Ke+f.toNumber(ft.top),re&&(ft=re({$modal:M,left:Qe,top:Ue}),Qe=f.toNumber(ft.left),Ue=f.toNumber(ft.top))}}return Object.assign(rt.style,{top:`${Ue}px`,left:`${Qe}px`,width:"200px",height:`${ve.offsetHeight}px`}),le(),{status:!0}}))},Oe=()=>{const W=o.zoomStatus;return o.prevZoomStatus=W,o.zoomStatus="maximize",ye().then(()=>{const ge=$();if(ge){if(!W){const be=f.toNumber(e.marginSize),U=document.documentElement.clientWidth||document.body.clientWidth,te=document.documentElement.clientHeight||document.body.clientHeight;o.revertLocat={top:Math.max(be,te/2-ge.offsetHeight/2),left:Math.max(be,U/2-ge.offsetWidth/2),width:ge.offsetWidth+(ge.style.width?0:1),height:ge.offsetHeight+(ge.style.height?0:1)}}Object.assign(ge.style,{top:"0",left:"0",width:"100%",height:"100%"})}return le(),{status:!0}})},Be=()=>{const{duration:W}=e;W!==-1&&(c.msgTimeout=setTimeout(()=>Z("close"),f.toNumber(W)))},K=()=>{const W=document.documentElement,ge=W.getAttribute(Fi);if(ge){const be=ge.split(",").filter(U=>U!==l);be.length?W.setAttribute(Fi,be.join(",")):(W.removeAttribute(Fi),W.style.removeProperty(uO))}},pe=()=>{const{lockScroll:W}=e,ge=P.value;if(W&&!ge){const be=document.documentElement,U=document.body.clientWidth,te=be.getAttribute(Fi),re=te?te.split(","):[];re.includes(l)||(re.push(l),be.setAttribute(Fi,re.join(","))),be.style.setProperty(uO,`${U}px`)}},J=()=>{const{remember:W,showFooter:ge}=e,{initialized:be,visible:U}=o,te=P.value;return be||(o.initialized=!0),U||(pe(),o.visible=!0,o.contentVisible=!1,H(),Ja.push(M),setTimeout(()=>{o.contentVisible=!0,ye(()=>{if(ge){const qe=S.value,Je=k.value,lt=qe||Je;lt&&lt.focus()}const $e={type:""};n("update:modelValue",!0),Lt("show",$e,null)})},10),te?(ae(),Be()):ye(()=>{const{fullscreen:re}=e,{firstOpen:$e}=o;$e?(o.firstOpen=!1,ee()?se():re?ye(()=>Oe()):(Y(),j().then(()=>{setTimeout(()=>j(),20)}))):W||(Y(),j().then(()=>{setTimeout(()=>j(),20)}))})),ye()},ie=W=>{const ge=m.value;e.maskClosable&&W.target===ge&&Z("mask")},Ae=()=>{const{msgTimeout:W}=c;if(!W)return;P.value&&(clearTimeout(W),c.msgTimeout=void 0)},_e=()=>{const{msgTimeout:W}=c;W||P.value&&Be()},_=W=>{if(Kt.hasKey(W,ur.ESCAPE)){const be=f.max(Ja,U=>U.reactData.modalZindex);be&&setTimeout(()=>{if(be===M&&be.props.escClosable){const U="exit";Lt("close",{type:U},W),Z(U)}},10)}},Fe=()=>o.zoomStatus==="minimize",Pe=()=>o.zoomStatus==="maximize",et=()=>(o.prevZoomStatus=o.zoomStatus,o.zoomStatus="",ye().then(()=>{const{revertLocat:W}=o;if(W){const ge=$();return o.revertLocat=null,ge&&Object.assign(ge.style,{top:`${W.top}px`,left:`${W.left}px`,width:`${W.width}px`,height:`${W.height}px`}),le(),ye().then(()=>({status:!0}))}return{status:!1}})),Ge=W=>{const{zoomStatus:ge}=o;return new Promise(be=>{if(W){if(W==="maximize"){be(Oe());return}if(W==="minimize"){be(Ee());return}be(et());return}be(ge?et():Oe())}).then(()=>o.zoomStatus||"revert")},ut=W=>{const{zoomStatus:ge,prevZoomStatus:be}=o;return Ge(ge==="minimize"?be||"revert":"minimize").then(U=>{Lt("zoom",{type:U},W)})},gt=W=>Ge().then(ge=>{Lt("zoom",{type:ge},W)}),_t=()=>{if(!P.value){const ge=$();if(ge)return{top:ge.offsetTop,left:ge.offsetLeft}}return null},qt=(W,ge)=>{if(!P.value){const U=$();U&&(f.isNumber(W)&&(U.style.top=`${W}px`),f.isNumber(ge)&&(U.style.left=`${ge}px`))}return ye()},Ht=()=>{const{modalZindex:W}=o;Ja.some(ge=>ge.reactData.visible&&ge.reactData.modalZindex>W)&&H()},Tt=W=>{const{storage:ge}=e,{zoomStatus:be}=o,U=f.toNumber(e.marginSize),te=$();if(te&&be!=="maximize"&&W.button===0&&!_n(W,te,"trigger--btn").flag){W.preventDefault();const re=W.clientX-te.offsetLeft,$e=W.clientY-te.offsetTop,{visibleHeight:qe,visibleWidth:Je}=Wi();document.onmousemove=lt=>{lt.preventDefault();const Ct=te.offsetWidth,rt=te.offsetHeight,ve=U,Me=Je-Ct-U-1,ke=U,Ue=qe-rt-U-1;let Qe=lt.clientX-re,Xe=lt.clientY-$e;Qe>Me&&(Qe=Me),Qe<ve&&(Qe=ve),Xe>Ue&&(Xe=Ue),Xe<ke&&(Xe=ke),te.style.left=`${Qe}px`,te.style.top=`${Xe}px`,te.className=te.className.replace(/\s?is--drag/,"")+" is--drag",Lt("move",{type:"move"},lt),o.resizeFlag++},document.onmouseup=()=>{document.onmousemove=null,document.onmouseup=null,ge&&ye(()=>{le()}),o.resizeFlag++,setTimeout(()=>{te.className=te.className.replace(/\s?is--drag/,"")},50)}}},Dt=W=>{W.preventDefault();const{storage:ge}=e,{visibleHeight:be,visibleWidth:U}=Wi(),te=f.toNumber(e.marginSize),$e=W.target.getAttribute("type"),qe=f.toNumber(e.minWidth),Je=f.toNumber(e.minHeight),lt=U,Ct=be,rt=$(),ve=rt.clientWidth,Me=rt.clientHeight,ke=W.clientX,Ue=W.clientY,Qe=rt.offsetTop,Xe=rt.offsetLeft,dt={type:"resize"};document.onmousemove=Ke=>{Ke.preventDefault();let ft,Rt,Q,Re;switch($e){case"wl":ft=ke-Ke.clientX,Q=ft+ve,Xe-ft>te&&Q>qe&&(rt.style.width=`${Q<lt?Q:lt}px`,rt.style.left=`${Xe-ft}px`);break;case"swst":ft=ke-Ke.clientX,Rt=Ue-Ke.clientY,Q=ft+ve,Re=Rt+Me,Xe-ft>te&&Q>qe&&(rt.style.width=`${Q<lt?Q:lt}px`,rt.style.left=`${Xe-ft}px`),Qe-Rt>te&&Re>Je&&(rt.style.height=`${Re<Ct?Re:Ct}px`,rt.style.top=`${Qe-Rt}px`);break;case"swlb":ft=ke-Ke.clientX,Rt=Ke.clientY-Ue,Q=ft+ve,Re=Rt+Me,Xe-ft>te&&Q>qe&&(rt.style.width=`${Q<lt?Q:lt}px`,rt.style.left=`${Xe-ft}px`),Qe+Re+te<be&&Re>Je&&(rt.style.height=`${Re<Ct?Re:Ct}px`);break;case"st":Rt=Ue-Ke.clientY,Re=Me+Rt,Qe-Rt>te&&Re>Je&&(rt.style.height=`${Re<Ct?Re:Ct}px`,rt.style.top=`${Qe-Rt}px`);break;case"wr":ft=Ke.clientX-ke,Q=ft+ve,Xe+Q+te<U&&Q>qe&&(rt.style.width=`${Q<lt?Q:lt}px`);break;case"sest":ft=Ke.clientX-ke,Rt=Ue-Ke.clientY,Q=ft+ve,Re=Rt+Me,Xe+Q+te<U&&Q>qe&&(rt.style.width=`${Q<lt?Q:lt}px`),Qe-Rt>te&&Re>Je&&(rt.style.height=`${Re<Ct?Re:Ct}px`,rt.style.top=`${Qe-Rt}px`);break;case"selb":ft=Ke.clientX-ke,Rt=Ke.clientY-Ue,Q=ft+ve,Re=Rt+Me,Xe+Q+te<U&&Q>qe&&(rt.style.width=`${Q<lt?Q:lt}px`),Qe+Re+te<be&&Re>Je&&(rt.style.height=`${Re<Ct?Re:Ct}px`);break;case"sb":Rt=Ke.clientY-Ue,Re=Rt+Me,Qe+Re+te<be&&Re>Je&&(rt.style.height=`${Re<Ct?Re:Ct}px`);break}rt.className=rt.className.replace(/\s?is--drag/,"")+" is--drag",ge&&le(),Lt("resize",dt,Ke)},document.onmouseup=()=>{o.revertLocat=null,document.onmousemove=null,document.onmouseup=null,setTimeout(()=>{rt.className=rt.className.replace(/\s?is--drag/,"")},50)}},Lt=(W,ge,be)=>{n(W,$n(be,{$modal:M},ge))};G={dispatchEvent:Lt,open:J,close(){return Z("close")},getBox:$,getPosition:_t,setPosition:qt,isMinimized:Fe,isMaximized:Pe,zoom(){return Ge()},minimize(){return o.visible?Ee():Promise.resolve({status:!1})},maximize(){return o.visible?Oe():Promise.resolve({status:!1})},revert(){return o.visible?et():Promise.resolve({status:!1})}},Object.assign(M,G);const wt=()=>{const{slots:W={},showClose:ge,showZoom:be,showMaximize:U,showMinimize:te,title:re}=e,{zoomStatus:$e}=o,qe=r.title||W.title,Je=r.corner||W.corner,lt=V.value,Ct=q.value;return[g("div",{class:"vxe-modal--header-title"},qe?Kr(qe({$modal:M,minimized:lt,maximized:Ct})):re?wo(re):Jt("vxe.alert.title")),g("div",{class:"vxe-modal--header-right"},[Je&&!lt?g("div",{class:"vxe-modal--corner-wrapper"},Kr(Je({$modal:M}))):Ze(),(f.isBoolean(te)?te:be)?g("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:Jt(`vxe.modal.zoom${$e==="minimize"?"Out":"Min"}`),onClick:ut},[g("i",{class:$e==="minimize"?lr().MODAL_ZOOM_REVERT:lr().MODAL_ZOOM_MIN})]):Ze(),(f.isBoolean(U)?U:be)&&$e!=="minimize"?g("div",{class:["vxe-modal--zoom-btn","trigger--btn"],title:Jt(`vxe.modal.zoom${$e==="maximize"?"Out":"In"}`),onClick:gt},[g("i",{class:$e==="maximize"?lr().MODAL_ZOOM_OUT:lr().MODAL_ZOOM_IN})]):Ze(),ge?g("div",{class:["vxe-modal--close-btn","trigger--btn"],title:Jt("vxe.modal.close"),onClick:L},[g("i",{class:lr().MODAL_CLOSE})]):Ze()])]},ct=()=>{const{slots:W={},showZoom:ge,showMaximize:be,draggable:U}=e,te=r.header||W.header;if(e.showHeader){const re={};return U&&(re.onMousedown=Tt),(f.isBoolean(be)?be:ge)&&e.dblclickZoom&&e.type==="modal"&&(re.onDblclick=gt),g("div",Object.assign({ref:x,class:["vxe-modal--header",{"is--ellipsis":e.showTitleOverflow}]},re),te?Kr(te({$modal:M})):wt())}return Ze()},bt=()=>{const{slots:W={},status:ge,message:be,iconStatus:U}=e,te=e.content||be,re=P.value,$e=r.default||W.default,qe=r.left||W.left,Je=r.right||W.right,lt=[];return!re&&(ge||U)&&lt.push(g("div",{class:"vxe-modal--status-wrapper"},[g("i",{class:["vxe-modal--status-icon",U||lr()[`MODAL_${ge}`.toLocaleUpperCase()]]})])),lt.push(g("div",{class:"vxe-modal--content"},$e?Kr($e({$modal:M})):wo(te))),g("div",{class:"vxe-modal--body"},[qe?g("div",{class:"vxe-modal--body-left"},Kr(qe({$modal:M}))):Ze(),g("div",{class:"vxe-modal--body-default"},lt),Je?g("div",{class:"vxe-modal--body-right"},Kr(Je({$modal:M}))):Ze(),re?Ze():g(mx,{class:"vxe-modal--loading",modelValue:e.loading})])},St=()=>{const{slots:W={},showCancelButton:ge,showConfirmButton:be,type:U,loading:te}=e,re=r.leftfoot||W.leftfoot,$e=r.rightfoot||W.rightfoot,qe=[];return(f.isBoolean(ge)?ge:U==="confirm")&&qe.push(g(ko,{key:1,ref:k,content:e.cancelButtonText||Jt("vxe.button.cancel"),onClick:Ve})),(f.isBoolean(be)?be:U==="confirm"||U==="alert")&&qe.push(g(ko,{key:2,ref:S,loading:te,status:"primary",content:e.confirmButtonText||Jt("vxe.button.confirm"),onClick:ne})),g("div",{class:"vxe-modal--footer-wrapper"},[g("div",{class:"vxe-modal--footer-left"},re?Kr(re({$modal:M})):[]),g("div",{class:"vxe-modal--footer-right"},$e?Kr($e({$modal:M})):qe)])},Ye=()=>{const{slots:W={}}=e,ge=r.footer||W.footer;return e.showFooter?g("div",{class:"vxe-modal--footer"},ge?Kr(ge({$modal:M})):[St()]):Ze()},X=()=>{const{slots:W={},className:ge,type:be,animat:U,draggable:te,iconStatus:re,position:$e,loading:qe,destroyOnClose:Je,status:lt,lockScroll:Ct,padding:rt,lockView:ve,mask:Me,resize:ke}=e,{initialized:Ue,modalTop:Qe,contentVisible:Xe,visible:dt,zoomStatus:Ke}=o,ft=r.aside||W.aside,Rt=p.value,Q=P.value,Re=V.value,nt=D.value,vt={};return Q&&(vt.onMouseover=Ae,vt.onMouseout=_e),g(Xi,{to:"body",disabled:nt?!Ue:!0},[g("div",Object.assign({ref:m,class:["vxe-modal--wrapper",`type--${be}`,`zoom--${Ke||"revert"}`,ge||"",$e?`pos--${$e}`:"",{[`size--${Rt}`]:Rt,[`status--${lt}`]:lt,"is--padding":rt,"is--animat":U,"lock--scroll":Ct,"lock--view":ve,"is--draggable":te,"is--resize":ke,"is--mask":Me,"is--visible":Xe,"is--active":dt,"is--loading":qe}],style:{zIndex:o.modalZindex,top:Qe?`${Qe}px`:null},onClick:ie},vt),[g("div",{ref:v,class:"vxe-modal--box",onMousedown:Ht},[(Q||ft)&&!Re?g("div",{class:"vxe-modal--aside"},ft?Kr(ft({$modal:M})):[lt||re?g("div",{class:"vxe-modal--status-wrapper"},[g("i",{class:["vxe-modal--status-icon",re||lr()[`MODAL_${lt}`.toLocaleUpperCase()]]})]):Ze()]):Ze(),g("div",{class:"vxe-modal--container"},!o.initialized||Je&&!o.visible?[]:[ct(),bt(),Ye(),!Q&&ke?g("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(st=>g("span",{class:`${st}-resize`,type:st,onMousedown:Dt}))):Ze()])])])])};return M.renderVN=X,er(()=>e.width,Y),er(()=>e.height,Y),er(()=>e.modelValue,W=>{W?J():Z("model")}),qn(()=>{ye(()=>{e.storage&&!e.id&&qL("vxe.error.reqProp",["modal.id"]),e.modelValue&&J(),Y()}),e.escClosable&&Kt.on(M,"keydown",_)}),Ao(()=>{Kt.off(M,"keydown"),xe(),K()}),Ko("$xeModal",M),M},render(){return this.renderVN()}});function jL(e){return eF(),new Promise(t=>{const r=Object.assign({},e);if(r.id&&Ja.some(n=>n.props.id===r.id))t("exist");else{const n=r.onHide,l=Object.assign(r,{key:f.uniqueId(),modelValue:!0,onHide(a){const i=li.modals;n&&n(a),li.modals=i.filter(d=>d.key!==l.key),t(a.type)}});li.modals.push(l)}})}function lF(e){return f.find(Ja,t=>t.props.id===e)}function YL(e){const t=e?[lF(e)]:Ja,r=[];return t.forEach(n=>{n&&r.push(n.close())}),Promise.all(r)}function bs(e,t,r,n){let l;return f.isObject(t)?l=t:l={content:f.toValueString(t),title:r},jL(Object.assign(Object.assign(Object.assign({},e),n),l))}function KL(e){return bs({type:"modal"},e)}function XL(e,t,r){return bs({type:"alert",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,r)}function ZL(e,t,r){return bs({type:"confirm",status:"question",lockScroll:!0,showHeader:!0,showFooter:!0},e,t,r)}function JL(e,t){return bs({type:"message",mask:!1,lockView:!1,lockScroll:!1,showHeader:!1},e,"",t)}function QL(e,t,r){return bs({type:"notification",mask:!1,lockView:!1,lockScroll:!1,showHeader:!0,draggable:!1,position:"top-right",width:320},e,t,r)}const eN={get:lF,close:YL,open:KL,alert:XL,confirm:ZL,message:JL,notification:QL},iF=Object.assign(Ys,{install:function(e){e.component(Ys.name,Ys)}});Se.modal=eN;no.use(iF);Se.component(Ys);const Ks=Sr({name:"VxeNumberInput",props:{modelValue:[String,Number],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"number"},clearable:{type:Boolean,default:()=>We().numberInput.clearable},readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},placeholder:String,maxLength:{type:[String,Number],default:()=>We().numberInput.maxLength},autoComplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:()=>We().numberInput.size||We().size},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:()=>We().numberInput.exponential},showCurrency:{type:Boolean,default:()=>We().numberInput.showCurrency},currencySymbol:{type:String,default:()=>We().numberInput.currencySymbol},controls:{type:Boolean,default:()=>We().numberInput.controls},digits:{type:[String,Number],default:null},autoFill:{type:Boolean,default:()=>We().numberInput.autoFill},editable:{type:Boolean,default:!0},prefixIcon:String,suffixIcon:String,maxlength:[String,Number],autocomplete:String},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","prev-number","next-number","prefix-click","suffix-click"],setup(e,t){const{slots:r,emit:n}=t,l=or("$xeForm",null),a=or("xeFormItemInfo",null),i=f.uniqueId(),{computeSize:d}=Vn(e),u=zr({isFocus:!1,isActivated:!1,inputValue:e.modelValue}),p={},o=it(),c=it(),m=it(),v={refElem:o,refInput:c},x={xID:i,props:e,context:t,reactData:u,internalData:p,getRefMaps:()=>v};let S={};const k=ue(()=>{const{readonly:X}=e;return X===null?l?l.props.readonly:!1:X}),E=ue(()=>{const{disabled:X}=e;return X===null?l?l.props.disabled:!1:X}),D=ue(()=>{const{type:X,digits:W}=e;let ge=W;return ge===null&&(ge=We().numberInput.digits,ge===null&&X==="amount"&&(ge=2)),f.toInteger(ge)||1}),P=ue(()=>{const{type:X}=e;return X==="float"||X==="amount"}),V=ue(()=>{const{type:X}=e,W=D.value,ge=P.value,be=e.step;return X==="integer"?f.toInteger(be)||1:ge?f.toNumber(be)||1/Math.pow(10,W):f.toNumber(be)||1}),q=ue(()=>e.clearable),F=ue(()=>{const{editable:X}=e;return k.value||!X}),O=ue(()=>{const{placeholder:X}=e;if(X)return wo(X);const W=We().numberInput.placeholder;return W?wo(W):Jt("vxe.base.pleaseInput")}),M=ue(()=>{const{maxLength:X,maxlength:W}=e;return f.toNumber(X||W)||16}),G=ue(()=>{const{immediate:X}=e;return X}),$=ue(()=>{const{type:X}=e,{inputValue:W}=u;return X==="integer"?f.toInteger($o(W)):f.toNumber($o(W))}),Y=ue(()=>{const{type:X,showCurrency:W,currencySymbol:ge,autoFill:be}=e,{inputValue:U}=u,te=D.value;if(X==="amount"){const re=f.toNumber(U);let $e=f.commafy(re,{digits:te});if(!be){const[qe,Je]=$e.split(".");if(Je){const lt=Je.replace(/0+$/,"");$e=lt?[qe,".",lt].join(""):qe}}return W?`${ge||Jt("vxe.numberInput.currencySymbol")||""}${$e}`:$e}return f.toString(U)}),H=ue(()=>{const{min:X}=e,{inputValue:W}=u,ge=$.value;return(W||W===0)&&X!==null?ge<=f.toNumber(X):!1}),j=ue(()=>{const{max:X}=e,{inputValue:W}=u,ge=$.value;return(W||W===0)&&X!==null?ge>=f.toNumber(X):!1}),B=X=>f.eqNull(X)?"":`${X}`,xe=X=>{const{exponential:W,autoFill:ge}=e,be=M.value,U=D.value,te=P.value;let re="";return te?(re=Ui(X,U),ge||(re=B(f.toNumber(re)))):re=B(X),W&&(X===re||B(X).toLowerCase()===f.toNumber(re).toExponential())?X:re.slice(0,be)},Z=X=>{const{inputValue:W}=u;S.dispatchEvent(X.type,{value:W},X)},L=(X,W,ge)=>{const be=Cl(X)?null:Number(X),U=be!==e.modelValue;U&&(p.isUM=!0,n("update:modelValue",be)),u.inputValue!==W&&ye(()=>{u.inputValue=W||""}),S.dispatchEvent("input",{value:be},ge),U&&(S.dispatchEvent("change",{value:be},ge),l&&a&&l.triggerItemEvent(ge,a.itemConfig.field,be))},ne=(X,W)=>{const ge=G.value,be=Cl(X)?null:f.toNumber(X);u.inputValue=X,ge?L(be,X,W):S.dispatchEvent("input",{value:be},W)},Ve=X=>{const ge=X.target.value;ne(ge,X)},Le=X=>{G.value||Z(X)},ee=X=>{if(!F.value){const{inputValue:ge}=u;u.inputValue=Cl(ge)?"":`${f.toNumber(ge)}`,u.isFocus=!0,u.isActivated=!0,Z(X)}},se=X=>{if(!E.value){const{inputValue:ge}=u;S.dispatchEvent("prefix-click",{value:ge},X)}},ae=(X,W)=>{focus(),L(null,"",X),S.dispatchEvent("clear",{value:W},X)},le=X=>{if(!E.value){const{inputValue:ge}=u;S.dispatchEvent("suffix-click",{value:ge},X)}},Ee=X=>{const{autoFill:W}=e,{inputValue:ge}=u,be=D.value,U=P.value;if(Cl(X))u.inputValue="";else{let te=`${X}`;U&&(te=Ui(X,be),W||(te=`${f.toNumber(te)}`)),te!==ge&&(u.inputValue=te)}},Oe=()=>{const{autoFill:X}=e,{inputValue:W}=u,ge=D.value;if(P.value&&W){let U="",te=null;W&&(U=Ui(W,ge),te=f.toNumber(U),X||(U=`${te}`)),W!==te?L(te,U,{type:"init"}):u.inputValue=U}},Be=X=>e.max===null||f.toNumber(X)<=f.toNumber(e.max),K=X=>e.min===null||f.toNumber(X)>=f.toNumber(e.min),pe=()=>{const{type:X,min:W,max:ge,exponential:be}=e,{inputValue:U}=u;if(!F.value){if(Cl(U)){let re=null,$e=U;(W||W===0)&&(re=f.toNumber(W),$e=`${re}`),L(re,`${$e||""}`,{type:"check"});return}if(U||W||ge){let re=X==="integer"?f.toInteger($o(U)):f.toNumber($o(U));if(K(re)?Be(re)||(re=ge):re=W,be){const qe=B(U).toLowerCase();qe===f.toNumber(re).toExponential()&&(re=qe)}const $e=xe(re);L(Cl($e)?null:Number($e),$e,{type:"check"})}}},J=X=>{const{inputValue:W}=u,ge=G.value,be=W?Number(W):null;ge||L(be,B(W),X),pe(),u.isFocus=!1,u.isActivated=!1,S.dispatchEvent("blur",{value:be},X),l&&a&&l.triggerItemEvent(X,a.itemConfig.field,be)},ie=(X,W)=>{const{min:ge,max:be,type:U}=e,{inputValue:te}=u,re=V.value,$e=U==="integer"?f.toInteger($o(te)):f.toNumber($o(te)),qe=X?f.add($e,re):f.subtract($e,re);let Je;K(qe)?Be(qe)?Je=qe:Je=be:Je=ge,ne(xe(Je),W)},Ae=X=>{const W=E.value,ge=k.value,be=H.value;Ge(),!W&&!ge&&!be&&ie(!1,X),u.isActivated=!0,S.dispatchEvent("next-number",{value:u.inputValue},X)},_e=X=>{p.dnTimeout=setTimeout(()=>{Ae(X),_e(X)},60)},_=X=>{const W=E.value,ge=k.value,be=j.value;Ge(),!W&&!ge&&!be&&ie(!0,X),u.isActivated=!0,S.dispatchEvent("prev-number",{value:u.inputValue},X)},Fe=X=>{const W=Kt.hasKey(X,ur.ARROW_UP),ge=Kt.hasKey(X,ur.ARROW_DOWN);(W||ge)&&(X.preventDefault(),W?_(X):Ae(X))},Pe=X=>{const{exponential:W,controls:ge}=e,be=F.value,U=X.ctrlKey,te=X.shiftKey,re=X.altKey,$e=X.metaKey,qe=X.keyCode,Je=Kt.hasKey(X,ur.ESCAPE),lt=Kt.hasKey(X,ur.ARROW_UP),Ct=Kt.hasKey(X,ur.ARROW_DOWN);!U&&!te&&!re&&!$e&&(Kt.hasKey(X,ur.SPACEBAR)||(!W||qe!==69)&&qe>=65&&qe<=90||qe>=186&&qe<=188||qe>=191)&&X.preventDefault(),Je?pe():(lt||Ct)&&ge&&!be&&Fe(X),Z(X)},et=X=>{Z(X)},Ge=()=>{const{dnTimeout:X}=p;X&&(clearTimeout(X),p.dnTimeout=void 0)},ut=X=>{p.dnTimeout=setTimeout(()=>{_(X),ut(X)},60)},gt=X=>{if(Ge(),X.button===0){const W=gx(X.currentTarget,"is--prev");W?_(X):Ae(X),p.dnTimeout=setTimeout(()=>{W?ut(X):_e(X)},500)}},_t=X=>{const W=F.value;if(e.controls&&!W&&u.isActivated){X.stopPropagation(),X.preventDefault();const ge=X.deltaY;ge>0?Ae(X):ge<0&&_(X)}Z(X)},qt=X=>{Z(X)},Ht=X=>{const{isActivated:W}=u,ge=o.value,be=m.value,U=E.value,te=F.value,re=G.value;if(!U&&!te&&W&&(u.isActivated=_n(X,ge).flag||_n(X,be).flag,!u.isActivated)){if(!re){const{inputValue:$e}=u,qe=$e?Number($e):null;L(qe,B($e),X)}pe()}},Tt=X=>{const{clearable:W}=e,ge=E.value,be=F.value;if(!ge&&!be){const U=Kt.hasKey(X,ur.TAB),te=Kt.hasKey(X,ur.DELETE);let re=u.isActivated;U&&(re&&pe(),re=!1,u.isActivated=re),te&&W&&re&&ae(X,null)}},Dt=()=>{const{isActivated:X}=u;X&&pe()},Lt=()=>{const X=j.value,W=H.value;return g("div",{class:"vxe-input--control-icon"},[g("div",{class:"vxe-input--number-icon"},[g("div",{class:["vxe-input--number-btn is--prev",{"is--disabled":X}],onMousedown:gt,onMouseup:Ge,onMouseleave:Ge},[g("i",{class:lr().NUMBER_INPUT_PREV_NUM})]),g("div",{class:["vxe-input--number-btn is--next",{"is--disabled":W}],onMousedown:gt,onMouseup:Ge,onMouseleave:Ge},[g("i",{class:lr().NUMBER_INPUT_NEXT_NUM})])])])},wt=()=>{const{prefixIcon:X}=e,W=r.prefix;return W||X?g("div",{class:"vxe-number-input--prefix",onClick:se},[g("div",{class:"vxe-number-input--prefix-icon"},W?Kr(W({})):[g("i",{class:X})])]):null},ct=()=>{const{suffixIcon:X}=e,{inputValue:W}=u,ge=r.suffix,be=E.value,U=q.value;return g("div",{class:["vxe-number-input--suffix",{"is--clear":U&&!be&&!(W===""||f.eqNull(W))}]},[U?g("div",{class:"vxe-number-input--clear-icon",onClick:ae},[g("i",{class:lr().INPUT_CLEAR})]):Ze(),bt(),ge||X?g("div",{class:"vxe-number-input--suffix-icon",onClick:le},ge?Kr(ge({})):[g("i",{class:X})]):Ze()])},bt=()=>{const{controls:X}=e,W=F.value;return X&&!W?Lt():Ze()};S={dispatchEvent:(X,W,ge)=>{n(X,$n(ge,{$numberInput:x},W))},focus(){if(!F.value){const W=c.value;u.isActivated=!0,W.focus()}return ye()},blur(){return c.value.blur(),u.isActivated=!1,ye()},select(){return c.value.select(),u.isActivated=!1,ye()}},Object.assign(x,S);const Ye=()=>{const{className:X,controls:W,type:ge,align:be,name:U,autocomplete:te,autoComplete:re}=e,{inputValue:$e,isFocus:qe,isActivated:Je}=u,lt=d.value,Ct=E.value,rt=k.value,ve=Y.value;if(rt)return g("div",{ref:o,class:["vxe-number-input--readonly",`type--${ge}`,X]},ve);const Me=F.value,ke=M.value,Ue=O.value,Qe=q.value,Xe=wt(),dt=ct();return g("div",{ref:o,class:["vxe-number-input",`type--${ge}`,X,{[`size--${lt}`]:lt,[`is--${be}`]:be,"is--controls":W&&!Me,"is--prefix":!!Xe,"is--suffix":!!dt,"is--disabled":Ct,"is--active":Je,"show--clear":Qe&&!Ct&&!($e===""||f.eqNull($e))}],spellcheck:!1},[Xe||Ze(),g("div",{class:"vxe-number-input--wrapper"},[g("input",{ref:c,class:"vxe-number-input--inner",value:!qe&&ge==="amount"?ve:$e,name:U,type:"text",placeholder:Ue,maxlength:ke,readonly:Me,disabled:Ct,autocomplete:re||te,onKeydown:Pe,onKeyup:et,onWheel:_t,onClick:qt,onInput:Ve,onChange:Le,onFocus:ee,onBlur:J})]),dt||Ze()])};return x.renderVN=Ye,er(()=>e.modelValue,X=>{p.isUM||Ee(X),p.isUM=!1}),er(()=>e.type,()=>{Object.assign(u,{inputValue:e.modelValue}),Oe()}),qn(()=>{Kt.on(x,"mousedown",Ht),Kt.on(x,"keydown",Tt),Kt.on(x,"blur",Dt)}),Ki(()=>{u.isFocus=!1,Ge(),pe(),Kt.off(x,"mousedown"),Kt.off(x,"keydown"),Kt.off(x,"blur")}),Oe(),x},render(){return this.renderVN()}}),sF=Object.assign({},Ks,{install(e){e.component(Ks.name,Ks)}});no.use(sF);Se.component(Ks);function Os(e){return e.visible!==!1}function tN(){return f.uniqueId("opt_")}const ji=Sr({name:"VxeSelect",props:{modelValue:[String,Number,Boolean,Array],defaultConfig:Object,clearable:Boolean,placeholder:String,readonly:{type:Boolean,default:null},loading:Boolean,disabled:{type:Boolean,default:null},multiple:Boolean,multiCharOverflow:{type:[Number,String],default:()=>We().select.multiCharOverflow},prefixIcon:String,allowCreate:{type:Boolean,default:()=>We().select.allowCreate},placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,optionConfig:Object,className:[String,Function],popupClassName:[String,Function],max:{type:[String,Number],default:null},size:{type:String,default:()=>We().select.size||We().size},filterable:Boolean,filterMethod:Function,remote:Boolean,remoteMethod:Function,remoteConfig:Object,emptyText:String,transfer:{type:Boolean,default:null},virtualYConfig:Object,scrollY:Object,optionId:{type:String,default:()=>We().select.optionId},optionKey:Boolean},emits:["update:modelValue","change","clear","blur","focus","click","scroll","visible-change"],setup(e,t){const{slots:r,emit:n}=t,l=or("$xeModal",null),a=or("$xeDrawer",null),i=or("$xeTable",null),d=or("$xeForm",null),u=or("xeFormItemInfo",null),p=f.uniqueId(),o=it(),c=it(),m=it(),v=it(),x=it(),S=it(),{computeSize:k}=Vn(e),E=zr({initialized:!1,scrollYLoad:!1,bodyHeight:0,topSpaceHeight:0,optList:[],afterVisibleList:[],staticOptions:[],reactFlag:0,currentOption:null,searchValue:"",searchLoading:!1,panelIndex:0,panelStyle:{},panelPlacement:null,triggerFocusPanel:!1,visiblePanel:!1,isAniVisible:!1,isActivated:!1}),D={synchData:[],fullData:[],optAddMaps:{},optGroupKeyMaps:{},optFullValMaps:{},remoteValMaps:{},lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0},lastScrollTime:0,hpTimeout:void 0},P={refElem:o},V={xID:p,props:e,context:t,reactData:E,internalData:D,getRefMaps:()=>P},q=ue(()=>{const{readonly:Q}=e;return Q===null?d?d.props.readonly:!1:Q}),F=ue(()=>{const{disabled:Q}=e;return Q===null?d?d.props.disabled:!1:Q}),O=ue(()=>{const{transfer:Q}=e;if(Q===null){const Re=We().select.transfer;if(f.isBoolean(Re))return Re;if(i||l||a||d)return!0}return Q}),M=ue(()=>{const{placeholder:Q}=e;if(Q)return wo(Q);const Re=We().select.placeholder;return Re?wo(Re):Jt("vxe.base.pleaseSelect")}),G=ue(()=>Object.assign({},e.defaultConfig)),$=ue(()=>Object.assign({},e.optionProps)),Y=ue(()=>Object.assign({},e.optionGroupProps)),H=ue(()=>$.value.label||"label"),j=ue(()=>$.value.value||"value"),B=ue(()=>Y.value.label||"label"),xe=ue(()=>Y.value.options||"options"),Z=ue(()=>{const{modelValue:Q,multiple:Re,max:nt}=e;return Re&&nt?(f.isArray(Q)?Q.length:f.eqNull(Q)?0:1)>=f.toNumber(nt):!1}),L=ue(()=>Object.assign({},We().select.virtualYConfig||We().select.scrollY,e.virtualYConfig||e.scrollY)),ne=ue(()=>Object.assign({},We().select.remoteConfig,e.remoteConfig)),Ve=ue(()=>Object.assign({},We().select.optionConfig,e.optionConfig)),Le=ue(()=>f.toNumber(e.multiCharOverflow)),ee=ue(()=>{const{modelValue:Q,remote:Re,multiple:nt}=e,{reactFlag:vt}=E,st=Le.value;if(f.eqNull(Q))return"";const It=f.isArray(Q)?Q:[Q];return Re&&vt?It.map(pt=>Be(pt)).join(", "):It.map(pt=>{const Pt=K(pt);return nt&&st>0&&Pt.length>st?`${Pt.substring(0,st)}...`:Pt}).join(", ")}),se=(Q,Re)=>Q&&(f.isString(Q)&&(Q=r[Q]||null),f.isFunction(Q))?Kr(Q(Re)):[],ae=(Q,Re,nt)=>{n(Q,$n(nt,{$select:V},Re))},le=Q=>{n("update:modelValue",Q)},Ee=()=>Ve.value.keyField||e.optionId||"_X_OPTION_KEY",Oe=Q=>{const Re=Q[Ee()];return Re?encodeURIComponent(Re):""},Be=Q=>{const{remoteValMaps:Re,optFullValMaps:nt}=D,vt=H.value,st=Re[Q]||nt[Q],It=st?st.item:null;return f.toValueString(It?It[vt]:Q)},K=Q=>{const{optFullValMaps:Re}=D,nt=H.value,vt=E.reactFlag?Re[Q]:null;return vt?vt.item[nt]:f.toValueString(Q)},pe=Q=>{const Re=xe.value,nt=j.value,vt=Ee(),st={},It={},pt=[],Pt=yt=>{pt.push(yt);let ht=Oe(yt);ht||(ht=tN(),yt[vt]=ht),It[yt[nt]]={key:ht,item:yt,_index:-1}};Q.forEach(yt=>{Pt(yt),yt[Re]&&(st[yt[vt]]=yt,yt[Re].forEach(Pt))}),D.fullData=pt,D.optGroupKeyMaps=st,D.optFullValMaps=It,E.reactFlag++,J()},J=()=>{const{modelValue:Q,filterable:Re,filterMethod:nt}=e,{searchValue:vt}=E,{fullData:st,optFullValMaps:It}=D,pt=H.value,Pt=j.value,yt=`${vt||""}`.toLowerCase();let ht=[];return Re&&nt?ht=st.filter(Ut=>Os(Ut)&&nt({$select:V,group:null,option:Ut,searchValue:vt,value:Q})):Re?ht=st.filter(Ut=>Os(Ut)&&(!yt||`${Ut[pt]}`.toLowerCase().indexOf(yt)>-1)):ht=st.filter(Os),ht.forEach((Ut,Wt)=>{const jt=It[Ut[Pt]];jt&&(jt._index=Wt)}),E.afterVisibleList=ht,ye()},ie=Q=>{Q&&(E.currentOption=Q)},Ae=()=>{E.panelIndex<ms()&&(E.panelIndex=fi())},_e=()=>ye().then(()=>{const{placement:Q}=e,{panelIndex:Re}=E,nt=o.value,vt=x.value,st=O.value;if(vt&&nt){const It=nt.offsetHeight,pt=nt.offsetWidth,Pt=vt.offsetHeight,yt=vt.offsetWidth,ht=5,Ut={zIndex:Re},{boundingTop:Wt,boundingLeft:jt,visibleHeight:Qt,visibleWidth:ir}=Fc(nt);let zt="bottom";if(st){let dr=jt,pr=Wt+It;Q==="top"?(zt="top",pr=Wt-Pt):Q||(pr+Pt+ht>Qt&&(zt="top",pr=Wt-Pt),pr<ht&&(zt="bottom",pr=Wt+It)),dr+yt+ht>ir&&(dr-=dr+yt+ht-ir),dr<ht&&(dr=ht),Object.assign(Ut,{left:`${dr}px`,top:`${pr}px`,minWidth:`${pt}px`})}else Q==="top"?(zt="top",Ut.bottom=`${It}px`):Q||Wt+It+Pt>Qt&&Wt-It-Pt>ht&&(zt="top",Ut.bottom=`${It}px`);return E.panelStyle=Ut,E.panelPlacement=zt,ye()}}),_=()=>{const{loading:Q,filterable:Re,remote:nt}=e,{fullData:vt,hpTimeout:st}=D,It=F.value,pt=ne.value;!Q&&!It&&(st&&(clearTimeout(st),D.hpTimeout=void 0),E.initialized||(E.initialized=!0),E.isActivated=!0,E.isAniVisible=!0,Re&&(nt&&pt.enabled&&pt.autoLoad&&!vt.length?ge():(J(),$e())),setTimeout(()=>{E.visiblePanel=!0,Lt(),rt().then(()=>Ct())},10),setTimeout(()=>{rt().then(()=>Ct())},100),Ae(),_e(),ae("visible-change",{visible:!0},null))},Fe=()=>{E.searchValue="",E.searchLoading=!1,E.visiblePanel=!1,D.hpTimeout=setTimeout(()=>{E.isAniVisible=!1},350),ae("visible-change",{visible:!1},null)},Pe=(Q,Re)=>{le(Re),Re!==e.modelValue&&(ae("change",{value:Re},Q),d&&u&&d.triggerItemEvent(Q,u.itemConfig.field,Re))},et=(Q,Re)=>{D.remoteValMaps={},Pe(Q,Re),ae("clear",{value:Re},Q)},Ge=Q=>{const{$event:Re}=Q;et(Re,null),Fe()},ut=(Q,Re)=>{const{modelValue:nt,multiple:vt}=e,{remoteValMaps:st}=D,It=j.value,pt=Re[It],Pt=st[pt];if(Pt?Pt.item=Re:st[pt]={key:Oe(Re),item:Re,_index:-1},vt){let yt=[];const ht=f.eqNull(nt)?[]:f.isArray(nt)?nt:[nt];f.findIndexOf(ht,Wt=>Wt===pt)===-1?yt=ht.concat([pt]):yt=ht.filter(Wt=>Wt!==pt),Pe(Q,yt)}else Pe(Q,pt),Fe();E.reactFlag++},gt=Q=>{const{visiblePanel:Re}=E;if(!F.value&&Re){const vt=x.value;_n(Q,vt).flag?_e():Fe()}},_t=Q=>{const{visiblePanel:Re}=E;if(!F.value){const vt=o.value,st=x.value;E.isActivated=_n(Q,vt).flag||_n(Q,st).flag,Re&&!E.isActivated&&Fe()}},qt=Q=>{const Re=Q.disabled,nt=Oe(Q);return!Re&&!Xe(nt)},Ht=(Q,Re)=>{const{allowCreate:nt}=e,{afterVisibleList:vt,optList:st}=E,{optFullValMaps:It,optAddMaps:pt}=D,Pt=j.value;let yt=vt,ht=0;if(nt&&st.length){const jt=st[0],Qt=Oe(jt);pt[Qt]&&(ht=1,yt=[pt[Qt]].concat(yt))}if(!Q)if(Re)for(let jt=0;jt<yt.length;jt++){const Qt=yt[jt];if(qt(Qt))return Qt}else for(let jt=yt.length-1;jt>=0;jt--){const Qt=yt[jt];if(qt(Qt))return Qt}let Ut=0;const Wt=Q?It[Q[Pt]]:null;if(Wt&&(Ut=Wt._index+ht),Ut>-1){if(Re)for(let jt=Ut+1;jt<=yt.length-1;jt++){const Qt=yt[jt];if(qt(Qt))return Qt}else if(Ut>0)for(let jt=Ut-1;jt>=0;jt--){const Qt=yt[jt];if(qt(Qt))return Qt}}return null},Tt=Q=>{const{clearable:Re}=e,{visiblePanel:nt,currentOption:vt}=E;if(!F.value){const It=Kt.hasKey(Q,ur.TAB),pt=Kt.hasKey(Q,ur.ENTER),Pt=Kt.hasKey(Q,ur.ESCAPE),yt=Kt.hasKey(Q,ur.ARROW_UP),ht=Kt.hasKey(Q,ur.ARROW_DOWN),Ut=Kt.hasKey(Q,ur.DELETE),Wt=Kt.hasKey(Q,ur.SPACEBAR);if(It&&(E.isActivated=!1),nt)if(Pt||It)Fe();else if(pt)Q.preventDefault(),Q.stopPropagation(),ut(Q,vt);else if(yt||ht){Q.preventDefault();let jt=Ht(vt,ht);jt||(jt=Ht(null,ht)),jt&&(ie(jt),Je(jt,ht))}else Wt&&Q.preventDefault();else(yt||ht||pt||Wt)&&E.isActivated&&(Q.preventDefault(),_());E.isActivated&&Ut&&Re&&et(Q,null)}},Dt=()=>{Fe()},Lt=()=>{e.filterable&&ye(()=>{const Q=m.value;Q&&Q.focus()})},wt=Q=>{F.value||E.visiblePanel||(E.triggerFocusPanel=!0,_(),setTimeout(()=>{E.triggerFocusPanel=!1},500)),ae("focus",{},Q)},ct=Q=>{be(Q),ae("click",{triggerButton:!1,visible:E.visiblePanel},Q)},bt=Q=>{E.isActivated=!1,ae("blur",{},Q)},St=Q=>{be(Q),ae("click",{triggerButton:!0,visible:E.visiblePanel},Q)},Ye=Q=>{E.searchValue=Q},X=()=>{E.isActivated=!0},W=()=>{const{modelValue:Q,remote:Re,remoteMethod:nt}=e,{searchValue:vt}=E,st=ne.value,It=st.queryMethod||nt;Re&&It&&st.enabled?(E.searchLoading=!0,Promise.resolve(It({$select:V,searchValue:vt,value:Q})).then(()=>ye()).catch(()=>ye()).finally(()=>{E.searchLoading=!1,J(),$e()})):(J(),$e())},ge=f.debounce(W,350,{trailing:!0}),be=Q=>{const{$event:Re}=Q;Re.preventDefault(),E.triggerFocusPanel?E.triggerFocusPanel=!1:E.visiblePanel?Fe():_()},U=(Q,Re,nt)=>!!(Re.disabled||Z.value&&!Q),te=()=>{const{scrollYLoad:Q,afterVisibleList:Re}=E,{scrollYStore:nt}=D;E.bodyHeight=Q?Re.length*nt.rowHeight:0,E.topSpaceHeight=Q?Math.max(nt.startIndex*nt.rowHeight,0):0},re=()=>{const{filterable:Q,allowCreate:Re}=e,{scrollYLoad:nt,afterVisibleList:vt,searchValue:st}=E,{optAddMaps:It,scrollYStore:pt}=D,Pt=H.value,yt=j.value,ht=nt?vt.slice(pt.startIndex,pt.endIndex):vt.slice(0);if(Q&&Re&&st&&!ht.some(Ut=>Ut[Pt]===st)){const Ut=It[st]||zr({[Ee()]:st,[Pt]:st,[yt]:st});It[st]=Ut,ht.unshift(Ut)}return E.optList=ht,ye()},$e=()=>{re(),te()},qe=()=>ye().then(()=>{const{scrollYLoad:Q}=E,{scrollYStore:Re}=D,nt=S.value,vt=L.value;let st=0,It;if(nt&&(vt.sItem&&(It=nt.querySelector(vt.sItem)),It||(It=nt.children[0])),It&&(st=It.offsetHeight),st=Math.max(20,st),Re.rowHeight=st,Q){const pt=v.value,Pt=Math.max(8,pt?Math.ceil(pt.clientHeight/st):0),yt=Math.max(0,Math.min(2,f.toNumber(vt.oSize)));Re.offsetSize=yt,Re.visibleSize=Pt,Re.endIndex=Math.max(Re.startIndex,Pt+yt,Re.endIndex),$e()}else te()}),Je=(Q,Re)=>{const{scrollYLoad:nt}=E,{optFullValMaps:vt,scrollYStore:st}=D,It=j.value,pt=vt[Q[It]];if(pt){const Pt=pt.key,yt=pt._index;if(yt>-1){const ht=v.value,Wt=x.value.querySelector(`[optid='${Pt}']`);if(ht)if(Wt){const jt=ht.offsetHeight,Qt=1;Re?Wt.offsetTop+Wt.offsetHeight-ht.scrollTop>jt?ht.scrollTop=Wt.offsetTop+Wt.offsetHeight-jt:(Wt.offsetTop+Qt<ht.scrollTop||Wt.offsetTop+Qt>ht.scrollTop+ht.clientHeight)&&(ht.scrollTop=Wt.offsetTop-Qt):Wt.offsetTop+Qt<ht.scrollTop||Wt.offsetTop+Qt>ht.scrollTop+ht.clientHeight?ht.scrollTop=Wt.offsetTop-Qt:Wt.offsetTop+Wt.offsetHeight-ht.scrollTop>jt&&(ht.scrollTop=Wt.offsetTop+Wt.offsetHeight-jt)}else nt&&(Re?ht.scrollTop=yt*st.rowHeight-ht.clientHeight+st.rowHeight:ht.scrollTop=yt*st.rowHeight)}}},lt=(Q,Re)=>{const nt=v.value;return nt&&(f.isNumber(Q)&&(nt.scrollLeft=Q),f.isNumber(Re)&&(nt.scrollTop=Re)),E.scrollYLoad?new Promise(vt=>{setTimeout(()=>{ye(()=>{vt()})},50)}):ye()},Ct=()=>{const{lastScrollLeft:Q,lastScrollTop:Re}=D;return Qe().then(()=>{if(Q||Re)return D.lastScrollLeft=0,D.lastScrollTop=0,lt(Q,Re)})},rt=()=>{const Q=o.value;return Q&&Q.clientWidth&&Q.clientHeight?qe():Promise.resolve()},ve=Q=>{const{scrollYStore:Re}=D,{startIndex:nt,endIndex:vt,visibleSize:st,offsetSize:It,rowHeight:pt}=Re,yt=Q.target.scrollTop,ht=Math.floor(yt/pt),Ut=Math.max(0,ht-1-It),Wt=ht+st+It;(ht<=nt||ht>=vt-st-1)&&(nt!==Ut||vt!==Wt)&&(Re.startIndex=Ut,Re.endIndex=Wt,$e())},Me=()=>{const{lastScrollTime:Re}=D;return!!(Re&&Date.now()<Re+250)},ke=Q=>{const Re=Q.target,nt=Re.scrollTop,vt=Re.scrollLeft,st=vt!==D.lastScrollLeft,It=nt!==D.lastScrollTop;D.lastScrollTop=nt,D.lastScrollLeft=vt,E.scrollYLoad&&ve(Q),D.lastScrollTime=Date.now(),ae("scroll",{scrollLeft:vt,scrollTop:nt,isX:st,isY:It},Q)},Ue=Q=>{pe(Q||[]);const{isLoaded:Re,fullData:nt,scrollYStore:vt}=D,st=G.value,It=L.value,pt=j.value;if(Object.assign(vt,{startIndex:0,endIndex:1,visibleSize:0}),D.synchData=Q||[],E.scrollYLoad=!!It.enabled&&It.gt>-1&&(It.gt===0||It.gt<=nt.length),re(),!Re){const{selectMode:Pt}=st;if(Q.length>0&&f.eqNull(e.modelValue)){if(Pt==="first"||Pt==="last"){const yt=f[Pt](Q);yt&&ye(()=>{f.eqNull(e.modelValue)&&le(yt[pt])})}D.isLoaded=!0}}return qe().then(()=>{Ct()})},Qe=()=>{const Q=v.value;return Q&&(Q.scrollTop=0,Q.scrollLeft=0),D.lastScrollTop=0,D.lastScrollLeft=0,ye()},Xe=Q=>{const{optGroupKeyMaps:Re}=D;return!!Re[Q]};Object.assign(V,{dispatchEvent:ae,loadData:Ue,reloadData(Q){return D.isLoaded=!1,Qe(),Ue(Q)},isPanelVisible(){return E.visiblePanel},togglePanel(){return E.visiblePanel?Fe():_(),ye()},hidePanel(){return E.visiblePanel&&Fe(),ye()},showPanel(){return E.visiblePanel||_(),ye()},refreshOption(){return J(),$e(),ye()},focus(){const Q=c.value;return E.isActivated=!0,Q.blur(),ye()},blur(){return c.value.blur(),E.isActivated=!1,ye()},recalculate:rt,clearScroll:Qe});const Ke=(Q,Re)=>{const{allowCreate:nt,optionKey:vt,modelValue:st}=e,{currentOption:It}=E,{optAddMaps:pt}=D,Pt=Ve.value,yt=H.value,ht=j.value,Ut=B.value,{useKey:Wt}=Pt,jt=r.option;return Q.map((Qt,ir)=>{const{slots:zt,className:dr}=Qt,pr=Oe(Qt),Wr=Qt[ht],$r=Xe(pr),an=!!(nt&&pt[pr]),Ro=!an&&(f.isArray(st)?st.indexOf(Wr)>-1:st===Wr),zn=an||!$r||Os(Qt),Dn=!an&&U(Ro,Qt),oo=zt?zt.default:null,ao={option:Qt,group:null,$select:V},Bn=jt?se(jt,ao):oo?se(oo,ao):wo(Qt[$r?Ut:yt]);return zn?g("div",{key:Wt||vt?pr:ir,class:["vxe-select-option",dr?f.isFunction(dr)?dr(ao):dr:"",{"vxe-select-optgroup":$r,"is--disabled":Dn,"is--selected":Ro,"is--add":an,"is--hover":It&&Oe(It)===pr}],optid:pr,onMousedown:On=>{On.button===0&&On.stopPropagation()},onClick:On=>{!Dn&&!$r&&ut(On,Qt)},onMouseenter:()=>{!Dn&&!$r&&!Me()&&ie(Qt)}},nt?[g("span",{key:1,class:"vxe-select-option--label"},Bn),an?g("span",{key:2,class:"vxe-select-option--add-icon"},[g("i",{class:lr().ADD_OPTION})]):Uo()]:Bn):Uo()})},ft=()=>{const{optList:Q,searchLoading:Re}=E;return Re?[g("div",{class:"vxe-select--search-loading"},[g("i",{class:["vxe-select--search-icon",lr().SELECT_LOADED]}),g("span",{class:"vxe-select--search-text"},Jt("vxe.select.loadingText"))])]:Q.length?Ke(Q):[g("div",{class:"vxe-select--empty-placeholder"},e.emptyText||Jt("vxe.select.emptyText"))]},Rt=()=>{const{className:Q,popupClassName:Re,loading:nt,filterable:vt}=e,{initialized:st,isActivated:It,isAniVisible:pt,visiblePanel:Pt,bodyHeight:yt,topSpaceHeight:ht}=E,Ut=k.value,Wt=F.value,jt=ee.value,Qt=O.value,ir=q.value,zt=M.value,dr=r.default,pr=r.header,Wr=r.footer,$r=r.prefix;return ir?g("div",{ref:o,class:["vxe-select--readonly",Q]},[g("div",{class:"vxe-select-slots",ref:"hideOption"},dr?dr({}):[]),g("span",{class:"vxe-select-label"},jt)]):g("div",{ref:o,class:["vxe-select",Q?f.isFunction(Q)?Q({$select:V}):Q:"",{[`size--${Ut}`]:Ut,"is--visible":Pt,"is--disabled":Wt,"is--filter":vt,"is--loading":nt,"is--active":It}]},[g("div",{class:"vxe-select-slots",ref:"hideOption"},dr?dr({}):[]),g(Ol,{ref:c,clearable:e.clearable,placeholder:zt,readonly:!0,disabled:Wt,type:"text",prefixIcon:e.prefixIcon,suffixIcon:nt?lr().SELECT_LOADED:Pt?lr().SELECT_OPEN:lr().SELECT_CLOSE,autoFocus:!1,modelValue:jt,onClear:Ge,onClick:ct,onFocus:wt,onBlur:bt,onSuffixClick:St},$r?{prefix:()=>$r({})}:{}),g(Xi,{to:"body",disabled:Qt?!st:!0},[g("div",{ref:x,class:["vxe-table--ignore-clear vxe-select--panel",Re?f.isFunction(Re)?Re({$select:V}):Re:"",{[`size--${Ut}`]:Ut,"is--transfer":Qt,"ani--leave":!nt&&pt,"ani--enter":!nt&&Pt}],placement:E.panelPlacement,style:E.panelStyle},st&&(Pt||pt)?[g("div",{class:"vxe-select--panel-wrapper"},[vt?g("div",{class:"vxe-select--panel-search"},[g(Ol,{ref:m,class:"vxe-select-search--input",modelValue:E.searchValue,clearable:!0,disabled:!1,readonly:!1,placeholder:Jt("vxe.select.search"),prefixIcon:lr().INPUT_SEARCH,"onUpdate:modelValue":Ye,onFocus:X,onChange:ge,onSearch:ge})]):Uo(),pr?g("div",{class:"vxe-select--panel-header"},pr({})):Uo(),g("div",{class:"vxe-select--panel-body"},[g("div",{ref:v,class:"vxe-select-option--wrapper",onScroll:ke},[g("div",{class:"vxe-select--y-space",style:{height:yt?`${yt}px`:""}}),g("div",{ref:S,class:"vxe-select--body",style:{marginTop:ht?`${ht}px`:""}},ft())])]),Wr?g("div",{class:"vxe-select--panel-footer"},Wr({})):Uo()])]:[])])])};return er(()=>E.staticOptions,Q=>{Ue(Q)}),er(()=>e.options,Q=>{Ue(Q||[])}),er(()=>e.optionGroups,Q=>{Ue(Q||[])}),qn(()=>{ye(()=>{const{options:Q,optionGroups:Re}=e;Re?Ue(Re):Q&&Ue(Q)}),Kt.on(V,"mousewheel",gt),Kt.on(V,"mousedown",_t),Kt.on(V,"keydown",Tt),Kt.on(V,"blur",Dt)}),Ao(()=>{Kt.off(V,"mousewheel"),Kt.off(V,"mousedown"),Kt.off(V,"keydown"),Kt.off(V,"blur")}),Ko("$xeSelect",V),V.renderVN=Rt,V},render(){return this.renderVN()}}),Xs=Sr({name:"VxePager",props:{size:{type:String,default:()=>We().pager.size||We().size},layouts:{type:Array,default:()=>We().pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:()=>We().pager.pageSize||10},total:{type:Number,default:0},pagerCount:{type:Number,default:()=>We().pager.pagerCount||7},pageSizes:{type:Array,default:()=>We().pager.pageSizes||[10,15,20,50,100]},align:{type:String,default:()=>We().pager.align},border:{type:Boolean,default:()=>We().pager.border},background:{type:Boolean,default:()=>We().pager.background},perfect:{type:Boolean,default:()=>We().pager.perfect},autoHidden:{type:Boolean,default:()=>We().pager.autoHidden},transfer:{type:Boolean,default:()=>We().pager.transfer},className:[String,Function],pageSizePlacement:{type:String,default:()=>We().pager.pageSizePlacement},iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String,iconHomePage:String,iconEndPage:String},emits:["update:pageSize","update:currentPage","page-change"],setup(e,t){const{slots:r,emit:n}=t,l=f.uniqueId(),{computeSize:a}=Vn(e),i=or("$xeGrid",null),d=zr({inpCurrPage:e.currentPage}),u=it(),p={refElem:u},o=ue(()=>E(e.total,e.pageSize)),c=ue(()=>{const{pagerCount:K}=e,J=o.value>K?K-2:K,ie=[];for(let Ae=0;Ae<J;Ae++)ie.push(Ae);return ie}),m=ue(()=>Math.floor((e.pagerCount-2)/2)),v=ue(()=>e.pageSizes.map(K=>f.isNumber(K)?{value:K,label:`${Jt("vxe.pager.pagesize",[K])}`}:Object.assign({value:"",label:""},K))),x={xID:l,props:e,context:t,getRefMaps:()=>p};let S={},k={};const E=(K,pe)=>Math.max(Math.ceil(K/pe),1),D=(K,pe)=>{n("update:currentPage",pe),K&&pe!==e.currentPage&&S.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:pe},K)},P=(K,pe)=>{n("update:currentPage",K),pe&&K!==e.currentPage&&S.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:K},pe)},V=K=>{const{$event:pe}=K,J=pe.target,ie=f.toInteger(J.value),Ae=o.value,_e=ie<=0?1:ie>=Ae?Ae:ie,_=f.toValueString(_e);J.value=_,d.inpCurrPage=_,P(_e,pe)},q=K=>{const{currentPage:pe}=e;pe>1&&P(1,K)},F=K=>{const{currentPage:pe}=e,J=o.value;pe<J&&P(J,K)},O=K=>{const{currentPage:pe}=e,J=o.value;pe>1&&P(Math.min(J,Math.max(pe-1,1)),K)},M=K=>{const{currentPage:pe}=e,J=o.value;pe<J&&P(Math.min(J,pe+1),K)},G=K=>{const pe=c.value;P(Math.max(e.currentPage-pe.length,1),K)},$=K=>{const pe=o.value,J=c.value;P(Math.min(e.currentPage+J.length,pe),K)},Y=K=>{const{value:pe}=K,J=f.toNumber(pe),ie=E(e.total,J);let Ae=e.currentPage;Ae>ie&&(Ae=ie,n("update:currentPage",ie)),n("update:pageSize",J),S.dispatchEvent("page-change",{type:"size",pageSize:J,currentPage:Ae},K.$event)},H=K=>{const{$event:pe}=K;Kt.hasKey(pe,ur.ENTER)?V(K):Kt.hasKey(pe,ur.ARROW_UP)?(pe.preventDefault(),M(pe)):Kt.hasKey(pe,ur.ARROW_DOWN)&&(pe.preventDefault(),O(pe))},j=()=>{const{currentPage:K,total:pe}=e,J=r.home,ie=o.value;return J?g("span",{class:"vxe-pager--custom-home-btn"},J({$pager:x,total:pe,currentPage:K,pageCount:ie})):g("button",{class:["vxe-pager--home-btn",{"is--disabled":K<=1}],type:"button",title:Jt("vxe.pager.homePageTitle"),onClick:q},[g("i",{class:["vxe-pager--btn-icon",e.iconHomePage||lr().PAGER_HOME]})])},B=()=>{const{currentPage:K,total:pe}=e,J=r.prevPage||r["prev-page"],ie=o.value;return J?g("span",{class:"vxe-pager--custom-prev-btn"},J({$pager:x,total:pe,currentPage:K,pageCount:ie})):g("button",{class:["vxe-pager--prev-btn",{"is--disabled":K<=1}],type:"button",title:Jt("vxe.pager.prevPageTitle"),onClick:O},[g("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||lr().PAGER_PREV_PAGE]})])},xe=K=>{const{currentPage:pe,total:J}=e,ie=r.prevJump||r["prev-jump"],Ae=o.value;return ie?g("span",{class:"vxe-pager--custom-jump-prev"},ie({$pager:x,total:J,currentPage:pe,pageCount:Ae})):g(K||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!K,"is--disabled":pe<=1}],type:"button",title:Jt("vxe.pager.prevJumpTitle"),onClick:G},[K?g("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||lr().PAGER_JUMP_MORE]}):null,g("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||lr().PAGER_JUMP_PREV]})])},Z=K=>{const{currentPage:pe,total:J}=e,ie=r.nextJump||r["next-jump"],Ae=o.value;return ie?g("span",{class:"vxe-pager--custom-jump-next"},ie({$pager:x,total:J,currentPage:pe,pageCount:Ae})):g(K||"button",{class:["vxe-pager--jump-next",{"is--fixed":!K,"is--disabled":pe>=Ae}],type:"button",title:Jt("vxe.pager.nextJumpTitle"),onClick:$},[K?g("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||lr().PAGER_JUMP_MORE]}):null,g("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||lr().PAGER_JUMP_NEXT]})])},L=()=>{const{currentPage:K,total:pe}=e,J=r.nextPage||r["next-page"],ie=o.value;return J?g("span",{class:"vxe-pager--custom-next-btn"},J({$pager:x,total:pe,currentPage:K,pageCount:ie})):g("button",{class:["vxe-pager--next-btn",{"is--disabled":K>=ie}],type:"button",title:Jt("vxe.pager.nextPageTitle"),onClick:M},[g("i",{class:["vxe-pager--btn-icon",e.iconNextPage||lr().PAGER_NEXT_PAGE]})])},ne=()=>{const{currentPage:K,total:pe}=e,J=r.end,ie=o.value;return J?g("span",{class:"vxe-pager--custom-end-btn"},J({$pager:x,total:pe,currentPage:K,pageCount:ie})):g("button",{class:["vxe-pager--end-btn",{"is--disabled":K>=ie}],type:"button",title:Jt("vxe.pager.endPageTitle"),onClick:F},[g("i",{class:["vxe-pager--btn-icon",e.iconEndPage||lr().PAGER_END]})])},Ve=K=>{const{currentPage:pe,total:J,pagerCount:ie}=e,Ae=K?r.numberJump||r["number-jump"]:r.number,_e=[],_=o.value,Fe=c.value,Pe=m.value,et=_>ie,Ge=et&&pe>Pe+1,ut=et&&pe<_-Pe,gt=[];let _t=1;return et&&(pe>=_-Pe?_t=Math.max(_-Fe.length+1,1):_t=Math.max(pe-Pe,1)),K&&Ge&&(gt.push(1),_e.push(g("button",{class:"vxe-pager--num-btn",type:"button",onClick:qt=>D(qt,1)},"1"),xe("span"))),Fe.forEach((qt,Ht)=>{const Tt=_t+Ht;Tt<=_&&(gt.push(Tt),_e.push(g("button",{key:Tt,class:["vxe-pager--num-btn",{"is--active":pe===Tt}],type:"button",onClick:Dt=>D(Dt,Tt)},`${Tt}`)))}),K&&ut&&(gt.push(_),_e.push(Z("button"),g("button",{class:"vxe-pager--num-btn",type:"button",onClick:qt=>D(qt,_)},_))),Ae?g("span",{class:"vxe-pager--custom-btn-wrapper"},Ae({$pager:x,total:J,numList:gt,currentPage:pe,pageCount:_})):g("span",{class:"vxe-pager--btn-wrapper"},_e)},Le=()=>Ve(!0),ee=()=>{const{total:K,currentPage:pe,pageSize:J,pageSizePlacement:ie,transfer:Ae}=e,_e=r.sizes,_=v.value,Fe=o.value;return _e?g("span",{class:"vxe-pager--custom-sizes"},_e({$pager:x,total:K,currentPage:pe,pageCount:Fe,pageSize:J,options:_})):g(ji,{class:"vxe-pager--sizes",modelValue:J,placement:ie,transfer:Ae,options:_,onChange:Y})},se=K=>{const{total:pe}=e,{inpCurrPage:J}=d,ie=K?r.fullJump||r["full-jump"]:r.jump,Ae=o.value;return ie?g("span",{class:"vxe-pager--custom-jump"},ie({$pager:x,total:pe,currentPage:J,pageCount:Ae})):g("span",{class:"vxe-pager--jump"},[K?g("span",{class:"vxe-pager--goto-text"},Jt("vxe.pager.goto")):null,g(Ol,{class:"vxe-pager--goto",modelValue:d.inpCurrPage,placeholder:Jt("vxe.pager.gotoTitle"),align:"center",type:"integer",max:Ae,min:1,controls:!1,onKeydown:H,onBlur:V,"onUpdate:modelValue"(_e){d.inpCurrPage=_e}}),K?g("span",{class:"vxe-pager--classifier-text"},Jt("vxe.pager.pageClassifier")):null])},ae=()=>se(!0),le=()=>{const{currentPage:K,total:pe}=e,J=r.pageCount||r["page-count"],ie=o.value;return J?g("span",{class:"vxe-pager--custom-count"},J({$pager:x,total:pe,currentPage:K,pageCount:ie})):g("span",{class:"vxe-pager--count"},[g("span",{class:"vxe-pager--separator"}),g("span",ie)])},Ee=()=>{const{currentPage:K,total:pe}=e,J=r.total,ie=o.value;return J?g("span",{class:"vxe-pager--custom-total"},J({$pager:x,total:pe,currentPage:K,pageCount:ie})):g("span",{class:"vxe-pager--total"},Jt("vxe.pager.total",[pe]))};S={dispatchEvent:(K,pe,J)=>{n(K,$n(J,{$pager:x},pe))},homePage(){return q(),ye()},endPage(){return F(),ye()},prevPage(){return O(),ye()},nextPage(){return M(),ye()},prevJump(){return G(),ye()},nextJump(){return $(),ye()},jumpPage(K){const pe=f.toNumber(K)||1;return d.inpCurrPage=pe,P(pe),ye()}},k={handlePrevPage:O,handleNextPage:M,handlePrevJump:G,handleNextJump:$},Object.assign(x,S,k),er(()=>e.currentPage,K=>{d.inpCurrPage=K});const Be=()=>{const{align:K,layouts:pe,className:J}=e,ie=[],Ae=a.value,_e=o.value;return r.left&&ie.push(g("span",{class:"vxe-pager--left-wrapper"},r.left({$grid:i}))),pe.forEach(_=>{let Fe;switch(_){case"Home":Fe=j;break;case"PrevJump":Fe=xe;break;case"PrevPage":Fe=B;break;case"Number":Fe=Ve;break;case"JumpNumber":Fe=Le;break;case"NextPage":Fe=L;break;case"NextJump":Fe=Z;break;case"End":Fe=ne;break;case"Sizes":Fe=ee;break;case"FullJump":Fe=ae;break;case"Jump":Fe=se;break;case"PageCount":Fe=le;break;case"Total":Fe=Ee;break}Fe&&ie.push(Fe())}),r.right&&ie.push(g("span",{class:"vxe-pager--right-wrapper"},r.right({$grid:i}))),g("div",{ref:u,class:["vxe-pager",J?f.isFunction(J)?J({$pager:x}):J:"",{[`size--${Ae}`]:Ae,[`align--${K}`]:K,"is--border":e.border,"is--background":e.background,"is--perfect":e.perfect,"is--hidden":e.autoHidden&&_e===1,"is--loading":e.loading}]},[g("div",{class:"vxe-pager--wrapper"},ie)])};return x.renderVN=Be,x},render(){return this.renderVN()}}),cF=Object.assign(Xs,{install:function(e){e.component(Xs.name,Xs)}});no.use(cF);Se.component(Xs);const rN=Sr({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},name:String,strict:{type:Boolean,default:()=>We().radio.strict},size:{type:String,default:()=>We().radio.size||We().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:r,emit:n}=t,l=or("$xeForm",null),a=or("xeFormItemInfo",null),i=or("$xeRadioGroup",null),d=f.uniqueId(),u=zr({}),p={xID:d,props:e,context:t,reactData:u},{computeSize:o}=Vn(e),c=ue(()=>{const{disabled:F}=e;if(F===null&&i){const{computeIsDisabled:O}=i.getComputeMaps();return O.value}return F}),m=ue(()=>i?i.name:e.name),v=ue(()=>i?i.props.strict:e.strict),x=ue(()=>{const{label:F}=e;return i?i.props.modelValue===F:e.modelValue===F}),S=(F,O)=>{i?i.handleChecked({label:F},O):(n("update:modelValue",F),D("change",{label:F},O),l&&a&&l.triggerItemEvent(O,a.itemConfig.field,F))},k=F=>{c.value||S(e.label,F)},E=F=>{const O=c.value,M=v.value;!O&&!M&&e.label===(i?i.props.modelValue:e.modelValue)&&S(null,F)},D=(F,O,M)=>{n(F,$n(M,{$radio:p},O))};Object.assign(p,{dispatchEvent:D},{});const q=()=>{const{label:F}=e,O=o.value,M=c.value,G=m.value,$=x.value;return g("label",{key:F,class:["vxe-radio",{[`size--${O}`]:O,"is--checked":$,"is--disabled":M}],title:e.title},[g("input",{class:"vxe-radio--input",type:"radio",name:G,checked:$,disabled:M,onChange:k,onClick:E}),g("span",{class:["vxe-radio--icon",$?lr().RADIO_CHECKED:lr().RADIO_UNCHECKED]}),g("span",{class:"vxe-radio--label"},r.default?r.default({}):wo(e.content))])};return p.renderVN=q,p},render(){return this.renderVN()}}),nN=Sr({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:{type:Boolean,default:null},strict:{type:Boolean,default:()=>We().radioButton.strict},size:{type:String,default:()=>We().radioButton.size||We().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:r,emit:n}=t,l=or("$xeForm",null),a=or("xeFormItemInfo",null),i=or("$xeRadioGroup",null),d=f.uniqueId(),u=zr({}),{computeSize:p}=Vn(e),o={xID:d,props:e,context:t,reactData:u},c=ue(()=>{const{disabled:q}=e;if(q===null&&i){const{computeIsDisabled:F}=i.getComputeMaps();return F.value}return q}),m=ue(()=>i?i.name:null),v=ue(()=>i?i.props.strict:e.strict),x=ue(()=>{const{label:q}=e;return i?i.props.modelValue===q:e.modelValue===q}),S={dispatchEvent(q,F,O){n(q,$n(O,{$radioButton:o},F))}};Object.assign(o,S,{});const E=(q,F)=>{i?i.handleChecked({label:q},F):(n("update:modelValue",q),S.dispatchEvent("change",{label:q},F),l&&a&&l.triggerItemEvent(F,a.itemConfig.field,q))},D=q=>{c.value||E(e.label,q)},P=q=>{const F=c.value,O=v.value;!F&&!O&&e.label===(i?i.props.modelValue:e.modelValue)&&E(null,q)},V=()=>{const{label:q}=e,F=p.value,O=c.value,M=m.value,G=x.value;return g("label",{key:q,class:["vxe-radio","vxe-radio-button",{[`size--${F}`]:F,"is--disabled":O}],title:e.title},[g("input",{class:"vxe-radio--input",type:"radio",name:M,checked:G,disabled:O,onChange:D,onClick:P}),g("span",{class:"vxe-radio--label"},r.default?r.default({}):wo(e.content))])};return o.renderVN=V,V}}),Zs=Sr({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:{type:Boolean,default:null},type:String,options:Array,optionProps:Object,strict:{type:Boolean,default:()=>We().radioGroup.strict},size:{type:String,default:()=>We().radioGroup.size||We().size}},emits:["update:modelValue","change"],setup(e,t){const{slots:r,emit:n}=t,l=or("$xeForm",null),a=or("xeFormItemInfo",null),i=f.uniqueId();Vn(e);const d=zr({}),p={computeIsDisabled:ue(()=>{const{disabled:P}=e;return P===null?l?l.props.readonly||l.props.disabled:!1:P})},o={xID:i,props:e,context:t,reactData:d,name:f.uniqueId("xe_group_"),getComputeMaps:()=>p},c=ue(()=>Object.assign({},e.optionProps)),m=ue(()=>c.value.label||"label"),v=ue(()=>c.value.value||"value"),x=ue(()=>c.value.disabled||"disabled"),S=(P,V,q)=>{n(P,$n(q,{$radioGroup:o},V))};Object.assign(o,{dispatchEvent:S},{handleChecked(P,V){const q=P.label;n("update:modelValue",q),S("change",P,V),l&&a&&l.triggerItemEvent(V,a.itemConfig.field,q)}});const D=()=>{const{options:P,type:V}=e,q=r.default,F=v.value,O=m.value,M=x.value,G=V==="button"?nN:rN;return g("div",{class:"vxe-radio-group"},q?q({}):P?P.map($=>g(G,{key:$[F],label:$[F],content:$[O],disabled:$[M]})):[])};return Ko("$xeRadioGroup",o),o.renderVN=D,o},render(){return this.renderVN()}}),uF=Object.assign(Zs,{install:function(e){e.component(Zs.name,Zs)}});no.use(uF);Se.component(Zs);const dF=Object.assign(ji,{install:function(e){e.component(ji.name,ji)}});no.use(dF);Se.component(ji);const fF=Object.assign({},Gi,{install(e){e.component(Gi.name,Gi)}});no.use(fF);Se.component(Gi);let Vl=null,Oa=null;function oN(e){const t=e.name,r=f.lastIndexOf(t,"."),n=t.substring(r+1,t.length).toLowerCase();return{filename:t.substring(0,r),type:n}}const pF=e=>{const t=Object.assign({},e);return new Promise((r,n)=>{Oa||(Oa=document.createElement("input"),Oa.name="file",Oa.type="file"),Vl||(Vl=document.createElement("form"),Vl.style.display="none",Vl.appendChild(Oa),document.body.appendChild(Vl));const l=t.types||[],a=!l.length||l.some(i=>i==="*");Oa.multiple=!!t.multiple,Oa.accept=a?"":`.${l.join(", .")}`,Oa.onchange=i=>{const d=i.target,u=Array.from(d.files||[]),p=u[0];let o="";if(!a)for(let c=0;c<u.length;c++){const{type:m}=oN(u[c]);if(!f.includes(l,m)){o=m;break}}o?(t.message!==!1&&Se.modal&&Se.modal.message({content:Jt("vxe.error.notType",[o]),status:"error"}),n({status:!1,files:u,file:p})):r({status:!0,files:u,file:p})},Vl.reset(),Oa.click()})};function aN(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}const lN=e=>{const t=Object.assign({type:""},e),{filename:r,type:n,content:l}=t,a=n?`${r}.${n}`:`${r}`;if(window.Blob){const i=l instanceof Blob?l:aN(f.toValueString(l),t),d=window.navigator;if(d.msSaveBlob)d.msSaveBlob(i,a);else{const u=URL.createObjectURL(i),p=document.createElement("a");p.target="_blank",p.download=a,p.href=u,document.body.appendChild(p),p.click(),requestAnimationFrame(()=>{p.parentNode&&p.parentNode.removeChild(p),URL.revokeObjectURL(u)})}return Promise.resolve()}return Promise.reject(new Error(Jt("vxe.error.notExp")))},Js=Sr({name:"VxeUpload",props:{modelValue:[Array,String,Object],showList:{type:Boolean,default:()=>We().upload.showList},moreConfig:Object,readonly:{type:Boolean,default:null},disabled:{type:Boolean,default:null},mode:{type:String,default:()=>We().upload.mode},imageTypes:{type:Array,default:()=>f.clone(We().upload.imageTypes,!0)},imageConfig:{type:Object,default:()=>f.clone(We().upload.imageConfig,!0)},imageStyle:{type:Object,default:()=>f.clone(We().upload.imageStyle,!0)},fileTypes:{type:Array,default:()=>f.clone(We().upload.fileTypes,!0)},dragSort:Boolean,dragToUpload:{type:Boolean,default:()=>f.clone(We().upload.dragToUpload,!0)},pasteToUpload:{type:Boolean,default:()=>f.clone(We().upload.pasteToUpload,!0)},keyField:String,singleMode:Boolean,urlMode:Boolean,multiple:Boolean,limitSize:{type:[String,Number],default:()=>We().upload.limitSize},limitCount:{type:[String,Number],default:()=>We().upload.limitCount},nameField:{type:String,default:()=>We().upload.nameField},typeField:{type:String,default:()=>We().upload.typeField},urlField:{type:String,default:()=>We().upload.urlField},sizeField:{type:String,default:()=>We().upload.sizeField},showErrorStatus:{type:Boolean,default:()=>We().upload.showErrorStatus},showProgress:{type:Boolean,default:()=>We().upload.showProgress},progressText:{type:String,default:()=>We().upload.progressText},autoHiddenButton:{type:Boolean,default:()=>We().upload.autoHiddenButton},showUploadButton:{type:Boolean,default:()=>We().upload.showUploadButton},buttonText:{type:String,default:()=>We().upload.buttonText},buttonIcon:{type:String,default:()=>We().upload.buttonIcon},showButtonText:{type:Boolean,default:()=>We().upload.showButtonText},showButtonIcon:{type:Boolean,default:()=>We().upload.showButtonIcon},showRemoveButton:{type:Boolean,default:()=>We().upload.showRemoveButton},showDownloadButton:{type:Boolean,default:()=>We().upload.showDownloadButton},showPreview:{type:Boolean,default:()=>We().upload.showPreview},showTip:{type:Boolean,default:()=>null},tipText:String,hintText:String,previewMethod:Function,uploadMethod:Function,beforeRemoveMethod:Function,removeMethod:Function,beforeDownloadMethod:Function,downloadMethod:Function,getUrlMethod:Function,getThumbnailUrlMethod:Function,size:{type:String,default:()=>We().upload.size||We().size}},emits:["update:modelValue","add","remove","remove-fail","download","download-fail","upload-success","upload-error","sort-dragend"],setup(e,t){const{emit:r,slots:n}=t,l=or("$xeForm",null),a=or("xeFormItemInfo",null),i=or("$xeTable",null),d=f.uniqueId(),{computeSize:u}=Vn(e),p=it(),o=it(),c=it(),m=it(),v=zr({isDragUploadStatus:!1,showMorePopup:!1,isActivated:!1,fileList:[],fileCacheMaps:{},isDragMove:!1,dragIndex:-1,dragTipText:""}),x={imagePreviewTypes:["jpg","jpeg","png","gif"],prevDragIndex:-1},S={refElem:p},k=ue(()=>{const{readonly:ve}=e;return ve===null?l?l.props.readonly:!1:ve}),E=ue(()=>{const{disabled:ve}=e;return ve===null?l?l.props.disabled:!1:ve}),D=ue(()=>e.keyField||"_X_KEY"),P=ue(()=>e.mode==="image"),V=ue(()=>e.nameField||"name"),q=ue(()=>e.typeField||"type"),F=ue(()=>e.urlField||"url"),O=ue(()=>e.sizeField||"size"),M=ue(()=>f.toNumber(e.limitSize)*1024*1024),G=ue(()=>e.multiple?f.toNumber(e.limitCount):1),$=ue(()=>{const{multiple:ve}=e,{fileList:Me}=v,ke=G.value;return ve?ke?Me.length>=ke:!0:Me.length>=1}),Y=ue(()=>{const ve=f.toNumber(e.limitSize);return ve?ve>1048576?`${ve/1048576}T`:ve>1024?`${ve/1024}G`:`${ve}M`:""}),H=ue(()=>{const{showTip:ve,tipText:Me}=e;if(f.isBoolean(ve))return ve;const ke=We().upload.showTip;return f.isBoolean(ke)?ke:!!Me}),j=ue(()=>{const{limitSize:ve,fileTypes:Me,multiple:ke,limitCount:Ue}=e,Qe=e.tipText||e.hintText,Xe=P.value,dt=Y.value;if(f.isString(Qe))return Qe;const Ke=[];return Xe?(ke&&Ue&&Ke.push(Jt("vxe.upload.imgCountHint",[Ue])),ve&&dt&&Ke.push(Jt("vxe.upload.imgSizeHint",[dt]))):(Me&&Me.length&&Ke.push(Jt("vxe.upload.fileTypeHint",[Me.join("/")])),ve&&dt&&Ke.push(Jt("vxe.upload.fileSizeHint",[dt])),ke&&Ue&&Ke.push(Jt("vxe.upload.fileCountHint",[Ue]))),Ke.join(Jt("vxe.base.comma"))}),B=ue(()=>Object.assign({},e.imageConfig||e.imageStyle)),xe=ue(()=>{const ve=B.value,{width:Me,height:ke}=ve,Ue={};return Me&&(Ue.width=oc(Me)),ke&&(Ue.height=oc(ke)),Ue}),Z=ue(()=>Object.assign({showMoreButton:!0},e.moreConfig)),L={},ne={xID:d,props:e,context:t,reactData:v,internalData:x,getRefMaps:()=>S,getComputeMaps:()=>L},Ve=()=>f.uniqueId(),Le=ve=>{const Me=D.value;return ve[Me]},ee=()=>{const{modelValue:ve,multiple:Me}=e,ke=k.value,Ue=D.value,Qe=V.value,Xe=q.value,dt=F.value,Ke=O.value,ft=ve?(ve?f.isArray(ve)?ve:[ve]:[]).map(Rt=>{if(!Rt||f.isString(Rt)){const Re=`${Rt||""}`,nt=f.parseUrl(Rt),vt=(nt?nt.searchQuery[Qe]:"")||se(Re);return{[Qe]:vt,[Xe]:(nt?nt.searchQuery[Xe]:"")||ae(vt),[dt]:Re,[Ke]:f.toNumber(nt?nt.searchQuery[Ke]:0)||0,[Ue]:Ve()}}const Q=Rt[Qe]||"";return Rt[Qe]=Q,Rt[Xe]=Rt[Xe]||ae(Q),Rt[dt]=Rt[dt]||"",Rt[Ke]=Rt[Ke]||0,Rt[Ue]=Rt[Ue]||Ve(),Rt}):[];v.fileList=ke||Me?ft:ft.slice(0,1)},se=ve=>decodeURIComponent(`${ve||""}`).split("/").pop()||"",ae=ve=>{const Me=ve.lastIndexOf(".");return Me>0?ve.substring(Me+1).toLowerCase():""},le=(ve,Me,ke)=>{r(ve,$n(ke,{$upload:ne},Me))},Ee=ve=>{const{singleMode:Me,urlMode:ke}=e,Ue=F.value,Qe=V.value;let Xe=ve?ve.slice(0):[];ke&&(Xe=Xe.map(dt=>{const Ke=dt[Ue];return Ke&&!f.parseUrl(Ke).searchQuery[Qe]?`${Ke}${Ke.indexOf("?")===-1?"?":"&"}${Qe}=${encodeURIComponent(dt[Qe]||"")}`:Ke})),r("update:modelValue",Me?Xe[0]||null:Xe)},Oe=ve=>{const Me=e.getThumbnailUrlMethod||We().upload.getThumbnailUrlMethod;return Me?Me({$upload:ne,option:ve}):Be(ve)},Be=ve=>{const Me=e.getUrlMethod||We().upload.getUrlMethod,ke=F.value;return Me?Me({$upload:ne,option:ve}):ve[ke]},K=ve=>{const{imageTypes:Me,showDownloadButton:ke}=e,Ue=q.value,Qe=e.beforeDownloadMethod||We().upload.beforeDownloadMethod,{imagePreviewTypes:Xe}=x;Xe.concat(Me||[]).some(dt=>`${dt}`.toLowerCase()===`${ve[Ue]}`.toLowerCase())&&Se.previewImage&&Se.previewImage({urlList:[Be(ve)],showDownloadButton:ke,beforeDownloadMethod:Qe?()=>Qe({$upload:ne,option:ve}):void 0})},pe=(ve,Me)=>{const ke=e.previewMethod||We().upload.previewMethod;e.showPreview&&(ke?ke({$upload:ne,option:Me}):K(Me))},J=(ve,Me,ke)=>{const{showDownloadButton:Ue}=e,{fileList:Qe}=v,Xe=e.beforeDownloadMethod||We().upload.beforeDownloadMethod;e.showPreview&&Se.previewImage&&Se.previewImage({urlList:Qe.map(dt=>Be(dt)),activeIndex:ke,showDownloadButton:Ue,beforeDownloadMethod:Xe?({index:dt})=>Xe({$upload:ne,option:Qe[dt]}):void 0})},ie=(ve,Me)=>{const{showErrorStatus:ke}=e,Ue=Le(ve),Qe=e.uploadMethod||We().upload.uploadMethod;if(Qe)return Promise.resolve(Qe({$upload:ne,file:Me,option:ve,updateProgress(Xe){const{fileCacheMaps:dt}=v,Ke=dt[Le(ve)];Ke&&(Ke.percent=Math.max(0,Math.min(99,f.toNumber(Xe))))}})).then(Xe=>{const{fileCacheMaps:dt}=v,Ke=dt[Ue];Ke&&(Ke.percent=100),Object.assign(ve,Xe),le("upload-success",{option:ve,data:Xe},null)}).catch(Xe=>{const{fileCacheMaps:dt}=v,Ke=dt[Ue];Ke&&(Ke.status="error"),ke?Object.assign(ve,Xe):v.fileList=v.fileList.filter(ft=>Le(ft)!==Ue),le("upload-error",{option:ve,data:Xe},null)}).finally(()=>{const{fileCacheMaps:Xe}=v,dt=Xe[Ue];dt&&(dt.loading=!1)});{const{fileCacheMaps:Xe}=v,dt=Xe[Ue];dt&&(dt.loading=!1)}return Promise.resolve()},Ae=ve=>{const{uploadMethod:Me,urlMode:ke}=e,{fileCacheMaps:Ue}=v,Qe=Le(ve),Xe=Ue[Qe];if((Me||We().upload.uploadMethod)&&Xe){const Ke=Xe.file;Xe.loading=!0,Xe.status="",Xe.percent=0,ie(ve,Ke).then(()=>{ke&&Ee(v.fileList)})}},_e=(ve,Me)=>{const{multiple:ke,urlMode:Ue}=e,{fileList:Qe}=v,Xe=e.uploadMethod||We().upload.uploadMethod,dt=D.value,Ke=V.value,ft=q.value,Rt=F.value,Q=O.value,Re=M.value,nt=G.value,vt=Y.value;let st=ve;if(ke&&nt){if(Qe.length>=nt){Se.modal&&Se.modal.notification({title:Jt("vxe.modal.errTitle"),status:"error",content:Jt("vxe.upload.overCountErr",[nt])});return}const yt=st.length-(nt-Qe.length);if(yt>0){const ht=st.slice(nt-Qe.length);Se.modal&&Se.modal.notification({title:Jt("vxe.modal.errTitle"),status:"error",width:null,slots:{default(){return g("div",{class:"vxe-upload--file-message-over-error"},[g("div",{},Jt("vxe.upload.overCountExtraErr",[nt,yt])),g("div",{class:"vxe-upload--file-message-over-extra"},ht.map((Ut,Wt)=>g("div",{key:Wt,class:"vxe-upload--file-message-over-extra-item"},Ut.name)))])}}})}st=st.slice(0,nt-Qe.length)}if(Re){for(let yt=0;yt<ve.length;yt++)if(ve[0].size>Re){Se.modal&&Se.modal.notification({title:Jt("vxe.modal.errTitle"),status:"error",content:Jt("vxe.upload.overSizeErr",[vt])});return}}const It=Object.assign({},v.fileCacheMaps),pt=ke?Qe:[],Pt=[];st.forEach(yt=>{const{name:ht}=yt,Ut=Ve(),Wt={[Ke]:ht,[ft]:ae(ht),[Q]:yt.size,[Rt]:URL.createObjectURL(yt),[dt]:Ut};Xe&&(It[Ut]={file:yt,loading:!0,status:"",percent:0});const jt=zr(Wt);Xe&&Pt.push(ie(jt,yt)),pt.push(jt),le("add",{option:jt},Me)}),v.fileList=pt,v.fileCacheMaps=It,Promise.all(Ue?Pt:[]).then(()=>{Ee(pt),l&&a&&l.triggerItemEvent(Me,a.itemConfig.field,pt)})},_=ve=>{const{multiple:Me,imageTypes:ke,fileTypes:Ue}=e,Qe=E.value,Xe=P.value;return Qe?Promise.resolve({status:!1,files:[],file:null}):pF({multiple:Me,types:Xe?ke:Ue}).then(dt=>(_e(dt.files,ve),dt))},Fe=ve=>{_(ve).catch(()=>{})},Pe=(ve,Me,ke)=>{const{fileList:Ue}=v;Ue.splice(ke,1),Ee(Ue),l&&a&&l.triggerItemEvent(ve,a.itemConfig.field,Ue),le("remove",{option:Me},ve)},et=(ve,Me,ke)=>{const Ue=e.beforeRemoveMethod||We().upload.beforeRemoveMethod,Qe=e.removeMethod||We().upload.removeMethod;Promise.resolve(Ue?Ue({$upload:ne,option:Me}):!0).then(Xe=>{Xe?Qe?Promise.resolve(Qe({$upload:ne,option:Me})).then(()=>{Pe(ve,Me,ke)}).catch(dt=>dt):Pe(ve,Me,ke):le("remove-fail",{option:Me},ve)})},Ge=(ve,Me)=>{le("download",{option:Me},ve)},ut=(ve,Me)=>{const ke=e.beforeDownloadMethod||We().upload.beforeDownloadMethod,Ue=e.downloadMethod||We().upload.downloadMethod;Promise.resolve(ke?ke({$upload:ne,option:Me}):!0).then(Qe=>{Qe?Ue?Promise.resolve(Ue({$upload:ne,option:Me})).then(()=>{Ge(ve,Me)}).catch(Xe=>Xe):Ge(ve,Me):le("download-fail",{option:Me},ve)})},gt=ve=>{const Me=ve.currentTarget,{clientX:ke,clientY:Ue}=ve;if(Me){const{x:Qe,y:Xe,height:dt,width:Ke}=Me.getBoundingClientRect();(ke<Qe||ke>Qe+Ke||Ue<Xe||Ue>Xe+dt)&&(v.isDragUploadStatus=!1)}},_t=ve=>{const Me=ve.dataTransfer;if(Me){const{items:ke}=Me;ke&&ke.length&&(ve.preventDefault(),v.isDragUploadStatus=!0)}},qt=(ve,Me)=>{const{imageTypes:ke}=e,{imagePreviewTypes:Ue}=x;if(P.value){const Xe=Ue.concat(ke&&ke.length?ke:[]);Me=Me.filter(dt=>{const Ke=`${dt.type.split("/")[1]||""}`.toLowerCase();return!!Xe.some(ft=>`${ft}`.toLowerCase()===Ke)})}if(!Me.length){Se.modal&&Se.modal.notification({title:Jt("vxe.modal.errTitle"),status:"error",content:Jt("vxe.upload.uploadTypeErr")});return}_e(Me,ve)},Ht=ve=>{const Me=ve.dataTransfer;if(Me){const{items:ke}=Me;if(ke&&ke.length){ve.preventDefault();const Ue=Tt(ke);Ue.length&&qt(ve,Ue)}}v.isDragUploadStatus=!1},Tt=ve=>{const Me=[];return f.arrayEach(ve,ke=>{const Ue=ke.getAsFile();Ue&&Me.push(Ue)}),Me},Dt=()=>{const ve=k.value,Me=P.value;Se.modal&&Se.modal.open({title:Jt(ve?"vxe.upload.morePopup.readTitle":`vxe.upload.morePopup.${Me?"imageTitle":"fileTitle"}`),width:660,height:500,escClosable:!0,showMaximize:!0,resize:!0,maskClosable:!0,slots:{default(){const{showErrorStatus:ke,dragToUpload:Ue,dragSort:Qe}=e,{isActivated:Xe,isDragMove:dt,isDragUploadStatus:Ke,dragIndex:ft}=v,{fileList:Rt}=v,Q=E.value,Re={};return Ue&&ft===-1&&(Re.onDragover=_t,Re.onDragleave=gt,Re.onDrop=Ht),g("div",Object.assign({ref:o,class:["vxe-upload--more-popup",{"is--readonly":ve,"is--disabled":Q,"is--active":Xe,"show--error":ke,"is--drag":Ke}]},Re),[Me?Qe?g(ha,{name:`vxe-upload--drag-list${dt?"":"-disabled"}`,tag:"div",class:"vxe-upload--image-more-list"},{default:()=>qe(Rt,!0).concat(Je(!0))}):g("div",{class:"vxe-upload--image-more-list"},qe(Rt,!0).concat(Je(!0))):g("div",{class:"vxe-upload--file-more-list"},[re(!0),Qe?g(ha,{name:`vxe-upload--drag-list${dt?"":"-disabled"}`,tag:"div",class:"vxe-upload--file-list"},{default:()=>te(Rt,!1)}):g("div",{class:"vxe-upload--file-list"},te(Rt,!0))]),Qe?g("div",{ref:m,class:"vxe-upload--drag-line"}):Uo(),Ke?g("div",{class:"vxe-upload--drag-placeholder"},Jt("vxe.upload.dragPlaceholder")):Uo()])}},onShow(){v.showMorePopup=!0},onHide(){v.showMorePopup=!1}})},Lt=(ve,Me,ke)=>{const{showMorePopup:Ue}=v,Qe=p.value,Xe=o.value,dt=Ue?Xe:Qe;if(!dt)return;const Ke=dt.getBoundingClientRect(),ft=c.value,Rt=m.value,Q=Ue?Rt:ft;if(Q){const Re=Me.getBoundingClientRect();Q.style.display="block",Q.style.top=`${Math.max(1,Re.y-Ke.y)}px`,Q.style.left=`${Math.max(1,Re.x-Ke.x)}px`,Q.style.height=`${Re.height}px`,Q.style.width=`${Re.width-1}px`,Q.setAttribute("drag-pos",ke)}},wt=()=>{const ve=c.value,Me=m.value;ve&&(ve.style.display=""),Me&&(Me.style.display="")},ct=ve=>{ve.stopPropagation(),ve.dataTransfer&&ve.dataTransfer.setDragImage(BL(),0,0);const Me=ve.currentTarget,ke=Me.parentElement,Ue=f.findIndexOf(Array.from(ke.children),Qe=>Me===Qe);v.isDragMove=!0,v.dragIndex=Ue,setTimeout(()=>{v.isDragMove=!1},500)},bt=ve=>{ve.stopPropagation(),ve.preventDefault();const{dragIndex:Me}=v;if(Me===-1)return;const ke=P.value,Ue=ve.currentTarget,Qe=Ue.parentElement,Xe=f.findIndexOf(Array.from(Qe.children),Ke=>Ue===Ke);let dt="";if(ke?dt=ve.clientX-Ue.getBoundingClientRect().x<Ue.clientWidth/2?"left":"right":dt=ve.clientY-Ue.getBoundingClientRect().y<Ue.clientHeight/2?"top":"bottom",Me===Xe){Lt(ve,Ue,dt);return}Lt(ve,Ue,dt),x.prevDragIndex=Xe,x.prevDragPos=dt},St=ve=>{const{fileList:Me,dragIndex:ke}=v,{prevDragIndex:Ue,prevDragPos:Qe}=x,Xe=ke,dt=Ue,Ke=Qe==="bottom"||Qe==="right"?1:0,ft=Me[Xe],Rt=Me[dt];if(ft&&Rt){Me.splice(Xe,1);const Re=f.findIndexOf(Me,nt=>Rt===nt)+Ke;Me.splice(Re,0,ft),le("sort-dragend",{oldItem:ft,newItem:Rt,dragPos:Qe,offsetIndex:Ke,_index:{newIndex:Re,oldIndex:Xe}},ve)}wt(),v.dragIndex=-1},Ye=ve=>{i&&ve.stopPropagation(),v.isActivated=!0},X=ve=>{const{pasteToUpload:Me}=e,{isActivated:ke}=v;if(!ke||!Me)return;const Ue=ve.clipboardData||ve.originalEvent.clipboardData;if(!Ue)return;const{items:Qe}=Ue;if(!Qe)return;const Xe=Tt(Qe);Xe.length&&(ve.preventDefault(),qt(ve,Xe))},W=ve=>{const Me=p.value,ke=o.value;let Ue=_n(ve,Me).flag;if(!Ue&&ke){const Qe=ke.parentElement||ke,Xe=Qe&&Qe.parentElement;Ue=_n(ve,Xe).flag}v.isActivated=Ue},ge=()=>{v.isActivated=!1};Object.assign(ne,{dispatchEvent:le,choose(){return _(null)}},{});const te=(ve,Me)=>{const{showRemoveButton:ke,showDownloadButton:Ue,showProgress:Qe,progressText:Xe,showPreview:dt,showErrorStatus:Ke,dragSort:ft}=e,{fileCacheMaps:Rt}=v,Q=E.value,Re=k.value,nt=V.value,vt=q.value,st=n.corner,It={};return ft&&ve.length>1&&(It.onDragstart=ct,It.onDragover=bt,It.onDragend=St),ve.map((pt,Pt)=>{const yt=Le(pt),ht=Rt[yt],Ut=ht&&ht.loading,Wt=ht&&ht.status==="error";return g("div",Object.assign({key:ft?yt:Pt,class:["vxe-upload--file-item",{"is--preview":dt,"is--loading":Ut,"is--error":Wt}],fileid:yt,draggable:ft?!0:null},It),[g("div",{class:"vxe-upload--file-item-icon"},[g("i",{class:lr()[`UPLOAD_FILE_TYPE_${`${pt[vt]}`.toLocaleUpperCase()}`]||lr().UPLOAD_FILE_TYPE_DEFAULT})]),g("div",{class:"vxe-upload--file-item-name",onClick(jt){!Ut&&!Wt&&pe(jt,pt)}},`${pt[nt]||""}`),Ut?g("div",{class:"vxe-upload--file-item-loading-icon"},[g("i",{class:lr().UPLOAD_LOADING})]):Ze(),Qe&&Ut&&ht?g("div",{class:"vxe-upload--file-item-loading-text"},Xe?f.toFormatString(Xe,{percent:ht.percent}):Jt("vxe.upload.uploadProgress",[ht.percent])):Ze(),Ke&&Wt?g("div",{class:"vxe-upload--image-item-error"},[g(ko,{icon:lr().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:Jt("vxe.upload.reUpload"),onClick(){Ae(pt)}})]):Ze(),g("div",{class:"vxe-upload--file-item-btn-wrapper"},[st?g("div",{class:"vxe-upload--file-item-corner"},Kr(st({option:pt,isMoreView:Me,readonly:Re}))):Ze(),Ue&&!Ut?g("div",{class:"vxe-upload--file-item-download-btn",onClick(jt){ut(jt,pt)}},[g("i",{class:lr().UPLOAD_FILE_DOWNLOAD})]):Ze(),ke&&!Re&&!Q&&!Ut?g("div",{class:"vxe-upload--file-item-remove-btn",onClick(jt){et(jt,pt,Pt)}},[g("i",{class:lr().UPLOAD_FILE_REMOVE})]):Ze()])])})},re=ve=>{const{showUploadButton:Me,buttonText:ke,buttonIcon:Ue,showButtonText:Qe,showButtonIcon:Xe,autoHiddenButton:dt}=e,Ke=E.value,ft=k.value,Rt=H.value,Q=j.value,Re=$.value,nt=n.default,vt=n.tip||n.hint;return ft||!Me?Ze():g("div",{class:"vxe-upload--file-action"},[dt&&Re?Ze():g("div",{class:"vxe-upload--file-action-btn",onClick:Fe},nt?Kr(nt({$upload:ne})):[g(ko,{class:"vxe-upload--file-action-button",content:ve||Qe?ke?`${ke}`:Jt("vxe.upload.fileBtnText"):"",icon:Xe?Ue||lr().UPLOAD_FILE_ADD:"",disabled:Ke})]),Rt&&(Q||vt)?g("div",{class:"vxe-upload--file-action-tip"},vt?Kr(vt({$upload:ne})):Q):Ze()])},$e=()=>{const{showList:ve,moreConfig:Me,dragSort:ke}=e,{fileList:Ue,isDragMove:Qe}=v,Xe=Z.value,{maxCount:dt,showMoreButton:Ke,layout:ft}=Xe,Rt=ft==="horizontal";let Q=Ue,Re=0;return dt&&Ue.length>dt&&(Re=Ue.length-dt,Q=Ue.slice(0,dt)),g("div",{key:"all",class:"vxe-upload--file-wrapper"},ve?[Ke&&Me&&Rt?Ze():re(!0),Q.length||Ke&&Rt?g("div",{class:["vxe-upload--file-list-wrapper",{"is--horizontal":Rt}]},[Q.length?ke?g(ha,{name:`vxe-upload--drag-list${Qe?"":"-disabled"}`,tag:"div",class:"vxe-upload--file-list"},{default:()=>te(Q,!1)}):g("div",{class:"vxe-upload--file-list"},te(Q,!1)):Ze(),Ke&&Re?g("div",{class:"vxe-upload--file-over-more"},[g(ko,{mode:"text",content:Jt("vxe.upload.moreBtnText",[Ue.length]),status:"primary",onClick:Dt})]):Ze(),Ke&&Me&&Rt?re(!1):Ze()]):Ze()]:[re(!1)])},qe=(ve,Me)=>{const{showRemoveButton:ke,showProgress:Ue,progressText:Qe,showPreview:Xe,showErrorStatus:dt,dragSort:Ke}=e,{fileCacheMaps:ft}=v,Rt=E.value,Q=k.value,Re=B.value,nt=xe.value,vt=n.corner,st={onMousedown:Ye};return Ke&&ve.length>1&&(st.onDragstart=ct,st.onDragover=bt,st.onDragend=St),ve.map((It,pt)=>{const Pt=Le(It),yt=ft[Pt],ht=yt&&yt.loading,Ut=yt&&yt.status==="error";return g("div",Object.assign({key:Ke?Pt:pt,class:["vxe-upload--image-item",{"is--preview":Xe,"is--circle":Re.circle,"is--loading":ht,"is--error":Ut}],fileid:Pt,draggable:Ke?!0:null},st),[g("div",{class:"vxe-upload--image-item-box",style:Me?null:nt,title:Jt("vxe.upload.viewItemTitle"),onClick(Wt){!ht&&!Ut&&J(Wt,It,pt)}},[ht&&yt?g("div",{class:"vxe-upload--image-item-loading"},[g("div",{class:"vxe-upload--image-item-loading-icon"},[g("i",{class:lr().UPLOAD_LOADING})]),Ue?g("div",{class:"vxe-upload--image-item-loading-text"},Qe?f.toFormatString(Qe,{percent:yt.percent}):Jt("vxe.upload.uploadProgress",[yt.percent])):Ze()]):Ze(),ht?Ze():Ut&&dt?g("div",{class:"vxe-upload--image-item-error"},[g(ko,{icon:lr().UPLOAD_IMAGE_RE_UPLOAD,mode:"text",status:"primary",content:Jt("vxe.upload.reUpload"),onClick(){Ae(It)}})]):g("div",{class:"vxe-upload--image-item-img-wrapper"},[g("img",{class:"vxe-upload--image-item-img",src:Oe(It)})]),g("div",{class:"vxe-upload--image-item-btn-wrapper",onClick(Wt){Wt.stopPropagation()}},[vt?g("div",{class:"vxe-upload--file-item-corner"},Kr(vt({option:It,isMoreView:Me,readonly:Q}))):Ze(),ke&&!Q&&!Rt&&!ht?g("div",{class:"vxe-upload--image-item-remove-btn",onClick(Wt){Wt.stopPropagation(),et(Wt,It,pt)}},[g("i",{class:lr().UPLOAD_IMAGE_REMOVE})]):Ze()])])])})},Je=ve=>{const{showUploadButton:Me,buttonText:ke,buttonIcon:Ue,showButtonText:Qe,showButtonIcon:Xe,autoHiddenButton:dt}=e,Ke=k.value,ft=H.value,Rt=j.value,Q=$.value,Re=xe.value,nt=n.default,vt=n.tip||n.hint;return Ke||!Me||dt&&Q?Ze():g("div",{key:"action",class:"vxe-upload--image-action"},[g("div",{class:"vxe-upload--image-action-btn",onClick:Fe},nt?nt({$upload:ne}):[g("div",{class:"vxe-upload--image-action-box",style:ve?null:Re},[Xe?g("div",{class:"vxe-upload--image-action-icon"},[g("i",{class:Ue||lr().UPLOAD_IMAGE_ADD})]):Ze(),ve||Qe?g("div",{class:"vxe-upload--image-action-content"},ke?`${ke}`:Jt("vxe.upload.imgBtnText")):Ze(),ft&&(Rt||vt)?g("div",{class:"vxe-upload--image-action-hint"},vt?Kr(vt({$upload:ne})):Rt):Ze()])])])},lt=()=>{const{showList:ve,dragSort:Me}=e,{fileList:ke,isDragMove:Ue}=v,Qe=Z.value,{maxCount:Xe,showMoreButton:dt}=Qe;let Ke=ke,ft=0;return Xe&&ke.length>Xe&&(ft=ke.length-Xe,Ke=ke.slice(0,Xe)),g("div",{key:"image",class:"vxe-upload--image-wrapper"},ve?[Me?g(ha,{name:`vxe-upload--drag-list${Ue?"":"-disabled"}`,tag:"div",class:"vxe-upload--image-list"},{default:()=>qe(Ke,!1).concat([dt&&ft?g("div",{key:"om",class:"vxe-upload--image-over-more"},[g(ko,{mode:"text",content:Jt("vxe.upload.moreBtnText",[ke.length]),status:"primary",onClick:Dt})]):Ze(),Je(!1)])}):g("div",{class:"vxe-upload--image-list"},qe(Ke,!1).concat([dt&&ft?g("div",{class:"vxe-upload--image-over-more"},[g(ko,{mode:"text",content:Jt("vxe.upload.moreBtnText",[ke.length]),status:"primary",onClick:Dt})]):Ze(),Je(!1)]))]:[g("div",{class:"vxe-upload--image-list"},[Je(!1)])])},Ct=()=>{const{showErrorStatus:ve,dragToUpload:Me,pasteToUpload:ke,dragSort:Ue}=e,{isDragUploadStatus:Qe,showMorePopup:Xe,isActivated:dt,dragIndex:Ke}=v,ft=u.value,Rt=E.value,Q=k.value,Re=P.value,nt={onMousedown:Ye};return Me&&Ke===-1&&(nt.onDragover=_t,nt.onDragleave=gt,nt.onDrop=Ht),g("div",Object.assign({ref:p,class:["vxe-upload",{[`size--${ft}`]:ft,"is--active":dt,"is--readonly":Q,"is--disabled":Rt,"is--paste":ke,"show--error":ve,"is--drag":Qe}]},nt),[Re?lt():$e(),Ue?g("div",{ref:c,class:"vxe-upload--drag-line"}):Uo(),Qe&&!Xe?g("div",{class:"vxe-upload--drag-placeholder"},Jt("vxe.upload.dragPlaceholder")):Uo()])},rt=it(0);return er(()=>e.modelValue?e.modelValue.length:0,()=>{rt.value++}),er(()=>e.modelValue,()=>{rt.value++}),er(rt,()=>{ee()}),qn(()=>{e.dragSort&&rF(),Kt.on(ne,"paste",X),Kt.on(ne,"mousedown",W),Kt.on(ne,"blur",ge)}),Ao(()=>{v.isDragUploadStatus=!1,Kt.off(ne,"paste"),Kt.off(ne,"mousedown"),Kt.off(ne,"blur")}),ee(),ne.renderVN=Ct,ne},render(){return this.renderVN()}}),hF=Object.assign({},Js,{install(e){e.component(Js.name,Js)}});no.use(hF);Se.component(Js);Se.saveFile=lN;Se.readFile=pF;var ki={},dO;function iN(){return dO||(dO=1,Object.defineProperty(ki,"__esModule",{value:!0}),ki.default=void 0,ki.default={vxe:{base:{pleaseInput:"Please enter",pleaseSelect:"Please select",comma:"",fullStop:""},loading:{text:"loading..."},error:{downErr:"Download failed",errLargeData:'When the amount of data bound is too large, you should use "{0}"; otherwise, a stall may occur',groupFixed:"If using group headers, frozen columns must be set by group",groupMouseRange:'The group header and "{0}" cannot be used at the same time, which may cause an error.',groupTag:'Grouping column headers should use "{0}" instead of "{1}", which may cause errors',scrollErrProp:'The parameter "{0}" is not supported when virtual scrolling is enabled',errConflicts:'"{1}" is not supported when parameter "{0}", it should be "{2}", otherwise an error will occur',notSupportProp:'"{1}" is not supported when parameter "{0}" is enabled, it should be "{2}", otherwise an error will occur',notConflictProp:'When using "{0}", you should set "{1}", otherwise there may be a functional conflict',unableInsert:"Unable to insert into the specified position, please check whether the parameters are correct",useErr:'An error occurred while installing the "{0}" module. The order may be incorrect. The dependent modules need to be installed before Table.',barUnableLink:"The toolbar cannot be associated with the table",expandContent:'The slot to expand the row should be "content", please check if it is correct',reqComp:'The "{0}" component is missing, please check if it is installed correctly. https://vxeui.com/#/start/useGlobal',reqModule:'Missing module "{0}"',reqProp:'The required "{0}" parameter is missing, which may result in an error',emptyProp:'Parameter "{0}" is not allowed to be empty',errProp:'Unsupported parameter "{0}", possible "{1}"',colRepet:'column.{0}="{1}" is repeated, which may cause some functions to become unusable',notFunc:'Method "{0}" does not exist',errFunc:'Parameter "{0}" is not a method',notValidators:'Global check "{0}" does not exist',notFormats:'Global format "{0}" does not exist',notCommands:'Global directive "{0}" does not exist',notSlot:'Slot "{0}" does not exist',noTree:'The tree structure does not support "{0}"',notProp:'Unsupported parameter "{0}"',checkProp:'When the amount of data is too large, it may cause the check box to freeze. It is recommended to set the parameter "{0}" to improve the rendering speed.',coverProp:'The parameter "{1}" of "{0}" is defined repeatedly, which may cause an error.',uniField:'Field name "{0}" is defined repeatedly, which may cause an error',repeatKey:'Duplicate primary key {0}="{1}", this may cause an error',delFunc:'Method "{0}" is deprecated, please use "{1}"',delProp:'Parameter "{0}" is obsolete, please use "{1}"',delEvent:'Event "{0}" is deprecated, please use "{1}"',removeProp:'Parameter "{0}" is deprecated and is not recommended and may result in errors',errFormat:'Global formatting content should be defined using "VXETable.formats". The method of mounting "formatter={0}" is no longer recommended.',notType:'Unsupported file type "{0}"',notExp:"This browser does not support import/export functionality",impFields:"Import failed, please check whether the field name and data format are correct",treeNotImp:"Tree tables do not support importing",treeCrossDrag:"Only the first level can be dragged",treeDragChild:"A parent cannot be dragged into its own children",reqPlugin:'Extension plugin not installed "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"The maximum supported data volume {0} line is exceeded, which may cause an error."},table:{emptyText:"No data yet",allTitle:"Select all/Cancel",seqTitle:"Serial number",actionTitle:"operate",confirmFilter:"filter",resetFilter:"reset",allFilter:"all",sortAsc:"Ascending order: lowest to highest",sortDesc:"Descending order: highest to lowest",filter:"Enable filtering on selected columns",impSuccess:"Successfully imported {0} records",expLoading:"Exporting",expSuccess:"Export successful",expError:"Export failed",expFilename:"Export_{0}",expOriginFilename:"export_source_{0}",customTitle:"Column settings",customAll:"all",customConfirm:"confirm",customClose:"closure",customCancel:"Cancel",customRestore:"Restore default",maxFixedCol:"The maximum number of frozen columns cannot exceed {0}",dragTip:"Move: {0}",resizeColTip:"Width: {0} Pixels",resizeRowTip:"Height: {0} Pixels"},grid:{selectOneRecord:"Please select at least one record!",deleteSelectRecord:"Are you sure you want to delete the selected records?",removeSelectRecord:"Are you sure you want to remove the selected records?",dataUnchanged:"The data has not been changed!",delSuccess:"Selected records successfully deleted!",saveSuccess:"Saved successfully!",operError:"An error occurred and the operation failed!"},select:{search:"search",loadingText:"loading",emptyText:"No data yet"},pager:{goto:"Go to",gotoTitle:"Number of pages",pagesize:"{0} items/page",total:"Total {0} records",pageClassifier:"Page",homePage:"front page",homePageTitle:"front page",prevPage:"Previous page",prevPageTitle:"Previous page",nextPage:"Next page",nextPageTitle:"Next page",prevJump:"Jump page up",prevJumpTitle:"Jump page up",nextJump:"Jump page down",nextJumpTitle:"Jump page down",endPage:"Last page",endPageTitle:"Last page"},alert:{title:"System prompt"},button:{confirm:"confirm",cancel:"Cancel",clear:""},filter:{search:"search"},custom:{cstmTitle:"Column settings",cstmRestore:"Restore default",cstmCancel:"Cancel",cstmConfirm:"Sure",cstmConfirmRestore:"Please confirm whether to restore to the default column configuration?",cstmDragTarget:"Move: {0}",setting:{colSort:"sort",sortHelpTip:"Click and drag the icon to adjust column ordering",colTitle:"Column header",colResizable:"Column width (pixels)",colVisible:"Whether to display",colFixed:"Freeze columns",colFixedMax:"Freeze columns (up to {0} columns)",fixedLeft:"left side",fixedUnset:"Not set",fixedRight:"right side"}},import:{modes:{covering:"Overwriting method (directly overwrite table data)",insert:"Append at the bottom (append new data at the bottom of the table)",insertTop:"Top append (append new data at the top of the table)",insertBottom:"Append at the bottom (append new data at the bottom of the table)"},impTitle:"Import data",impFile:"file name",impSelect:"Select file",impType:"File type",impOpts:"Parameter settings",impMode:"import mode",impConfirm:"import",impCancel:"Cancel"},export:{types:{csv:"CSV (comma separated)(*.csv)",html:"Web page (*.html)",xml:"XML data (*.xml)",txt:"Text file (tab delimited) (*.txt)",xls:"Excel 97-2003 workbook (*.xls)",xlsx:"Excel workbook (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"Null data",current:"Current data (data of the current page)",selected:"Selected data (selected data on the current page)",all:"Full data (including all paginated data)"},printTitle:"Print data",expTitle:"Export data",expName:"file name",expNamePlaceholder:"Please enter a file name",expSheetName:"title",expSheetNamePlaceholder:"Please enter a title",expType:"save type",expMode:"Select data",expCurrentColumn:"All fields",expColumn:"Select field",expOpts:"Parameter settings",expOptHeader:"Header",expHeaderTitle:"Is a header required?",expOptFooter:"Footer",expFooterTitle:"Is a table footer required?",expOptColgroup:"Group header",expOptTitle:"Title",expTitleTitle:"Whether it is a column title, otherwise it is displayed as a column field name",expColgroupTitle:"If present, headers with grouping structures are supported",expOptMerge:"Merge",expMergeTitle:"Supports cells with merge structures if present",expOptAllExpand:"Expand tree",expAllExpandTitle:"If it exists, it supports expanding all data with hierarchical structure.",expOptUseStyle:"Style",expUseStyleTitle:"Styled cells are supported if present",expOptOriginal:"Source data",expOriginalTitle:"If it is source data, it supports importing into the table",expPrint:"Print",expConfirm:"Export",expCancel:"Cancel"},modal:{errTitle:"Error message",zoomMin:"minimize",zoomIn:"maximize",zoomOut:"reduction",close:"closure",miniMaxSize:"The number of minimized windows cannot exceed {0}",footPropErr:"show-footer is only used to enable table footer and needs to be used with show-confirm-button | show-cancel-button | slot"},drawer:{close:"closure"},form:{folding:"close",unfolding:"Expand"},toolbar:{import:"import",export:"Export",print:"Print",refresh:"refresh",zoomIn:"full screen",zoomOut:"reduction",custom:"Column settings",customAll:"all",customConfirm:"confirm",customRestore:"reset",fixedLeft:"frozen on left",fixedRight:"frozen on right",cancelFixed:"Unfreeze column"},datePicker:{yearTitle:"{0} years"},input:{date:{m1:"January",m2:"February",m3:"March",m4:"April",m5:"May",m6:"June 06",m7:"July",m8:"August",m9:"September",m10:"October",m11:"November",m12:"December",quarterLabel:"{0} years",monthLabel:"{0} years",dayLabel:"{0} year {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"Week WW of year yyyy",month:"yyyy-MM",quarter:"quarter q of year yyyy",year:"yyyy"},weeks:{w:"Week",w0:"Sun",w1:"Mon",w2:"Tue",w3:"Wed",w4:"Thu",w5:"Fri",w6:"Sat"},months:{m0:"January",m1:"February",m2:"March",m3:"April",m4:"May",m5:"June",m6:"July",m7:"August",m8:"September",m9:"October",m10:"November",m11:"December"},quarters:{q1:"first quarter",q2:"second quarter",q3:"third quarter",q4:"fourth quarter"}}},numberInput:{currencySymbol:""},imagePreview:{popupTitle:"Preview",operBtn:{zoomOut:"zoom out",zoomIn:"enlarge",pctFull:"proportional scaling",pct11:"Show original size",rotateLeft:"Rotate left",rotateRight:"Rotate right",print:"Click to print picture",download:"Click to download image"}},upload:{fileBtnText:"Click or drag to upload",imgBtnText:"Click or drag to upload",dragPlaceholder:"Please drag and drop the file into this area to upload it",imgSizeHint:"Leaflet {0}",imgCountHint:"Maximum {0} pictures",fileTypeHint:"Supported {0} file types",fileSizeHint:"The size of a single file does not exceed {0}",fileCountHint:"Up to {0} files can be uploaded",uploadTypeErr:"File type mismatch!",overCountErr:"Only {0} files can be selected!",overCountExtraErr:"The maximum number of {0} files has been exceeded. The excess {1} files will be ignored!",overSizeErr:"The maximum file size cannot exceed {0}!",reUpload:"Reupload",uploadProgress:"Uploading {0}%",uploadErr:"Upload failed",uploadSuccess:"Upload successful",moreBtnText:"More ({0})",viewItemTitle:"Click to view",morePopup:{readTitle:"View list",imageTitle:"Upload pictures",fileTitle:"Upload files"}},empty:{defText:"No data yet"},colorPicker:{clear:"Clear",confirm:"confirm",copySuccess:"Copied to clipboard: {0}"},formDesign:{formName:"form name",defFormTitle:"unnamed form",widgetPropTab:"Control properties",widgetFormTab:"form properties",error:{wdFormUni:"Only one control of this type is allowed to be added to the form",wdSubUni:"Only one control of this type is allowed to be added to the subtable"},styleSetting:{btn:"Style settings",title:"Form style settings",layoutTitle:"Control layout",verticalLayout:"Top and bottom layout",horizontalLayout:"Horizontal layout",styleTitle:"Title style",boldTitle:"Title bold",fontBold:"Bold",fontNormal:"conventional",colonTitle:"Show colon",colonVisible:"show",colonHidden:"hide",alignTitle:"Alignment",widthTitle:"title width",alignLeft:"On the left",alignRight:"On the right",unitPx:"Pixel",unitPct:"percentage"},widget:{group:{base:"Basic controls",layout:"Layout controls",system:"System controls",module:"module control",chart:"chart control",advanced:"Advanced controls"},copyTitle:"Copy_{0}",component:{input:"Input box",textarea:"text field",select:"drop down selection",row:"One row and multiple columns",title:"title",text:"text",subtable:"Subtable",VxeSwitch:"whether",VxeInput:"Input box",VxeNumberInput:"number",VxeDatePicker:"date",VxeTextarea:"text field",VxeSelect:"drop down selection",VxeTreeSelect:"tree selection",VxeRadioGroup:"radio button",VxeCheckboxGroup:"checkbox",VxeUploadFile:"document",VxeUploadImage:"picture",VxeRate:"score",VxeSlider:"slider"}},widgetProp:{name:"Control name",placeholder:"prompt",required:"Required verification",multiple:"Allow multiple selections",displaySetting:{name:"display settings",pc:"PC",mobile:"Mobile version",visible:"show",hidden:"hide"},dataSource:{name:"data source",defValue:"Option {0}",addOption:"Add options",batchEditOption:"Batch editing",batchEditTip:"Each row corresponds to an option, and supports copying and pasting directly from tables, Excel, and WPS.",batchEditSubTip:"Each row corresponds to an option. If it is a group, the sub-items can start with a space or a tab key. Direct copy and paste from tables, Excel, and WPS is supported.",buildOption:"Build options"},rowProp:{colSize:"Number of columns",col2:"two columns",col3:"three columns",col4:"four columns",col6:"six columns",layout:"layout"},textProp:{name:"content",alignTitle:"Alignment",alignLeft:"On the left",alignCenter:"center",alignRight:"On the right",colorTitle:"Font color",sizeTitle:"font size",boldTitle:"Bold font",fontNormal:"conventional",fontBold:"Bold"},subtableProp:{seqTitle:"Serial number",showSeq:"Display serial number",showCheckbox:"Allow multiple selections",errSubDrag:"The subtable does not support this control, please use other controls",colPlace:"Drag the control in"},uploadProp:{limitFileCount:"File quantity limit",limitFileSize:"File size limit",multiFile:"Allow multiple file uploads",limitImgCount:"Picture quantity limit",limitImgSize:"Image size limit",multiImg:"Allow multiple images to be uploaded"}}},listDesign:{fieldSettingTab:"Field settings",listSettingTab:"Parameter settings",searchTitle:"Query conditions",listTitle:"list field",searchField:"Query field",listField:"list field",activeBtn:{ActionButtonUpdate:"edit",ActionButtonDelete:"delete"},search:{addBtn:"edit",emptyText:"No query conditions configured",editPopupTitle:"Edit query fields"},searchPopup:{colTitle:"title",saveBtn:"save"}},text:{copySuccess:"Copied to clipboard",copyError:"The current environment does not support this operation"},countdown:{formats:{yyyy:"Year",MM:"moon",dd:"sky",HH:"hour",mm:"point",ss:"Second"}},plugins:{extendCellArea:{area:{mergeErr:"This operation cannot be performed on merged cells",multiErr:"This operation cannot be performed on multiple selection areas",selectErr:"Unable to operate on cells in the specified range",extendErr:"If the extended range contains merged cells, all merged cells must be the same size",pasteMultiErr:"Unable to paste, the copied and pasted areas need to be of the same size to perform this operation",cpInvalidErr:"The operation cannot be performed. There are prohibited columns ({0}) in the range you selected."},fnr:{title:"Find and replace",findLabel:"Find",replaceLabel:"replace",findTitle:"Find what:",replaceTitle:"Replace with:",tabs:{find:"Find",replace:"replace"},filter:{re:"regular expression",whole:"whole word match",sensitive:"case sensitive"},btns:{findNext:"Find next",findAll:"Find all",replace:"replace",replaceAll:"Replace all",cancel:"Cancel"},header:{seq:"#",cell:"cell",value:"value"},body:{row:"Row: {0}",col:"Column: {0}"},empty:"(null value)",reError:"Invalid regular expression",recordCount:"{0} cells found",notCell:"No matching cell found",replaceSuccess:"Successfully replaced {0} cells"}},filterComplexInput:{menus:{fixedColumn:"Freeze columns",fixedGroup:"freeze group",cancelFixed:"Unfreeze",fixedLeft:"freeze left",fixedRight:"freeze right"},cases:{equal:"equal",gt:"greater than",lt:"less than",begin:"The beginning is",endin:"The end is",include:"Include",isSensitive:"case sensitive"}},filterCombination:{menus:{sort:"Sort",clearSort:"Clear sort",sortAsc:"Ascending order",sortDesc:"descending order",fixedColumn:"Freeze columns",fixedGroup:"freeze group",cancelFixed:"Unfreeze",fixedLeft:"freeze left",fixedRight:"freeze right",clearFilter:"Clear filters",textOption:"text filter",numberOption:"numerical filter"},popup:{title:"How to customize filtering",currColumnTitle:"Current column:",and:"and",or:"or",describeHtml:"Available ? represents a single character<br/>Use * to represent any number of characters"},cases:{equal:"equal",unequal:"not equal to",gt:"greater than",ge:"greater than or equal to",lt:"less than",le:"less than or equal to",begin:"The beginning is",notbegin:"Not at the beginning",endin:"The end is",notendin:"The ending is not",include:"Include",exclude:"Not included",between:"between",custom:"Custom filter",insensitive:"Not case sensitive",isSensitive:"case sensitive"},empty:"(blank)",notData:"No match"}},pro:{area:{mergeErr:"This operation cannot be performed on merged cells",multiErr:"This operation cannot be performed on multiple selection areas",extendErr:"If the extended range contains merged cells, all merged cells must be the same size",pasteMultiErr:"Unable to paste, the copied and pasted areas need to be of the same size to perform this operation"},fnr:{title:"Find and replace",findLabel:"Find",replaceLabel:"replace",findTitle:"Find what:",replaceTitle:"Replace with:",tabs:{find:"Find",replace:"replace"},filter:{re:"regular expression",whole:"whole word match",sensitive:"case sensitive"},btns:{findNext:"Find next",findAll:"Find all",replace:"replace",replaceAll:"Replace all",cancel:"Cancel"},header:{seq:"#",cell:"cell",value:"value"},empty:"(null value)",reError:"Invalid regular expression",recordCount:"{0} cells found",notCell:"No matching cell found",replaceSuccess:"Successfully replaced {0} cells"}},renderer:{search:"search",cases:{equal:"equal",unequal:"not equal to",gt:"greater than",ge:"greater than or equal to",lt:"less than",le:"less than or equal to",begin:"The beginning is",notbegin:"Not at the beginning",endin:"The end is",notendin:"The ending is not",include:"Include",exclude:"Not included",between:"between",custom:"Custom filter",insensitive:"Not case sensitive",isSensitive:"case sensitive"},combination:{menus:{sort:"Sort",clearSort:"Clear sort",sortAsc:"Ascending order",sortDesc:"descending order",fixedColumn:"Freeze columns",fixedGroup:"freeze group",cancelFixed:"Unfreeze",fixedLeft:"freeze to left",fixedRight:"freeze to right",clearFilter:"Clear filters",textOption:"text filter",numberOption:"numerical filter"},popup:{title:"How to customize filtering",currColumnTitle:"Current column:",and:"and",or:"or",describeHtml:"Available ? represents a single character<br/>Use * to represent any number of characters"},empty:"(blank)",notData:"No match"}}}}),ki}var sN=iN();const cN=uc(sN);var $i={},fO;function uN(){return fO||(fO=1,Object.defineProperty($i,"__esModule",{value:!0}),$i.default=void 0,$i.default={vxe:{base:{pleaseInput:"",pleaseSelect:"",comma:"",fullStop:""},loading:{text:"..."},error:{downErr:"",errLargeData:" {0}",groupFixed:"",groupMouseRange:' "{0}" ',groupTag:' "{0}"  "{1}"',scrollErrProp:' "{0}"',errConflicts:' "{0}"  "{1}" ',notSupportProp:' "{0}"  "{1}" "{2}"',notConflictProp:' "{0}"  "{1}"',unableInsert:"",useErr:' "{0}"  Table ',barUnableLink:"",expandContent:' "content"',reqComp:' "{0}"  https://vxeui.com/#/start/useGlobal',reqModule:' "{0}" ',reqProp:' "{0}" ',emptyProp:' "{0}" ',errProp:' "{0}" "{1}"',colRepet:'column.{0}="{1}" ',notFunc:' "{0}" ',errFunc:' "{0}" ',notValidators:' "{0}" ',notFormats:' "{0}" ',notCommands:' "{0}" ',notSlot:' "{0}" ',noTree:' "{0}"',notProp:' "{0}"',checkProp:' "{0}" ',coverProp:'"{0}"  "{1}" ',uniField:' "{0}" ',repeatKey:' {0}="{1}"',delFunc:' "{0}"  "{1}"',delProp:' "{0}"  "{1}"',delEvent:' "{0}"  "{1}"',removeProp:' "{0}" ',errFormat:' "VXETable.formats"  "formatter={0}" ',notType:' "{0}"',notExp:"/",impFields:"",treeNotImp:"",treeCrossDrag:"",treeDragChild:"",reqPlugin:' "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:" {0} "},table:{emptyText:"",allTitle:"/",seqTitle:"",actionTitle:"",confirmFilter:"",resetFilter:"",allFilter:"",sortAsc:"",sortDesc:"",filter:"",impSuccess:" {0} ",expLoading:"",expSuccess:"",expError:"",expFilename:"_{0}",expOriginFilename:"__{0}",customTitle:"",customAll:"",customConfirm:"",customClose:"",customCancel:"",customRestore:"",maxFixedCol:" {0} ",dragTip:"{0}",resizeColTip:"{0} ",resizeRowTip:"{0} "},grid:{selectOneRecord:"",deleteSelectRecord:"",removeSelectRecord:"",dataUnchanged:"",delSuccess:"",saveSuccess:"",operError:""},select:{search:"",loadingText:"",emptyText:""},pager:{goto:"",gotoTitle:"",pagesize:"{0}/",total:" {0} ",pageClassifier:"",homePage:"",homePageTitle:"",prevPage:"",prevPageTitle:"",nextPage:"",nextPageTitle:"",prevJump:"",prevJumpTitle:"",nextJump:"",nextJumpTitle:"",endPage:"",endPageTitle:""},alert:{title:""},button:{confirm:"",cancel:"",clear:""},filter:{search:""},custom:{cstmTitle:"",cstmRestore:"",cstmCancel:"",cstmConfirm:"",cstmConfirmRestore:"",cstmDragTarget:"{0}",setting:{colSort:"",sortHelpTip:"",colTitle:"",colResizable:"",colVisible:"",colFixed:"",colFixedMax:" {0} ",fixedLeft:"",fixedUnset:"",fixedRight:""}},import:{modes:{covering:"",insert:"",insertTop:"",insertBottom:""},impTitle:"",impFile:"",impSelect:"",impType:"",impOpts:"",impMode:"",impConfirm:"",impCancel:""},export:{types:{csv:"CSV ()(*.csv)",html:"(*.html)",xml:"XML (*.xml)",txt:"()(*.txt)",xls:"Excel 97-2003 (*.xls)",xlsx:"Excel (*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"",current:"",selected:"",all:""},printTitle:"",expTitle:"",expName:"",expNamePlaceholder:"",expSheetName:"",expSheetNamePlaceholder:"",expType:"",expMode:"",expCurrentColumn:"",expColumn:"",expOpts:"",expOptHeader:"",expHeaderTitle:"",expOptFooter:"",expFooterTitle:"",expOptColgroup:"",expOptTitle:"",expTitleTitle:"",expColgroupTitle:"",expOptMerge:"",expMergeTitle:"",expOptAllExpand:"",expAllExpandTitle:"",expOptUseStyle:"",expUseStyleTitle:"",expOptOriginal:"",expOriginalTitle:"",expPrint:"",expConfirm:"",expCancel:""},modal:{errTitle:"",zoomMin:"",zoomIn:"",zoomOut:"",close:"",miniMaxSize:" {0} ",footPropErr:"show-footer  show-confirm-button | show-cancel-button | "},drawer:{close:""},form:{folding:"",unfolding:""},toolbar:{import:"",export:"",print:"",refresh:"",zoomIn:"",zoomOut:"",custom:"",customAll:"",customConfirm:"",customRestore:"",fixedLeft:"",fixedRight:"",cancelFixed:""},datePicker:{yearTitle:"{0} "},input:{date:{m1:"01 ",m2:"02 ",m3:"03 ",m4:"04 ",m5:"05 ",m6:"06 ",m7:"07 ",m8:"08 ",m9:"09 ",m10:"10 ",m11:"11 ",m12:"12 ",quarterLabel:"{0} ",monthLabel:"{0} ",dayLabel:"{0}  {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy  WW ",month:"yyyy-MM",quarter:"yyyy  q ",year:"yyyy"},weeks:{w:"",w0:"",w1:"",w2:"",w3:"",w4:"",w5:"",w6:""},months:{m0:"",m1:"",m2:"",m3:"",m4:"",m5:"",m6:"",m7:"",m8:"",m9:"",m10:"",m11:""},quarters:{q1:"",q2:"",q3:"",q4:""}}},numberInput:{currencySymbol:""},imagePreview:{popupTitle:"",operBtn:{zoomOut:"",zoomIn:"",pctFull:"",pct11:"",rotateLeft:"",rotateRight:"",print:"",download:""}},upload:{fileBtnText:"",imgBtnText:"",dragPlaceholder:"",imgSizeHint:"{0}",imgCountHint:"{0}",fileTypeHint:" {0} ",fileSizeHint:"{0}",fileCountHint:"{0}",uploadTypeErr:"",overCountErr:"{0}",overCountExtraErr:"{0}{1}",overSizeErr:"{0}",reUpload:"",uploadProgress:" {0}%",uploadErr:"",uploadSuccess:"",moreBtnText:"{0}",viewItemTitle:"",morePopup:{readTitle:"",imageTitle:"",fileTitle:""}},empty:{defText:""},colorPicker:{clear:"",confirm:"",copySuccess:"{0}"},formDesign:{formName:"",defFormTitle:"",widgetPropTab:"",widgetFormTab:"",error:{wdFormUni:"",wdSubUni:""},styleSetting:{btn:"",title:"",layoutTitle:"",verticalLayout:"",horizontalLayout:"",styleTitle:"",boldTitle:"",fontBold:"",fontNormal:"",colonTitle:"",colonVisible:"",colonHidden:"",alignTitle:"",widthTitle:"",alignLeft:"",alignRight:"",unitPx:"",unitPct:""},widget:{group:{base:"",layout:"",system:"",module:"",chart:"",advanced:""},copyTitle:"_{0}",component:{input:"",textarea:"",select:"",row:"",title:"",text:"",subtable:"",VxeSwitch:"/",VxeInput:"",VxeNumberInput:"",VxeDatePicker:"",VxeTextarea:"",VxeSelect:"",VxeTreeSelect:"",VxeRadioGroup:"",VxeCheckboxGroup:"",VxeUploadFile:"",VxeUploadImage:"",VxeRate:"",VxeSlider:""}},widgetProp:{name:"",placeholder:"",required:"",multiple:"",displaySetting:{name:"",pc:"",mobile:"",visible:"",hidden:""},dataSource:{name:"",defValue:"{0}",addOption:"",batchEditOption:"",batchEditTip:"ExcelWPS ",batchEditSubTip:"ExcelWPS ",buildOption:""},rowProp:{colSize:"",col2:"",col3:"",col4:"",col6:"",layout:""},textProp:{name:"",alignTitle:"",alignLeft:"",alignCenter:"",alignRight:"",colorTitle:"",sizeTitle:"",boldTitle:"",fontNormal:"",fontBold:""},subtableProp:{seqTitle:"",showSeq:"",showCheckbox:"",errSubDrag:"",colPlace:""},uploadProp:{limitFileCount:"",limitFileSize:"",multiFile:"",limitImgCount:"",limitImgSize:"",multiImg:""}}},listDesign:{fieldSettingTab:"",listSettingTab:"",searchTitle:"",listTitle:"",searchField:"",listField:"",activeBtn:{ActionButtonUpdate:"",ActionButtonDelete:""},search:{addBtn:"",emptyText:"",editPopupTitle:""},searchPopup:{colTitle:"",saveBtn:""}},text:{copySuccess:"",copyError:""},countdown:{formats:{yyyy:"",MM:"",dd:"",HH:"",mm:"",ss:""}},plugins:{extendCellArea:{area:{mergeErr:"",multiErr:"",selectErr:"",extendErr:"",pasteMultiErr:"",cpInvalidErr:"{0}"},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},body:{row:"{0}",col:"{0}"},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},filterComplexInput:{menus:{fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:""},cases:{equal:"",gt:"",lt:"",begin:"",endin:"",include:"",isSensitive:""}},filterCombination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},empty:"()",notData:""}},pro:{area:{mergeErr:"",multiErr:"",extendErr:"",pasteMultiErr:""},fnr:{title:"",findLabel:"",replaceLabel:"",findTitle:"",replaceTitle:"",tabs:{find:"",replace:""},filter:{re:"",whole:"",sensitive:""},btns:{findNext:"",findAll:"",replace:"",replaceAll:"",cancel:""},header:{seq:"#",cell:"",value:""},empty:"()",reError:"",recordCount:" {0} ",notCell:"",replaceSuccess:" {0} "}},renderer:{search:"",cases:{equal:"",unequal:"",gt:"",ge:"",lt:"",le:"",begin:"",notbegin:"",endin:"",notendin:"",include:"",exclude:"",between:"",custom:"",insensitive:"",isSensitive:""},combination:{menus:{sort:"",clearSort:"",sortAsc:"",sortDesc:"",fixedColumn:"",fixedGroup:"",cancelFixed:"",fixedLeft:"",fixedRight:"",clearFilter:"",textOption:"",numberOption:""},popup:{title:"",currColumnTitle:"",and:"",or:"",describeHtml:" ? <br/> * "},empty:"()",notData:""}}}}),$i}var dN=uN();const fN=uc(dN);function nr(e){return e&&e.enabled!==!1}function bx(e){return e==null||e===""}function gF(e){const t=e.name,r=f.lastIndexOf(t,"."),n=t.substring(r+1,t.length).toLowerCase();return{filename:t.substring(0,r),type:n}}function vF(){return as.getNext()}function mF(){return as.getCurrent()}function ti(e){return e&&e.children&&e.children.length>0}function ma(e,t){if(e){const r=Se.getConfig().translate;return f.toValueString(r?r(""+e,t):e)}return""}function nn(e,t){return""+(bx(e)?t?Se.getConfig().emptyCell:"":e)}function ga(e){return e===""||f.eqNull(e)}const bF="4.12.5";Se.version=bF;Se.tableVersion=bF;Se.setConfig({emptyCell:"",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{enabled:!0,gt:60,preSize:1,oSize:0},virtualYConfig:{enabled:!0,gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const mr="vxe-table-icon-";Se.setIcon({TABLE_SORT_ASC:mr+"caret-up",TABLE_SORT_DESC:mr+"caret-down",TABLE_FILTER_NONE:mr+"funnel",TABLE_FILTER_MATCH:mr+"funnel",TABLE_EDIT:mr+"edit",TABLE_TITLE_PREFIX:mr+"question-circle-fill",TABLE_TITLE_SUFFIX:mr+"question-circle-fill",TABLE_TREE_LOADED:mr+"spinner roll",TABLE_TREE_OPEN:mr+"caret-right rotate90",TABLE_TREE_CLOSE:mr+"caret-right",TABLE_EXPAND_LOADED:mr+"spinner roll",TABLE_EXPAND_OPEN:mr+"arrow-right rotate90",TABLE_EXPAND_CLOSE:mr+"arrow-right",TABLE_CHECKBOX_CHECKED:mr+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:mr+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:mr+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:mr+"radio-checked-fill",TABLE_RADIO_UNCHECKED:mr+"radio-unchecked",TABLE_CUSTOM_SORT:mr+"drag-handle",TABLE_MENU_OPTIONS:mr+"arrow-right",TABLE_DRAG_ROW:mr+"drag-handle",TABLE_DRAG_COLUMN:mr+"drag-handle",TABLE_DRAG_STATUS_ROW:mr+"sort",TABLE_DRAG_STATUS_SUB_ROW:mr+"add-sub",TABLE_DRAG_STATUS_COLUMN:mr+"swap",TABLE_DRAG_DISABLED:mr+"no-drop",TOOLBAR_TOOLS_REFRESH:mr+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:mr+"repeat roll",TOOLBAR_TOOLS_IMPORT:mr+"upload",TOOLBAR_TOOLS_EXPORT:mr+"download",TOOLBAR_TOOLS_PRINT:mr+"print",TOOLBAR_TOOLS_FULLSCREEN:mr+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:mr+"minimize",TOOLBAR_TOOLS_CUSTOM:mr+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:mr+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:mr+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:mr+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:mr+"fixed-right-fill"});Se.setTheme;Se.getTheme;Se.setConfig;Se.getConfig;Se.setIcon;Se.getIcon;Se.setLanguage;Se.setI18n;Se.getI18n;Se.globalEvents;Se.globalResize;Se.renderer;Se.validators;Se.menus;Se.formats;Se.commands;Se.interceptor;Se.clipboard;Se.log;Se.hooks;Se.use;const pN=e=>Se.setConfig(e);Se.setup=pN;const hN=e=>Se.setConfig(e);Se.config=hN;const gN=(e,t)=>Se.getI18n(e,t);Se.t=gN;const vN=(e,t)=>ma(e,t);Se._t=vN;const{log:xF}=Se,CF="table v4.12.5",sr=xF.create("warn",CF),Bt=xF.create("error",CF),{getI18n:mN,formats:pO}=Se;class Fb{constructor(t,r,{renderHeader:n,renderCell:l,renderFooter:a,renderData:i}={}){const d=t.props,u=t.xeGrid,p=r.formatter,o=f.isBoolean(r.visible)?r.visible:!0,c=["seq","checkbox","radio","expand","html"];if(r.type&&c.indexOf(r.type)===-1&&sr("vxe.error.errProp",[`type=${r.type}`,c.join(", ")]),(f.isBoolean(r.cellRender)||r.cellRender&&!f.isObject(r.cellRender))&&sr("vxe.error.errProp",[`column.cell-render=${r.cellRender}`,"column.cell-render={}"]),(f.isBoolean(r.editRender)||r.editRender&&!f.isObject(r.editRender))&&sr("vxe.error.errProp",[`column.edit-render=${r.editRender}`,"column.edit-render={}"]),r.type==="expand"){const{treeConfig:m}=d,{computeTreeOpts:v}=t.getComputeMaps(),x=v.value;m&&(x.showLine||x.line)&&Bt("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(p){if(f.isString(p)){const m=pO.get(p)||f[p];(!m||!f.isFunction(m.tableCellFormatMethod||m.cellFormatMethod))&&Bt("vxe.error.notFormats",[p])}else if(f.isArray(p)){const m=pO.get(p[0])||f[p[0]];(!m||!f.isFunction(m.tableCellFormatMethod||m.cellFormatMethod))&&Bt("vxe.error.notFormats",[p[0]])}}if(Object.assign(this,{type:r.type,property:r.field,field:r.field,title:r.title,width:r.width,minWidth:r.minWidth,maxWidth:r.maxWidth,resizable:r.resizable,fixed:r.fixed,align:r.align,headerAlign:r.headerAlign,footerAlign:r.footerAlign,showOverflow:r.showOverflow,showHeaderOverflow:r.showHeaderOverflow,showFooterOverflow:r.showFooterOverflow,className:r.className,headerClassName:r.headerClassName,footerClassName:r.footerClassName,formatter:p,footerFormatter:r.footerFormatter,padding:r.padding,verticalAlign:r.verticalAlign,sortable:r.sortable,sortBy:r.sortBy,sortType:r.sortType,filters:OF(r.filters),filterMultiple:f.isBoolean(r.filterMultiple)?r.filterMultiple:!0,filterMethod:r.filterMethod,filterResetMethod:r.filterResetMethod,filterRecoverMethod:r.filterRecoverMethod,filterRender:r.filterRender,treeNode:r.treeNode,dragSort:r.dragSort,rowResize:r.rowResize,cellType:r.cellType,cellRender:r.cellRender,editRender:r.editRender,contentRender:r.contentRender,headerExportMethod:r.headerExportMethod,exportMethod:r.exportMethod,footerExportMethod:r.footerExportMethod,titleHelp:r.titleHelp,titlePrefix:r.titlePrefix,titleSuffix:r.titleSuffix,params:r.params,id:r.colId||f.uniqueId("col_"),parentId:null,visible:o,halfVisible:!1,defaultVisible:o,defaultFixed:r.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:n||r.renderHeader,renderCell:l||r.renderCell,renderFooter:a||r.renderFooter,renderData:i,slots:r.slots}),u){const{computeProxyOpts:m}=u.getComputeMaps(),v=m.value;v.beforeColumn&&v.beforeColumn({$grid:u,column:this})}}getTitle(){return ma(this.title||(this.type==="seq"?mN("vxe.table.seqTitle"):""))}getKey(){const{type:t}=this;return this.field||(t?`type=${t}`:null)}update(t,r){t!=="filters"&&(t==="field"&&(this.property=r),this[t]=r)}}const hb={};let ri;function yF(){return ri||(ri=new Image,ri.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),ri}function kb(){return ri||yF()}function Qa(e,t){return e?f.isFunction(e)?e(t):e:""}function wF(e){return hb[e]||(hb[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),hb[e]}function SF(e,t,r){if(e){const n=e.parentNode;if(r.top+=e.offsetTop,r.left+=e.offsetLeft,n&&n!==document.documentElement&&n!==document.body&&(r.top-=n.scrollTop,r.left-=n.scrollLeft),!(t&&(e===t||e.offsetParent===t))&&e.offsetParent)return SF(e.offsetParent,t,r)}return r}function $b(e){return e&&/^\d+(px)?$/.test(e)}function Zl(e){return e&&/^\d+%$/.test(e)}function va(e,t){return e&&e.className&&e.className.match&&e.className.match(wF(t))}function Zn(e,t){e&&va(e,t)&&(e.className=e.className.replace(wF(t),""))}function Go(e,t){e&&!va(e,t)&&(Zn(e,t),e.className=`${e.className} ${t}`)}function Ab(e,t="px"){return f.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${t}`:`${e||""}`}function kc(){const e=document.documentElement,t=document.body;return{scrollTop:e.scrollTop||t.scrollTop,scrollLeft:e.scrollLeft||t.scrollLeft,visibleHeight:e.clientHeight||t.clientHeight,visibleWidth:e.clientWidth||t.clientWidth}}function Ai(e){return e?e.offsetHeight:0}function Pb(e){if(e){const t=getComputedStyle(e),r=f.toNumber(t.paddingTop),n=f.toNumber(t.paddingBottom);return r+n}return 0}function Ar(e,t){e&&(e.scrollTop=t)}function _r(e,t){e&&(e.scrollLeft=t)}function xx(e,t){const r=t.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==r&&e.setAttribute("title",r)}function br(e,t,r,n){let l,a=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;a&&a.nodeType&&a!==document;){if(r&&va(a,r)&&(!n||n(a)))l=a;else if(a===t)return{flag:r?!!l:!0,container:t,targetElem:l};a=a.parentNode}return{flag:!1}}function bN(e,t){return SF(e,t,{left:0,top:0})}function Qs(e){const t=e.getBoundingClientRect(),r=t.top,n=t.left,{scrollTop:l,scrollLeft:a,visibleHeight:i,visibleWidth:d}=kc();return{boundingTop:r,top:l+r,boundingLeft:n,left:a+n,visibleHeight:i,visibleWidth:d}}const hO="scrollIntoViewIfNeeded",gO="scrollIntoView";function xN(e){e&&(e[hO]?e[hO]():e[gO]&&e[gO]())}function CN(e,t){e&&e.dispatchEvent(new Event(t))}const EF=(e,t)=>{const r=[];return e.forEach(n=>{n.parentId=t?t.id:null,n.visible&&(n.children&&n.children.length&&n.children.some(l=>l.visible)?(r.push(n),r.push(...EF(n.children,n))):r.push(n))}),r},yN=e=>{let t=1;const r=(a,i)=>{if(i&&(a.level=i.level+1,t<a.level&&(t=a.level)),a.children&&a.children.length&&a.children.some(d=>d.visible)){let d=0;a.children.forEach(u=>{u.visible&&(r(u,a),d+=u.colSpan)}),a.colSpan=d}else a.colSpan=1};e.forEach(a=>{a.level=1,r(a)});const n=[];for(let a=0;a<t;a++)n.push([]);return EF(e).forEach(a=>{a.children&&a.children.length&&a.children.some(i=>i.visible)?a.rowSpan=1:a.rowSpan=t-a.level+1,n[a.level-1].push(a)}),n};function gb(e,t,r){const n=e.internalData;return e.clearScroll().then(()=>{if(t||r)return n.lastScrollLeft=0,n.lastScrollTop=0,n.intoRunScroll=!1,n.inVirtualScroll=!1,n.inWheelScroll=!1,n.inHeaderScroll=!1,n.inBodyScroll=!1,n.inFooterScroll=!1,n.scrollRenderType="",e.scrollTo(t,r)})}function Cx(){return f.uniqueId("row_")}function Fa(e){const{props:t}=e,{computeRowOpts:r}=e.getComputeMaps(),n=r.value;return`${t.rowId||n.keyField||"_X_ROW_KEY"}`}function Ft(e,t){const r=f.get(t,Fa(e));return wN(r)}function vO(e){const t=Fa(e),n=t.indexOf(".")>-1?SN:EN;return{rowKey:t,handleUpdateRowId(l){return l?n(l,t):null}}}function en(e){const t=Fa(e),n=t.indexOf(".")>-1?RF:DF;return{rowKey:t,handleGetRowId(l){return l?n(l,t):null}}}function wN(e){return f.eqNull(e)?"":encodeURIComponent(e)}function RF(e,t){return f.get(e,t)}function SN(e,t){let r=RF(e,t);return ga(r)&&(r=Cx(),f.set(e,t,r)),r}function DF(e,t){return e[t]}function EN(e,t){let r=DF(e,t);return ga(r)&&(r=Cx(),e[t]=r),r}const Zr=(e,t)=>t?f.isString(t)||f.isNumber(t)?e.getColumnByField(`${t}`):t:null,mO=(e,t)=>{if(t){const r=f.isString(t)||f.isNumber(t)?t:Ft(e,t);return e.getRowById(r)}return null};function Ts(e){if(e){const t=getComputedStyle(e),r=f.toNumber(t.paddingLeft),n=f.toNumber(t.paddingRight);return r+n}return 0}function zl(e){if(e){const t=getComputedStyle(e),r=f.toNumber(t.marginLeft),n=f.toNumber(t.marginRight);return e.offsetWidth+r+n}return 0}function Ta(e,t){return e.querySelector(".vxe-cell"+t)}function OF(e){return e&&f.isArray(e)?e.map(({label:t,value:r,data:n,resetValue:l,checked:a})=>({label:t,value:r,data:n,resetValue:l,checked:!!a,_checked:!!a})):e}function RN(e){return e.map((t,r)=>r%2===0?Number(t)+1:".").join("")}function on(e,t){return f.get(e,t.field)}function fa(e,t,r){return f.set(e,t.field,r)}function Xt(e){if(e){const t=e.value;if(t)return t.$el||t}return null}function TF(e){return e==="unset"?0:e||0}function bO(e){const{$table:t,column:r,cell:n}=e,l=t.props,a=t.internalData,{computeResizableOpts:i}=t.getComputeMaps(),d=i.value,{minWidth:u}=d;if(u){const q=f.isFunction(u)?u(e):u;if(q!=="auto")return Math.max(1,f.toNumber(q))}const{elemStore:p}=a,{showHeaderOverflow:o}=l,{showHeaderOverflow:c,minWidth:m}=r,v=f.isUndefined(c)||f.isNull(c)?o:c,E=v==="title"||(v===!0||v==="tooltip")||v==="ellipsis",D=f.floor((f.toNumber(getComputedStyle(n).fontSize)||14)*1.6),P=Ts(n)+Ts(Ta(n,""));let V=D+P;if(E){const q=Ts(Ta(n,">.vxe-cell--drag-handle")),F=Ts(Ta(n,">.vxe-cell--checkbox")),O=zl(Ta(n,">.vxe-cell--required-icon")),M=zl(Ta(n,">.vxe-cell--edit-icon")),G=zl(Ta(n,">.vxe-cell-title-prefix-icon")),$=zl(Ta(n,">.vxe-cell-title-suffix-icon")),Y=zl(Ta(n,">.vxe-cell--sort")),H=zl(Ta(n,">.vxe-cell--filter"));V+=q+F+O+M+G+$+H+Y}if(m){const q=Xt(p["main-body-scroll"]);if(q){if(Zl(m)){const O=(q.clientWidth-1)/100;return Math.max(V,Math.floor(f.toInteger(m)*O))}else if($b(m))return Math.max(V,f.toInteger(m))}}return V}function ec(e){return e&&(e.constructor===Fb||e instanceof Fb)}function DN(e,t,r){return ec(t)?t:zr(new Fb(e,t,r))}function MF(e,t,r){Object.keys(t).forEach(n=>{er(()=>t[n],l=>{r.update(n,l),e&&(n==="filters"?(e.setFilter(r,l),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(n)&&e.handleRefreshColumnQueue())})})}function IF(e,t,r,n){const{reactData:l}=e,{staticColumns:a}=l,i=t.parentNode,d=n?n.columnConfig:null,u=d?d.children:a;i&&u&&(u.splice(f.arrayIndexOf(i.children,t),0,r),l.staticColumns=a.slice(0))}function FF(e,t){const{reactData:r}=e,{staticColumns:n}=r,l=f.findTree(n,a=>a.id===t.id,{children:"children"});l&&l.items.splice(l.index,1),r.staticColumns=n.slice(0)}function xO(e,t){const{internalData:r}=e,{fullColumnIdData:n}=r;if(!t)return null;let l=t.parentId;for(;n[l];){const a=n[l].column;if(l=a.parentId,!l)return a}return t}const ON={mini:3,small:2,medium:1},kF=(e,t)=>{let r=1;if(!e)return r;const{$table:n}=t,{computeTreeOpts:l}=n.getComputeMaps(),a=l.value,{transform:i,mapChildrenField:d}=a,u=a.children||a.childrenField,p=e[i?d:u];if(p&&n.isTreeExpandByRow(e))for(let o=0;o<p.length;o++)r+=kF(p[o],t);return r},$F=e=>{const{computeSize:t}=e.getComputeMaps(),r=t.value;return r&&ON[r]||0};function TN(e,t){const{$table:r,row:n}=e,l=r.props,a=r.reactData,i=r.internalData,{showOverflow:d}=l,{scrollYLoad:u}=a,{fullAllDataRowIdData:p}=i,{computeRowOpts:o,computeCellOpts:c,computeDefaultRowHeight:m}=r.getComputeMaps(),v=o.value,x=c.value,S=m.value,k=Ft(r,n),E=p[k],D=E.resizeHeight||x.height||v.height||E.height||S;let P=1;t&&(P=kF(t,e));let V=D;const q=E.height;return u&&(d||(V=q||D)),V*P-(t?1:12-$F(r))}function AF(e,t,r){for(let n=0;n<e.length;n++){const{row:l,col:a,rowspan:i,colspan:d}=e[n];if(a>-1&&l>-1&&i&&d){if(l===t&&a===r)return{rowspan:i,colspan:d};if(t>=l&&t<l+i&&r>=a&&r<a+d)return{rowspan:0,colspan:0}}}}function MN(e){const{props:t,internalData:r}=e;return r.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(t.keyboardConfig||t.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&t.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function IN(e){return e.clearFilter&&e.clearFilter(),MN(e)}function CO(e,t){const r=e.props,n=e.reactData,l=e.internalData,{computeLeftFixedWidth:a,computeRightFixedWidth:i,computeRowOpts:d,computeCellOpts:u,computeDefaultRowHeight:p}=e.getComputeMaps(),{showOverflow:o}=r,{scrollYLoad:c}=n,{elemStore:m,afterFullData:v,fullAllDataRowIdData:x,isResizeCellHeight:S}=l,k=d.value,E=u.value,D=p.value,P=a.value,V=i.value,q=Xt(m["main-body-scroll"]),F=Ft(e,t);if(q){const O=q.clientHeight,M=q.scrollTop,G=q.querySelector(`[rowid="${F}"]`);if(G){const $=G.offsetParent,Y=G.offsetTop+($?$.offsetTop:0),H=G.clientHeight;if(Y<M||Y>M+O)return e.scrollTo(null,Y);if(Y+H>=O+M)return e.scrollTo(null,M+H)}else if(c){if(!(S||E.height||k.height)&&o)return e.scrollTo(null,(e.findRowIndexOf(v,t)-1)*D);let Y=0;const H=x[F]||{},j=H.resizeHeight||E.height||k.height||H.height||D;for(let B=0;B<v.length;B++){const xe=v[B],Z=Ft(e,xe);if(xe===t||Z===F)break;const L=x[Z]||{};Y+=L.resizeHeight||E.height||k.height||L.height||D}return Y<M?e.scrollTo(null,Y-P-1):e.scrollTo(null,Y+j-(O-V-1))}}return Promise.resolve()}function yO(e,t,r){const n=e.reactData,l=e.internalData,{computeLeftFixedWidth:a,computeRightFixedWidth:i}=e.getComputeMaps(),{scrollXLoad:d}=n,{elemStore:u,visibleColumn:p}=l,o=a.value,c=i.value,m=Xt(u["main-body-scroll"]);if(t.fixed)return Promise.resolve();if(m){const v=m.clientWidth,x=m.scrollLeft;let S=null;if(r){const k=Ft(e,r);S=m.querySelector(`[rowid="${k}"] .${t.id}`)}if(S||(S=m.querySelector(`.${t.id}`)),S){const k=S.offsetParent,E=S.offsetLeft+(k?k.offsetLeft:0),D=S.clientWidth;if(E<x+o)return e.scrollTo(E-o-1);if(E+D-x>v-c)return e.scrollTo(E+D-(v-c-1))}else if(d){let k=0;const E=t.renderWidth;for(let D=0;D<p.length;D++){const P=p[D];if(P===t||P.id===t.id)break;k+=P.renderWidth}return k<x?e.scrollTo(k-o-1):e.scrollTo(k+E-(v-c-1))}}return Promise.resolve()}function el(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function PF(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function LF(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function Rn(e){return e==null?[]:f.isArray(e)?e:[e]}const{getI18n:Ms,getIcon:Ur,renderer:Vi,formats:wO,renderEmptyElement:Dl}=Se;function FN(e){const{$table:t,column:r}=e,n=r.titlePrefix||r.titleHelp;return n?g("i",{class:["vxe-cell-title-prefix-icon",n.icon||Ur().TABLE_TITLE_PREFIX],onMouseenter(l){t.triggerHeaderTitleEvent(l,n,e)},onMouseleave(l){t.handleTargetLeaveEvent(l)}}):Dl(t)}function kN(e){const{$table:t,column:r}=e,n=r.titleSuffix;return n?g("i",{class:["vxe-cell-title-suffix-icon",n.icon||Ur().TABLE_TITLE_SUFFIX],onMouseenter(l){t.triggerHeaderTitleEvent(l,n,e)},onMouseleave(l){t.handleTargetLeaveEvent(l)}}):Dl(t)}function SO(e){const{$table:t,column:r}=e,{context:n}=t,l=n.slots,a=t.props,{slots:i}=r,{dragConfig:d}=a,{computeRowDragOpts:u}=t.getComputeMaps(),p=u.value,{icon:o,trigger:c,disabledMethod:m}=p,v=m||(d?d.rowDisabledMethod:null),x=v&&v(e),S=(i?i.rowDragIcon||i["row-drag-icon"]:null)||l.rowDragIcon||l["row-drag-icon"],k={};return c!=="cell"&&(k.onMousedown=E=>{x||t.handleCellDragMousedownEvent(E,e)},k.onMouseup=t.handleCellDragMouseupEvent),g("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":x}]},k),S?t.callSlot(S,e):[g("i",{class:o||(d?d.rowIcon:"")||Ur().TABLE_DRAG_ROW})])}function wn(e,t){const{$table:r,column:n,level:l}=e,{dragSort:a}=n,i=r.props,{treeConfig:d,dragConfig:u}=i,{computeRowOpts:p,computeRowDragOpts:o,computeTreeOpts:c}=r.getComputeMaps(),m=p.value,v=o.value,x=c.value,{showIcon:S,isPeerDrag:k,isCrossDrag:E,visibleMethod:D}=v,P=D||(u?u.rowVisibleMethod:null),V=f.isArray(t)?t:[t];return a&&m.drag&&(S||u&&u.showRowIcon)&&(!P||P(e))&&(d?x.transform&&(k||E||!l)&&V.unshift(SO(e)):V.unshift(SO(e))),V}function $N(e){const{$table:t,column:r}=e,{context:n}=t,l=n.slots,{slots:a}=r,{computeColumnOpts:i,computeColumnDragOpts:d}=t.getComputeMaps(),u=i.value,p=d.value,{showIcon:o,icon:c,trigger:m,isPeerDrag:v,isCrossDrag:x,visibleMethod:S,disabledMethod:k}=p;if(u.drag&&o&&(!S||S(e))&&!r.fixed&&(v||x||!r.parentId)){const E=k&&k(e),D=(a?a.columnDragIcon||a["column-drag-icon"]:null)||l.columnDragIcon||l["column-drag-icon"],P={};return m!=="cell"&&(P.onMousedown=V=>{E||t.handleHeaderCellDragMousedownEvent(V,e)},P.onMouseup=t.handleHeaderCellDragMouseupEvent),g("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":E}]},P),D?t.callSlot(D,e):[g("i",{class:c||Ur().TABLE_DRAG_COLUMN})])}return Dl(t)}function ia(e,t){return[FN(e),$N(e),...f.isArray(t)?t:[t],kN(e)]}function ja(e,t){const{$table:r,column:n}=e,l=r.props,a=r.reactData,{computeTooltipOpts:i}=r.getComputeMaps(),{showHeaderOverflow:d}=l,{type:u,showHeaderOverflow:p}=n,c=i.value.showAll,m=f.isUndefined(p)||f.isNull(p)?d:p,v=m==="title",x=m===!0||m==="tooltip",S={};return(v||x||c)&&(S.onMouseenter=k=>{a.isDragResize||(v?xx(k.currentTarget,n):(x||c)&&r.triggerHeaderTooltipEvent(k,e))}),(x||c)&&(S.onMouseleave=k=>{a.isDragResize||(x||c)&&r.handleTargetLeaveEvent(k)}),[u==="html"&&f.isString(t)?g("span",Object.assign({class:"vxe-cell--title",innerHTML:t},S)):g("span",Object.assign({class:"vxe-cell--title"},S),Rn(t))]}function AN(e){const{$table:t,column:r,_columnIndex:n,items:l,row:a}=e,{slots:i,editRender:d,cellRender:u,footerFormatter:p}=r,o=d||u,c=i?i.footer:null;if(c)return t.callSlot(c,e);let m="";f.isArray(l)?m=l[n]:m=f.get(a,r.field);const v=Object.assign(e,{itemValue:m});if(p){if(f.isFunction(p))return[g("span",{class:"vxe-cell--label"},`${p(v)}`)];const x=f.isArray(p),S=x?wO.get(p[0]):wO.get(p),k=S?S.tableFooterCellFormatMethod:null;return k?[g("span",{class:"vxe-cell--label"},`${x?k(v,...p.slice(1)):k(v)}`)]:[g("span",{class:"vxe-cell--label"},"")]}if(o){const x=Vi.get(o.name);if(x){const S=x.renderTableFooter||x.renderFooter;if(S)return Rn(S(o,v))}}return[g("span",{class:"vxe-cell--label"},nn(m,1))]}function EO(e){const{$table:t,row:r,column:n}=e;return nn(t.getCellLabel(r,n),1)}function PN(e){const{column:t,$table:r}=e,n=r.props,{editConfig:l}=n,{type:a,treeNode:i,editRender:d}=t,{computeEditOpts:u,computeCheckboxOpts:p}=r.getComputeMaps(),o=p.value,c=u.value;switch(a){case"seq":return i?tr.renderTreeIndexCell(e):tr.renderSeqCell(e);case"radio":return i?tr.renderTreeRadioCell(e):tr.renderRadioCell(e);case"checkbox":return o.checkField?i?tr.renderTreeSelectionCellByProp(e):tr.renderCheckboxCellByProp(e):i?tr.renderTreeSelectionCell(e):tr.renderCheckboxCell(e);case"expand":return tr.renderExpandCell(e);case"html":return i?tr.renderTreeHTMLCell(e):tr.renderHTMLCell(e)}return nr(l)&&d?c.mode==="cell"?i?tr.renderTreeCellEdit(e):tr.renderCellEdit(e):i?tr.renderTreeRowEdit(e):tr.renderRowEdit(e):i?tr.renderTreeCell(e):tr.renderDefaultCell(e)}function LN(e){const{column:t,$table:r}=e,n=r.props,{editConfig:l}=n,{type:a,filters:i,sortable:d,editRender:u}=t;switch(a){case"seq":return tr.renderSeqHeader(e);case"radio":return tr.renderRadioHeader(e);case"checkbox":return tr.renderCheckboxHeader(e);case"html":if(i&&d)return tr.renderSortAndFilterHeader(e);if(d)return tr.renderSortHeader(e);if(i)return tr.renderFilterHeader(e);break}return l&&u?tr.renderEditHeader(e):i&&d?tr.renderSortAndFilterHeader(e):d?tr.renderSortHeader(e):i?tr.renderFilterHeader(e):tr.renderDefaultHeader(e)}function NN(e){return tr.renderDefaultFooter(e)}const tr={createColumn(e,t){const{type:r}=t,n={renderHeader:LN,renderCell:PN,renderFooter:NN};return r==="expand"&&(n.renderData=tr.renderExpandData),DN(e,t,n)},renderHeaderTitle(e){const{$table:t,column:r}=e,{slots:n,editRender:l,cellRender:a}=r,i=l||a,d=n?n.header:null;if(d)return ja(e,t.callSlot(d,e));if(i){const u=Vi.get(i.name);if(u){const p=u.renderTableHeader||u.renderHeader;if(p)return ja(e,Rn(p(i,e)))}}return ja(e,nn(r.getTitle(),1))},renderDefaultHeader(e){return ia(e,tr.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:t,row:r,column:n}=e,{slots:l,editRender:a,cellRender:i}=n,d=a||i,u=l?l.default:null;if(u)return wn(e,t.callSlot(u,e));if(d){const c=Vi.get(d.name);if(c){const m=c.renderTableCell||c.renderCell,v=c.renderTableDefault||c.renderDefault,x=a?m:v;if(x)return wn(e,Rn(x(d,Object.assign({$type:a?"edit":"cell"},e))))}}const p=t.getCellLabel(r,n),o=a?a.placeholder:"";return wn(e,[g("span",{class:"vxe-cell--label"},[a&&ga(p)?g("span",{class:"vxe-cell--placeholder"},nn(ma(o),1)):g("span",nn(p,1))])])},renderTreeCell(e){return tr.renderTreeIcon(e,tr.renderDefaultCell(e))},renderDefaultFooter(e){return AN(e)},renderTreeIcon(e,t){const{$table:r,isHidden:n}=e,l=r.reactData,a=r.internalData,{computeTreeOpts:i}=r.getComputeMaps(),{treeExpandedFlag:d}=l,{fullAllDataRowIdData:u,treeExpandedMaps:p,treeExpandLazyLoadedMaps:o}=a,c=i.value,{row:m,column:v,level:x}=e,{slots:S}=v,{indent:k,lazy:E,trigger:D,iconLoaded:P,showIcon:V,iconOpen:q,iconClose:F}=c,O=c.children||c.childrenField,M=c.hasChild||c.hasChildField,G=m[O],$=G&&G.length,Y=S?S.icon:null;let H=!1,j=!1,B=!1,xe=!1;const Z={};if(Y)return r.callSlot(Y,e);if(!n){const L=Ft(r,m);if(j=!!d&&!!p[L],E){const ne=u[L];B=!!o[L],H=m[M],xe=!!ne.treeLoaded}}return(!D||D==="default")&&(Z.onClick=L=>{r.triggerTreeExpandEvent(L,e)}),[g("div",{class:["vxe-cell--tree-node",{"is--active":j}],style:{paddingLeft:`${x*k}px`}},[V&&(E?xe?$:$||H:$)?[g("div",Object.assign({class:"vxe-tree--btn-wrapper"},Z),[g("i",{class:["vxe-tree--node-btn",B?P||Ur().TABLE_TREE_LOADED:j?q||Ur().TABLE_TREE_OPEN:F||Ur().TABLE_TREE_CLOSE]})])]:null,g("div",{class:"vxe-tree-cell"},t)])]},renderSeqHeader(e){const{$table:t,column:r}=e,{slots:n}=r,l=n?n.header:null;return ia(e,ja(e,l?t.callSlot(l,e):nn(r.getTitle(),1)))},renderSeqCell(e){const{$table:t,column:r}=e,n=t.props,{treeConfig:l}=n,{computeSeqOpts:a}=t.getComputeMaps(),i=a.value,{slots:d}=r,u=d?d.default:null;if(u)return wn(e,t.callSlot(u,e));const{seq:p}=e,o=i.seqMethod;return wn(e,[g("span",`${nn(o?o(e):l?p:(i.startIndex||0)+p,1)}`)])},renderTreeIndexCell(e){return tr.renderTreeIcon(e,tr.renderSeqCell(e))},renderRadioHeader(e){const{$table:t,column:r}=e,{slots:n}=r,l=n?n.header:null,a=n?n.title:null;return ia(e,ja(e,l?t.callSlot(l,e):[g("span",{class:"vxe-radio--label"},a?t.callSlot(a,e):nn(r.getTitle(),1))]))},renderRadioCell(e){const{$table:t,column:r,isHidden:n}=e,l=t.reactData,{computeRadioOpts:a}=t.getComputeMaps(),{selectRadioRow:i}=l,d=a.value,{slots:u}=r,{labelField:p,checkMethod:o,visibleMethod:c}=d,{row:m}=e,v=u?u.default:null,x=u?u.radio:null,S=t.eqRow(m,i),k=!c||c({row:m});let E=!!o,D;n||(D={onClick(q){!E&&k&&t.triggerRadioRowEvent(q,e)}},o&&(E=!o({row:m})));const P=Object.assign(Object.assign({},e),{checked:S,disabled:E,visible:k});if(x)return wn(e,t.callSlot(x,P));const V=[];return k&&V.push(g("span",{class:["vxe-radio--icon",S?Ur().TABLE_RADIO_CHECKED:Ur().TABLE_RADIO_UNCHECKED]})),(v||p)&&V.push(g("span",{class:"vxe-radio--label"},v?t.callSlot(v,P):f.get(m,p))),wn(e,[g("span",Object.assign({class:["vxe-cell--radio",{"is--checked":S,"is--disabled":E}]},D),V)])},renderTreeRadioCell(e){return tr.renderTreeIcon(e,tr.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:t,column:r,isHidden:n}=e,l=t.reactData,{computeIsAllCheckboxDisabled:a,computeCheckboxOpts:i}=t.getComputeMaps(),{isAllSelected:d,isIndeterminate:u}=l,p=a.value,{slots:o}=r,c=o?o.header:null,m=o?o.title:null,v=i.value,{checkStrictly:x,showHeader:S,headerTitle:k}=v,E=r.getTitle(),D={};n||(D.onClick=V=>{p||t.triggerCheckAllEvent(V,!d)});const P=Object.assign(Object.assign({},e),{checked:d,disabled:p,indeterminate:u});return c?ia(e,ja(P,t.callSlot(c,P))):(x?!S:S===!1)?ia(e,ja(P,[g("span",{class:"vxe-checkbox--label"},m?t.callSlot(m,P):E)])):ia(e,ja(P,[g("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":d,"is--disabled":p,"is--indeterminate":u}],title:f.eqNull(k)?Ms("vxe.table.allTitle"):`${k||""}`},D),[g("span",{class:["vxe-checkbox--icon",u?Ur().TABLE_CHECKBOX_INDETERMINATE:d?Ur().TABLE_CHECKBOX_CHECKED:Ur().TABLE_CHECKBOX_UNCHECKED]})].concat(m||E?[g("span",{class:"vxe-checkbox--label"},m?t.callSlot(m,P):E)]:[]))]))},renderCheckboxCell(e){const{$table:t,row:r,column:n,isHidden:l}=e,a=t.props,i=t.reactData,d=t.internalData,{treeConfig:u}=a,{updateCheckboxFlag:p}=i,{selectCheckboxMaps:o,treeIndeterminateRowMaps:c}=d,{computeCheckboxOpts:m}=t.getComputeMaps(),v=m.value,{labelField:x,checkMethod:S,visibleMethod:k}=v,{slots:E}=n,D=E?E.default:null,P=E?E.checkbox:null;let V=!1,q=!1;const F=!k||k({row:r});let O=!!S;const M={};if(!l){const Y=Ft(t,r);q=!!p&&!!o[Y],M.onClick=H=>{!O&&F&&t.triggerCheckRowEvent(H,e,!q)},S&&(O=!S({row:r})),u&&(V=!!c[Y])}const G=Object.assign(Object.assign({},e),{checked:q,disabled:O,visible:F,indeterminate:V});if(P)return wn(e,t.callSlot(P,G));const $=[];return F&&$.push(g("span",{class:["vxe-checkbox--icon",V?Ur().TABLE_CHECKBOX_INDETERMINATE:q?Ur().TABLE_CHECKBOX_CHECKED:Ur().TABLE_CHECKBOX_UNCHECKED]})),(D||x)&&$.push(g("span",{class:"vxe-checkbox--label"},D?t.callSlot(D,G):f.get(r,x))),wn(e,[g("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":q,"is--disabled":O,"is--indeterminate":V,"is--hidden":!F}]},M),$)])},renderTreeSelectionCell(e){return tr.renderTreeIcon(e,tr.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:t,row:r,column:n,isHidden:l}=e,a=t.props,i=t.reactData,d=t.internalData,{treeConfig:u}=a,{updateCheckboxFlag:p}=i,{treeIndeterminateRowMaps:o}=d,{computeCheckboxOpts:c}=t.getComputeMaps(),m=c.value,{labelField:v,checkField:x,checkMethod:S,visibleMethod:k}=m,E=m.indeterminateField||m.halfField,{slots:D}=n,P=D?D.default:null,V=D?D.checkbox:null;let q=!1,F=!1;const O=!k||k({row:r});let M=!!S;const G={};if(!l){const H=Ft(t,r);F=!!p&&f.get(r,x),G.onClick=j=>{!M&&O&&t.triggerCheckRowEvent(j,e,!F)},S&&(M=!S({row:r})),u&&(q=!!o[H])}const $=Object.assign(Object.assign({},e),{checked:F,disabled:M,visible:O,indeterminate:q});if(V)return wn(e,t.callSlot(V,$));const Y=[];return O&&(Y.push(g("span",{class:["vxe-checkbox--icon",q?Ur().TABLE_CHECKBOX_INDETERMINATE:F?Ur().TABLE_CHECKBOX_CHECKED:Ur().TABLE_CHECKBOX_UNCHECKED]})),(P||v)&&Y.push(g("span",{class:"vxe-checkbox--label"},P?t.callSlot(P,$):f.get(r,v)))),wn(e,[g("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":F,"is--disabled":M,"is--indeterminate":E&&!F?r[E]:q,"is--hidden":!O}]},G),Y)])},renderTreeSelectionCellByProp(e){return tr.renderTreeIcon(e,tr.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:t,isHidden:r,row:n,column:l}=e,a=t.internalData,{rowExpandedMaps:i,rowExpandLazyLoadedMaps:d}=a,{computeExpandOpts:u}=t.getComputeMaps(),p=u.value,{lazy:o,labelField:c,iconLoaded:m,showIcon:v,iconOpen:x,iconClose:S,visibleMethod:k}=p,{slots:E}=l,D=E?E.default:null,P=E?E.icon:null;let V=!1,q=!1;if(P)return wn(e,t.callSlot(P,e));if(!r){const F=Ft(t,n);V=!!i[F],o&&(q=!!d[F])}return wn(e,[v&&(!k||k(e))?g("span",{class:["vxe-table--expanded",{"is--active":V}],onMousedown(F){F.stopPropagation()},onClick(F){t.triggerRowExpandEvent(F,e)}},[g("i",{class:["vxe-table--expand-btn",q?m||Ur().TABLE_EXPAND_LOADED:V?x||Ur().TABLE_EXPAND_OPEN:S||Ur().TABLE_EXPAND_CLOSE]})]):Dl(t),D||c?g("span",{class:"vxe-table--expand-label"},D?t.callSlot(D,e):f.get(n,c)):Dl(t)])},renderExpandData(e){const{$table:t,column:r}=e,{slots:n,contentRender:l}=r,a=n?n.content:null;if(a)return t.callSlot(a,e);if(l){const i=Vi.get(l.name);if(i){const d=i.renderTableExpand||i.renderExpand;if(d)return Rn(d(l,e))}}return[]},renderHTMLCell(e){const{$table:t,column:r}=e,{slots:n}=r,l=n?n.default:null;return l?wn(e,t.callSlot(l,e)):wn(e,[g("span",{class:"vxe-cell--html",innerHTML:EO(e)})])},renderTreeHTMLCell(e){return tr.renderTreeIcon(e,tr.renderHTMLCell(e))},renderSortAndFilterHeader(e){return ia(e,tr.renderHeaderTitle(e).concat(tr.renderSortIcon(e).concat(tr.renderFilterIcon(e))))},renderSortHeader(e){return ia(e,tr.renderHeaderTitle(e).concat(tr.renderSortIcon(e)))},renderSortIcon(e){const{$table:t,column:r}=e,{computeSortOpts:n}=t.getComputeMaps(),l=n.value,{showIcon:a,allowBtn:i,ascTitle:d,descTitle:u,iconLayout:p,iconAsc:o,iconDesc:c,iconVisibleMethod:m}=l,{order:v}=r;return a&&(!m||m(e))?[g("span",{class:["vxe-cell--sort",`vxe-cell--sort-${p}-layout`]},[g("i",{class:["vxe-sort--asc-btn",o||Ur().TABLE_SORT_ASC,{"sort--active":v==="asc"}],title:f.eqNull(d)?Ms("vxe.table.sortAsc"):`${d||""}`,onClick:i?x=>{x.stopPropagation(),t.triggerSortEvent(x,r,"asc")}:void 0}),g("i",{class:["vxe-sort--desc-btn",c||Ur().TABLE_SORT_DESC,{"sort--active":v==="desc"}],title:f.eqNull(u)?Ms("vxe.table.sortDesc"):`${u||""}`,onClick:i?x=>{x.stopPropagation(),t.triggerSortEvent(x,r,"desc")}:void 0})])]:[]},renderFilterHeader(e){return ia(e,tr.renderHeaderTitle(e).concat(tr.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:t,column:r,hasFilter:n}=e,l=t.reactData,{filterStore:a}=l,{computeFilterOpts:i}=t.getComputeMaps(),d=i.value,{showIcon:u,iconNone:p,iconMatch:o,iconVisibleMethod:c}=d;return u&&(!c||c(e))?[g("span",{class:["vxe-cell--filter",{"is--active":a.visible&&a.column===r}]},[g("i",{class:["vxe-filter--btn",n?o||Ur().TABLE_FILTER_MATCH:p||Ur().TABLE_FILTER_NONE],title:Ms("vxe.table.filter"),onClick(m){t.triggerFilterEvent&&t.triggerFilterEvent(m,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:t,column:r}=e,n=t.props,{computeEditOpts:l}=t.getComputeMaps(),{editConfig:a,editRules:i}=n,d=l.value,{sortable:u,filters:p,editRender:o}=r;let c=!1;if(i){const v=f.get(i,r.field);v&&(c=v.some(x=>x.required))}let m=[];return nr(a)&&(m=[c&&d.showAsterisk?g("i",{class:"vxe-cell--required-icon"}):Dl(t),nr(o)&&d.showIcon?g("i",{class:["vxe-cell--edit-icon",d.icon||Ur().TABLE_EDIT]}):Dl(t)]),ia(e,m.concat(tr.renderHeaderTitle(e)).concat(u?tr.renderSortIcon(e):[]).concat(p?tr.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:t,column:r}=e,n=t.reactData,{editStore:l}=n,{actived:a}=l,{editRender:i}=r;return tr.runRenderer(e,nr(i)&&a&&a.row===e.row)},renderTreeRowEdit(e){return tr.renderTreeIcon(e,tr.renderRowEdit(e))},renderCellEdit(e){const{$table:t,column:r}=e,n=t.reactData,{editStore:l}=n,{actived:a}=l,{editRender:i}=r;return tr.runRenderer(e,nr(i)&&a&&a.row===e.row&&a.column===e.column)},renderTreeCellEdit(e){return tr.renderTreeIcon(e,tr.renderCellEdit(e))},runRenderer(e,t){const{$table:r,column:n}=e,{slots:l,editRender:a,formatter:i}=n,d=l?l.default:null,u=l?l.edit:null,p=Vi.get(a.name),o=p?p.renderTableEdit||p.renderEdit:null,c=Object.assign({$type:"",isEdit:t},e);return t?(c.$type="edit",u?r.callSlot(u,c):o?Rn(o(a,c)):[]):d?wn(e,r.callSlot(d,c)):i?wn(e,[g("span",{class:"vxe-cell--label"},EO(c))]):tr.renderDefaultCell(c)}},NF={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},tl=Sr({name:"VxeColumn",props:NF,setup(e,{slots:t}){const r=it(),n=or("$xeTable",null),l=or("$xeColgroup",null);if(!n)return()=>Ze();const a=tr.createColumn(n,e);a.slots=t;const i=()=>g("div",{ref:r}),d={columnConfig:a,renderVN:i};return MF(n,e,a),qn(()=>{const u=r.value;u&&IF(n,u,a,l)}),Ao(()=>{FF(n,a)}),Ko("$xeColumn",d),Ko("$xeGrid",null),i}}),rl=Sr({name:"VxeColgroup",props:NF,setup(e,{slots:t}){const r=it(),n=or("$xeTable",null),l=or("$xeColgroup",null);if(!n)return()=>Ze();const a=tr.createColumn(n,e),i={};t.header&&(i.header=t.header),a.slots=i,a.children=[],MF(n,e,a),qn(()=>{const p=r.value;p&&IF(n,p,a,l)}),Ao(()=>{FF(n,a)});const d=()=>g("div",{ref:r},t.default?t.default():[]);return Ko("$xeColgroup",{columnConfig:a}),Ko("$xeGrid",null),d}}),_N=Object.assign({},rl,{install(e){e.component(rl.name,rl),e.component("VxeTableColgroup",rl)}});Se.dynamicApp&&(Se.dynamicApp.component(rl.name,rl),Se.dynamicApp.component("VxeTableColgroup",rl));Se.component(rl);const qN=Object.assign({},tl,{install(e){e.component(tl.name,tl),e.component("VxeTableColumn",tl)}});Se.dynamicApp&&(Se.dynamicApp.component(tl.name,tl),Se.dynamicApp.component("VxeTableColumn",tl));Se.component(tl);const{getI18n:HN,renderer:RO,renderEmptyElement:vb}=Se,Is="body",DO=Sr({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const t=or("$xeTable",{}),{xID:r,props:n,context:l,reactData:a,internalData:i}=t,{computeEditOpts:d,computeMouseOpts:u,computeCellOffsetWidth:p,computeAreaOpts:o,computeDefaultRowHeight:c,computeEmptyOpts:m,computeTooltipOpts:v,computeRadioOpts:x,computeExpandOpts:S,computeTreeOpts:k,computeCheckboxOpts:E,computeCellOpts:D,computeValidOpts:P,computeRowOpts:V,computeColumnOpts:q,computeRowDragOpts:F,computeColumnDragOpts:O,computeResizableOpts:M}=t.getComputeMaps(),G=it(),$=it(),Y=it(),H=it(),j=it(),B=it(),xe=it(),Z=it(),L=()=>{const{delayHover:se}=n,{lastScrollTime:ae,isDragResize:le}=a;return!!(le||ae&&Date.now()<ae+se)},ne=(se,ae,le)=>{const{row:Ee,column:Oe}=ae,{afterFullData:Be}=i,{treeConfig:K}=n,pe=k.value,{slots:J,treeNode:ie}=Oe,{fullAllDataRowIdData:Ae}=i;if(J&&J.line)return t.callSlot(J.line,ae);const _e=Ae[se];let _=0,Fe=null;_e&&(_=_e.level,Fe=_e.items[_e.treeIndex-1]);const Pe=t.eqRow(Be[0],Ee);return K&&ie&&(pe.showLine||pe.line)?[g("div",{key:"tl",class:"vxe-tree--line-wrapper"},[g("div",{class:"vxe-tree--line",style:{height:`${Pe?1:TN(ae,Fe)}px`,bottom:`-${Math.floor(le/2)}px`,left:`${_*pe.indent+(_?2-$F(t):0)+16}px`}})])]:[]},Ve=(se,ae,le,Ee,Oe,Be,K,pe,J,ie,Ae,_e,_)=>{const Fe=t.xeGrid,{fullAllDataRowIdData:Pe,fullColumnIdData:et,visibleColumn:Ge}=i,{columnKey:ut,resizable:gt,showOverflow:_t,border:qt,height:Ht,cellClassName:Tt,cellStyle:Dt,align:Lt,spanMethod:wt,mouseConfig:ct,editConfig:bt,editRules:St,tooltipConfig:Ye,padding:X}=n,{tableData:W,dragRow:ge,overflowX:be,currentColumn:U,scrollXLoad:te,scrollYLoad:re,calcCellHeightFlag:$e,resizeHeightFlag:qe,resizeWidthFlag:Je,mergeList:lt,editStore:Ct,isAllOverflow:rt,validErrorMaps:ve}=a,{afterFullData:Me,scrollXStore:ke,scrollYStore:Ue}=i,Qe=D.value,Xe=P.value,dt=E.value,Ke=d.value,ft=v.value,Rt=M.value,{isAllColumnDrag:Q,isAllRowDrag:Re}=Rt,nt=V.value,vt=F.value,st=c.value,It=$e?Qe.height||nt.height:0,{disabledMethod:pt,isCrossDrag:Pt,isPeerDrag:yt}=vt,ht=q.value,Ut=u.value,Wt=o.value,jt=p.value,{selectCellToRow:Qt}=Wt,{type:ir,cellRender:zt,editRender:dr,align:pr,showOverflow:Wr,className:$r,treeNode:an,rowResize:Ro,padding:zn,verticalAlign:Dn,slots:oo}=ie,{verticalAlign:ao}=Qe,{actived:Bn}=Ct,On=Pe[ae]||{},Tn=ie.id,y=et[Tn]||{},Do=dr||zt,Qr=Do?RO.get(Do.name):null,qo=Qr?Qr.tableCellClassName||Qr.cellClassName:null,Oo=Qr?Qr.tableCellStyle||Qr.cellStyle:"",An=ft.showAll,lo=y.index,ln=y._index,Wn=nr(dr),Ho=qe?On.resizeHeight:0;let dn=le?ie.fixed!==le:ie.fixed&&be;const Vo=f.eqNull(zn)?X===null?Qe.padding:X:zn,io=f.eqNull(Wr)?_t:Wr,To=io==="ellipsis",Mn=io==="title",xn=io===!0||io==="tooltip",so=rt||Mn||xn||To,Sa=f.isBoolean(ie.resizable)?ie.resizable:ht.resizable||gt,co=!!It,Mo=Ho>0;let Gn;const Cn={},Io=pr||(Qr?Qr.tableCellAlign:"")||Lt,zo=f.eqNull(Dn)?ao:Dn,yn=ve[`${ae}:${Tn}`],ra=St&&Xe.showMessage&&(Xe.message==="default"?Ht||W.length>1:Xe.message==="inline"),tn={colid:Tn},Or={$table:t,$grid:Fe,isEdit:!1,seq:se,rowid:ae,row:Be,rowIndex:K,$rowIndex:pe,_rowIndex:J,column:ie,columnIndex:lo,$columnIndex:Ae,_columnIndex:ln,fixed:le,type:Is,isHidden:!!dn,level:Oe,visibleData:Me,data:W,items:_};let fn=!1,na=!1;nt.drag&&(fn=vt.trigger==="row"||ie.dragSort&&vt.trigger==="cell"),fn&&(na=!!(pt&&pt(Or))),(Mn||xn||An||Ye)&&(Cn.onMouseenter=cr=>{L()||(Mn?xx(cr.currentTarget,ie):(xn||An)&&t.triggerBodyTooltipEvent(cr,Or),t.dispatchEvent("cell-mouseenter",Object.assign({cell:cr.currentTarget},Or),cr))}),(xn||An||Ye)&&(Cn.onMouseleave=cr=>{L()||((xn||An)&&t.handleTargetLeaveEvent(cr),t.dispatchEvent("cell-mouseleave",Object.assign({cell:cr.currentTarget},Or),cr))}),(fn||dt.range||ct)&&(Cn.onMousedown=cr=>{t.triggerCellMousedownEvent(cr,Or)}),fn&&(Cn.onMouseup=t.triggerCellMouseupEvent),Cn.onClick=cr=>{t.triggerCellClickEvent(cr,Or)},Cn.onDblclick=cr=>{t.triggerCellDblclickEvent(cr,Or)};let Hr=!1;if(lt.length){const cr=AF(lt,J,ln);if(cr){const{rowspan:Lr,colspan:sn}=cr;if(!Lr||!sn)return null;Lr>1&&(Hr=!0,tn.rowspan=Lr),sn>1&&(Hr=!0,tn.colspan=sn)}}else if(wt){const{rowspan:cr=1,colspan:Lr=1}=wt(Or)||{};if(!cr||!Lr)return null;cr>1&&(tn.rowspan=cr),Lr>1&&(tn.colspan=Lr)}dn&&lt&&(tn.colspan>1||tn.rowspan>1)&&(dn=!1),!dn&&bt&&(dr||zt)&&(Ke.showStatus||Ke.showUpdateStatus)&&(Gn=t.isUpdateByRow(Be,ie.field));const uo=re&&!so,fo=On.resizeHeight||Qe.height||nt.height||On.height||st,oa=Ae===_e.length-1,aa=!ie.resizeWidth&&(ie.minWidth==="auto"||ie.width==="auto");let Un=!1;Hr||(!ge||Ft(t,ge)!==ae)&&(re&&(J<Ue.visibleStartIndex-Ue.preloadSize||J>Ue.visibleEndIndex+Ue.preloadSize)||te&&!ie.fixed&&(ln<ke.visibleStartIndex-ke.preloadSize||ln>ke.visibleEndIndex+ke.preloadSize))&&(Un=!0);const po={};if(so&&Je){let cr=tn.colspan||0;if(cr>1)for(let Lr=1;Lr<cr;Lr++){const sn=Ge[lo+Lr];sn&&(cr+=sn.renderWidth)}po.width=`${ie.renderWidth-jt*cr}px`}re||so||co||Mo?po.height=`${fo}px`:po.minHeight=`${fo}px`;const jn=[];if(dn&&rt)jn.push(g("div",{key:"tc",class:["vxe-cell",{"c--title":Mn,"c--tooltip":xn,"c--ellipsis":To}],style:po}));else if(jn.push(...ne(ae,Or,fo),g("div",{key:"tc",class:["vxe-cell",{"c--title":Mn,"c--tooltip":xn,"c--ellipsis":To}],style:po,title:Mn?t.getCellLabel(Be,ie):null},Un?[]:[g("div",{colid:Tn,rowid:ae,class:"vxe-cell--wrapper"},ie.renderCell(Or))])),ra&&yn){const cr=yn.rule,Lr=oo?oo.valid:null,sn=Object.assign(Object.assign(Object.assign({},Or),yn),{rule:yn});jn.push(g("div",{key:"tcv",class:["vxe-cell--valid-error-tip",Qa(Xe.className,sn)],style:cr&&cr.maxWidth?{width:`${cr.maxWidth}px`}:null},[g("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${Xe.theme||"normal"}`},[Lr?t.callSlot(Lr,sn):[g("span",{class:"vxe-cell--valid-error-msg"},yn.content)]])]))}let Pn=!1;return ct&&Ut.area&&Qt&&(!ln&&Qt===!0||Qt===ie.field)&&(Pn=!0),!dn&&Sa&&Q&&jn.push(g("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!qt||qt==="none"}],onMousedown:cr=>t.handleColResizeMousedownEvent(cr,le,Or),onDblclick:cr=>t.handleColResizeDblclickEvent(cr,Or)})),(Ro||Re)&&nt.resizable&&jn.push(g("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:cr=>t.handleRowResizeMousedownEvent(cr,Or),onDblclick:cr=>t.handleRowResizeDblclickEvent(cr,Or)})),g("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",Tn,zo?`col--vertical-${zo}`:"",Io?`col--${Io}`:"",ir?`col--${ir}`:"",{"col--last":oa,"col--tree-node":an,"col--edit":Wn,"col--ellipsis":so,"col--cs-height":co,"col--rs-height":Mo,"col--to-row":Pn,"col--auto-height":uo,"fixed--width":!aa,"fixed--hidden":dn,"is--padding":Vo,"is--progress":dn&&rt||Un,"is--drag-cell":fn&&(Pt||yt||!Oe),"is--drag-disabled":na,"col--dirty":Gn,"col--active":bt&&Wn&&Bn.row===Be&&(Bn.column===ie||Ke.mode==="row"),"col--valid-error":!!yn,"col--current":U===ie},Qa(qo,Or),Qa($r,Or),Qa(Tt,Or)],key:ut||te||re||ht.useKey||nt.useKey||ht.drag?Tn:Ae},tn),{style:Object.assign({},f.isFunction(Oo)?Oo(Or):Oo,f.isFunction(Dt)?Dt(Or):Dt)}),Cn),Ee&&dn?[]:jn)},Le=(se,ae,le,Ee)=>{const{stripe:Oe,rowKey:Be,highlightHoverRow:K,rowClassName:pe,rowStyle:J,editConfig:ie,treeConfig:Ae}=n,{hasFixedColumn:_e,treeExpandedFlag:_,isColLoading:Fe,scrollXLoad:Pe,scrollYLoad:et,isAllOverflow:Ge,rowExpandedFlag:ut,expandColumn:gt,selectRadioRow:_t,pendingRowFlag:qt,isDragColMove:Ht,rowExpandHeightFlag:Tt}=a,{fullAllDataRowIdData:Dt,treeExpandedMaps:Lt,pendingRowMaps:wt,rowExpandedMaps:ct}=i,bt=E.value,St=x.value,Ye=k.value,X=d.value,W=V.value,ge=q.value,be=O.value,{transform:U,seqMode:te}=Ye,re=Ye.children||Ye.childrenField,$e=[],{handleGetRowId:qe}=en(t);return le.forEach((Je,lt)=>{const Ct=qe(Je),rt=Dt[Ct]||{};let ve=lt,Me=0,ke=-1,Ue=-1;const Qe={};(W.isHover||K)&&(Qe.onMouseenter=nt=>{L()||t.triggerHoverEvent(nt,{row:Je,rowIndex:ve})},Qe.onMouseleave=()=>{L()||t.clearHoverRow()}),rt&&(Me=rt.level,Ae&&U&&te==="increasing"?ke=rt._index+1:ke=rt.seq,ve=rt.index,Ue=rt._index);const Xe={$table:t,seq:ke,rowid:Ct,fixed:se,type:Is,level:Me,row:Je,rowIndex:ve,$rowIndex:lt,_rowIndex:Ue},dt=gt&&!!ut&&!!ct[Ct];let Ke=!1,ft=[],Rt=!1;ie&&(Rt=t.isInsertByRow(Je)),Ae&&!et&&!U&&(ft=Je[re],Ke=!!_&&ft&&ft.length>0&&!!Lt[Ct]),W.drag&&(!Ae||U)&&(Qe.onDragstart=t.handleRowDragDragstartEvent,Qe.onDragend=t.handleRowDragDragendEvent,Qe.onDragover=t.handleRowDragDragoverEvent);const Q=["vxe-body--row",Ae?`row--level-${Me}`:"",{"row--stripe":Oe&&(Ue+1)%2===0,"is--new":Rt,"is--expand-row":dt,"is--expand-tree":Ke,"row--new":Rt&&(X.showStatus||X.showInsertStatus),"row--radio":St.highlight&&t.eqRow(_t,Je),"row--checked":bt.highlight&&t.isCheckedByCheckboxRow(Je),"row--pending":!!qt&&!!wt[Ct]},Qa(pe,Xe)],Re=Ee.map((nt,vt)=>Ve(ke,Ct,se,ae,Me,Je,ve,lt,Ue,nt,vt,Ee,le));if($e.push(!Fe&&ge.drag&&be.animation?g(ha,Object.assign({name:`vxe-header--col-list${Ht?"":"-disabled"}`,tag:"tr",class:Q,rowid:Ct,style:J?f.isFunction(J)?J(Xe):J:null,key:Be||Pe||et||W.useKey||W.drag||ge.drag||Ae?Ct:lt},Qe),{default:()=>Re}):g("tr",Object.assign({class:Q,rowid:Ct,style:J?f.isFunction(J)?J(Xe):J:null,key:Be||Pe||et||W.useKey||W.drag||ge.drag||Ae?Ct:lt},Qe),Re)),dt){const nt=S.value,{height:vt,padding:st,mode:It}=nt;if(It==="fixed")$e.push(g("tr",{class:"vxe-body--row-expanded-place",key:`expand_${Ct}`,rowid:Ct},[g("td",{class:"vxe-body--row-expanded-place-column",colspan:Ee.length,style:{height:`${Tt?rt.expandHeight||vt:0}px`}})]));else{const pt={};vt&&(pt.height=`${vt}px`),Ae&&(pt.paddingLeft=`${Me*Ye.indent+30}px`);const{showOverflow:Pt}=gt,yt=f.isUndefined(Pt)||f.isNull(Pt)?Ge:Pt,ht={$table:t,seq:ke,column:gt,fixed:se,type:Is,level:Me,row:Je,rowIndex:ve,$rowIndex:lt,_rowIndex:Ue};$e.push(g("tr",{class:["vxe-body--expanded-row",{"is--padding":st}],key:`expand_${Ct}`},[g("td",{class:["vxe-body--expanded-column",{"fixed--hidden":se&&!_e,"col--ellipsis":yt}],colspan:Ee.length},[g("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":vt}],style:pt},[gt.renderData(ht)])])]))}}Ke&&$e.push(...Le(se,ae,ft,Ee))}),$e};return qn(()=>{ye(()=>{const{fixedType:se}=e,{elemStore:ae}=i,le=`${se||"main"}-body-`;ae[`${le}wrapper`]=G,ae[`${le}scroll`]=$,ae[`${le}table`]=Y,ae[`${le}colgroup`]=H,ae[`${le}list`]=j,ae[`${le}xSpace`]=B,ae[`${le}ySpace`]=xe,ae[`${le}emptyBlock`]=Z})}),Ao(()=>{const{fixedType:se}=e,{elemStore:ae}=i,le=`${se||"main"}-body-`;ae[`${le}wrapper`]=null,ae[`${le}scroll`]=null,ae[`${le}table`]=null,ae[`${le}colgroup`]=null,ae[`${le}list`]=null,ae[`${le}xSpace`]=null,ae[`${le}ySpace`]=null,ae[`${le}emptyBlock`]=null}),()=>{const{slots:se}=l,ae=t.xeGrid,{fixedColumn:le,fixedType:Ee,tableColumn:Oe}=e,{spanMethod:Be,footerSpanMethod:K,mouseConfig:pe}=n,{isGroup:J,tableData:ie,isRowLoading:Ae,isColLoading:_e,overflowX:_,scrollXLoad:Fe,scrollYLoad:Pe,isAllOverflow:et,isDragRowMove:Ge,expandColumn:ut,dragRow:gt,dragCol:_t}=a,{visibleColumn:qt,fullAllDataRowIdData:Ht,fullColumnIdData:Tt}=i,Dt=V.value,Lt=m.value,wt=u.value,ct=F.value,bt=S.value;let St=ie,Ye=Oe,X=!1;if((Fe||Pe||et)&&(ut&&bt.mode!=="fixed"||Be||K||(X=!0)),!_e&&(Ee||!_)&&(Ye=qt),Ee&&X&&(Ye=le||[]),Pe&&gt&&St.length>2){const U=Ht[Ft(t,gt)];if(U){const te=U._index,re=St[0],$e=St[St.length-1],qe=Ht[Ft(t,re)],Je=Ht[Ft(t,$e)];if(qe&&Je){const lt=qe._index,Ct=Je._index;te<lt?St=[gt].concat(St):te>Ct&&(St=St.concat([gt]))}}}if(!Ee&&!J&&Fe&&_t&&Ye.length>2){const U=Tt[_t.id];if(U){const te=U._index,re=Ye[0],$e=Ye[Ye.length-1],qe=Tt[re.id],Je=Tt[$e.id];if(qe&&Je){const lt=qe._index,Ct=Je._index;te<lt?Ye=[_t].concat(Ye):te>Ct&&(Ye=Ye.concat([_t]))}}}let W;const ge=se?se.empty:null;if(ge)W=t.callSlot(ge,{$table:t,$grid:ae});else{const U=Lt.name?RO.get(Lt.name):null,te=U?U.renderTableEmpty||U.renderTableEmptyView||U.renderEmpty:null;te?W=Rn(te(Lt,{$table:t})):W=n.emptyText||HN("vxe.table.emptyText")}const be={onScroll(U){t.triggerBodyScrollEvent(U,Ee)}};return g("div",{ref:G,class:["vxe-table--body-wrapper",Ee?`fixed-${Ee}--wrapper`:"body--wrapper"],xid:r},[g("div",Object.assign({ref:$,class:"vxe-table--body-inner-wrapper"},be),[Ee?vb(t):g("div",{ref:B,class:"vxe-body--x-space"}),g("div",{ref:xe,class:"vxe-body--y-space"}),g("table",{ref:Y,class:"vxe-table--body",xid:r,cellspacing:0,cellpadding:0,border:0},[g("colgroup",{ref:H},Ye.map((U,te)=>g("col",{name:U.id,key:te,style:{width:`${U.renderWidth}px`}}))),!(Ae||_e)&&Dt.drag&&ct.animation?g(ha,{ref:j,name:`vxe-body--row-list${Ge?"":"-disabled"}`,tag:"tbody"},{default:()=>Le(Ee,X,St,Ye)}):g("tbody",{ref:j},Le(Ee,X,St,Ye))]),g("div",{class:"vxe-table--checkbox-range"}),pe&&wt.area?g("div",{class:"vxe-table--cell-area"},[g("span",{class:"vxe-table--cell-main-area"},wt.extension?[g("span",{class:"vxe-table--cell-main-area-btn",onMousedown(U){t.triggerCellAreaExtendMousedownEvent&&t.triggerCellAreaExtendMousedownEvent(U,{$table:t,fixed:Ee,type:Is})}})]:[]),g("span",{class:"vxe-table--cell-copy-area"}),g("span",{class:"vxe-table--cell-extend-area"}),g("span",{class:"vxe-table--cell-multi-area"}),g("span",{class:"vxe-table--cell-active-area"}),g("span",{class:"vxe-table--cell-row-status-area"})]):vb(t),Ee?vb(t):g("div",{class:"vxe-table--empty-block",ref:Z},[g("div",{class:"vxe-table--empty-content"},W)])])])}}}),{renderer:VN,renderEmptyElement:mb}=Se,OO="header",TO=Sr({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const t=or("$xeTable",{}),{xID:r,props:n,reactData:l,internalData:a}=t,{computeColumnOpts:i,computeColumnDragOpts:d,computeCellOpts:u,computeMouseOpts:p,computeHeaderCellOpts:o,computeDefaultRowHeight:c}=t.getComputeMaps(),m=it([]),v=it(),x=it(),S=it(),k=it(),E=it(),D=it(),P=it(),V=()=>{const{isGroup:M}=l;m.value=M?yN(e.tableGroupColumn):[]},q=(M,G,$,Y)=>{const H=t.xeGrid,{fixedType:j}=e,{resizable:B,columnKey:xe,headerCellClassName:Z,headerCellStyle:L,showHeaderOverflow:ne,headerAlign:Ve,align:Le,mouseConfig:ee}=n,{currentColumn:se,dragCol:ae,scrollXLoad:le,scrollYLoad:Ee,overflowX:Oe}=l,{fullColumnIdData:Be,scrollXStore:K}=a,pe=i.value,J=d.value,ie=u.value,Ae=c.value,_e=o.value,_=TF(_e.height||ie.height)||Ae,{disabledMethod:Fe,isCrossDrag:Pe,isPeerDrag:et}=J;return $.map((Ge,ut)=>{const{type:gt,showHeaderOverflow:_t,headerAlign:qt,align:Ht,filters:Tt,headerClassName:Dt,editRender:Lt,cellRender:wt}=Ge,ct=Ge.id,bt=Be[ct]||{},St=Lt||wt,Ye=St?VN.get(St.name):null,X=Ge.children&&Ge.children.length,W=j?Ge.fixed!==j&&!X:!!Ge.fixed&&Oe,ge=f.isBoolean(_e.padding)?_e.padding:ie.padding,be=f.eqNull(_t)?ne:_t,U=qt||(Ye?Ye.tableHeaderCellAlign:"")||Ve||Ht||(Ye?Ye.tableCellAlign:"")||Le;let te=be==="ellipsis";const re=be==="title",$e=be===!0||be==="tooltip";let qe=re||$e||te,Je=!1,lt=null;Tt&&(lt=Tt[0],Je=Tt.some(Q=>Q.checked));const Ct=bt.index,rt=bt._index,ve={$table:t,$grid:H,$rowIndex:Y,column:Ge,columnIndex:Ct,$columnIndex:ut,_columnIndex:rt,firstFilterOption:lt,fixed:j,type:OO,isHidden:W,hasFilter:Je},Me={colid:ct,colspan:Ge.colSpan>1?Ge.colSpan:null,rowspan:Ge.rowSpan>1?Ge.rowSpan:null},ke={onClick:Q=>t.triggerHeaderCellClickEvent(Q,ve),onDblclick:Q=>t.triggerHeaderCellDblclickEvent(Q,ve)};le&&!qe&&(te=qe=!0);const Ue=pe.drag&&J.trigger==="cell";let Qe=!1;Ue&&(Qe=!!(Fe&&Fe(ve))),(ee||Ue)&&(ke.onMousedown=Q=>t.triggerHeaderCellMousedownEvent(Q,ve)),pe.drag&&(ke.onDragstart=t.handleHeaderCellDragDragstartEvent,ke.onDragend=t.handleHeaderCellDragDragendEvent,ke.onDragover=t.handleHeaderCellDragDragoverEvent,Ue&&(ke.onMouseup=t.handleHeaderCellDragMouseupEvent));const Xe=ut===$.length-1,dt=f.isBoolean(Ge.resizable)?Ge.resizable:pe.resizable||B,Ke=!Ge.resizeWidth&&(Ge.minWidth==="auto"||Ge.width==="auto");let ft=!1;M||(!ae||ae.id!==ct)&&le&&!Ge.fixed&&(rt<K.visibleStartIndex-K.preloadSize||rt>K.visibleEndIndex+K.preloadSize)&&(ft=!0);const Rt={};return qe?Rt.height=`${_}px`:Rt.minHeight=`${_}px`,g("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",ct,{[`col--${U}`]:U,[`col--${gt}`]:gt,"col--last":Xe,"col--fixed":Ge.fixed,"col--group":X,"col--ellipsis":qe,"fixed--width":!Ke,"fixed--hidden":W,"is--padding":ge,"is--sortable":Ge.sortable,"col--filter":!!Tt,"is--filter-active":Je,"is--drag-active":pe.drag&&!Ge.fixed&&!Qe&&(Pe||et||!Ge.parentId),"is--drag-disabled":pe.drag&&Qe,"col--current":se===Ge},Dt?f.isFunction(Dt)?Dt(ve):Dt:"",Z?f.isFunction(Z)?Z(ve):Z:""],style:L?f.isFunction(L)?L(ve):L:null},Me),ke),{key:xe||le||Ee||pe.useKey||pe.drag||X?ct:ut}),[g("div",{class:["vxe-cell",{"c--title":re,"c--tooltip":$e,"c--ellipsis":te}],style:Rt},ft||G&&W?[]:[g("div",{colid:ct,class:"vxe-cell--wrapper"},Ge.renderHeader(ve))]),!W&&dt?g("div",{class:"vxe-cell--col-resizable",onMousedown:Q=>t.handleColResizeMousedownEvent(Q,j,ve),onDblclick:Q=>t.handleColResizeDblclickEvent(Q,ve)}):mb(t)])})},F=(M,G,$)=>{const{fixedType:Y}=e,{headerRowClassName:H,headerRowStyle:j}=n,{isColLoading:B,isDragColMove:xe}=l,Z=i.value,L=d.value;return $.map((ne,Ve)=>{const Le={$table:t,$rowIndex:Ve,fixed:Y,type:OO};return!B&&Z.drag&&L.animation?g(ha,{key:Ve,name:`vxe-header--col-list${xe?"":"-disabled"}`,tag:"tr",class:["vxe-header--row",H?f.isFunction(H)?H(Le):H:""],style:j?f.isFunction(j)?j(Le):j:null},{default:()=>q(M,G,ne,Ve)}):g("tr",{key:Ve,class:["vxe-header--row",H?f.isFunction(H)?H(Le):H:""],style:j?f.isFunction(j)?j(Le):j:null},q(M,G,ne,Ve))})},O=()=>{const{fixedType:M,fixedColumn:G,tableColumn:$}=e,{mouseConfig:Y,showHeaderOverflow:H,spanMethod:j,footerSpanMethod:B}=n,{isGroup:xe,isColLoading:Z,overflowX:L,scrollXLoad:ne,scrollYLoad:Ve,dragCol:Le}=l,{visibleColumn:ee,fullColumnIdData:se}=a,ae=p.value;let le=m.value,Ee=$,Oe=!1;if(xe?Ee=ee:((ne||Ve||H)&&(j||B||(Oe=!0)),!Z&&(M||!L)&&(Ee=ee),M&&Oe&&(Ee=G||[]),le=[Ee]),!M&&!xe&&ne&&Le&&Ee.length>2){const Be=se[Le.id];if(Be){const K=Be._index,pe=Ee[0],J=Ee[Ee.length-1],ie=se[pe.id],Ae=se[J.id];if(ie&&Ae){const _e=ie._index,_=Ae._index;K<_e?(Ee=[Le].concat(Ee),le=[[Le].concat(le[0])].concat(le.slice(1))):K>_&&(Ee=Ee.concat([Le]),le=[le[0].concat([Le])].concat(le.slice(1)))}}}return g("div",{ref:v,class:["vxe-table--header-wrapper",M?`fixed-${M}--wrapper`:"body--wrapper"],xid:r},[g("div",{ref:x,class:"vxe-table--header-inner-wrapper",onScroll(Be){t.triggerHeaderScrollEvent(Be,M)}},[M?mb(t):g("div",{ref:D,class:"vxe-body--x-space"}),g("table",{ref:S,class:"vxe-table--header",xid:r,cellspacing:0,cellpadding:0,border:0},[g("colgroup",{ref:k},Ee.map((Be,K)=>g("col",{name:Be.id,key:K,style:{width:`${Be.renderWidth}px`}}))),g("thead",{ref:E},F(xe,Oe,le))]),Y&&ae.area?g("div",{class:"vxe-table--cell-area"},[g("span",{class:"vxe-table--cell-main-area"}),g("span",{class:"vxe-table--cell-copy-area"}),g("span",{class:"vxe-table--cell-extend-area"}),g("span",{class:"vxe-table--cell-multi-area"}),g("span",{class:"vxe-table--cell-active-area"}),g("span",{class:"vxe-table--cell-col-status-area"})]):mb(t)])])};return er(()=>e.tableColumn,V),qn(()=>{ye(()=>{const{fixedType:M}=e,{internalData:G}=t,{elemStore:$}=G,Y=`${M||"main"}-header-`;$[`${Y}wrapper`]=v,$[`${Y}scroll`]=x,$[`${Y}table`]=S,$[`${Y}colgroup`]=k,$[`${Y}list`]=E,$[`${Y}xSpace`]=D,$[`${Y}repair`]=P,V()})}),Ao(()=>{const{fixedType:M}=e,{internalData:G}=t,{elemStore:$}=G,Y=`${M||"main"}-header-`;$[`${Y}wrapper`]=null,$[`${Y}scroll`]=null,$[`${Y}table`]=null,$[`${Y}colgroup`]=null,$[`${Y}list`]=null,$[`${Y}xSpace`]=null,$[`${Y}repair`]=null}),O}}),{renderer:zN,renderEmptyElement:MO}=Se,IO="footer";function BN(e,t,r){for(let n=0;n<e.length;n++){const{row:l,col:a,rowspan:i,colspan:d}=e[n];if(a>-1&&l>-1&&i&&d){if(l===t&&a===r)return{rowspan:i,colspan:d};if(t>=l&&t<l+i&&r>=a&&r<a+d)return{rowspan:0,colspan:0}}}}const FO=Sr({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const t=or("$xeTable",{}),{xID:r,props:n,reactData:l,internalData:a}=t,{computeTooltipOpts:i,computeColumnOpts:d,computeColumnDragOpts:u,computeCellOpts:p,computeFooterCellOpts:o,computeDefaultRowHeight:c,computeResizableOpts:m}=t.getComputeMaps(),v=it(),x=it(),S=it(),k=it(),E=it(),D=it(),P=(F,O,M,G,$)=>{const Y=t.xeGrid,{fixedType:H}=e,{resizable:j,border:B,footerCellClassName:xe,footerCellStyle:Z,footerAlign:L,footerSpanMethod:ne,align:Ve,columnKey:Le,showFooterOverflow:ee}=n,{scrollXLoad:se,scrollYLoad:ae,overflowX:le,currentColumn:Ee,mergeFooterList:Oe}=l,{fullColumnIdData:Be,scrollXStore:K}=a,pe=i.value,J=m.value,{isAllColumnDrag:ie}=J,Ae=d.value,_e=c.value,_=p.value,Fe=o.value,Pe=TF(Fe.height||_.height)||_e;return F.map((et,Ge)=>{const{type:ut,showFooterOverflow:gt,footerAlign:_t,align:qt,footerClassName:Ht,editRender:Tt,cellRender:Dt}=et,Lt=et.id,wt=Be[Lt]||{},ct=Tt||Dt,bt=ct?zN.get(ct.name):null,St=pe.showAll,Ye=et.children&&et.children.length,X=H?et.fixed!==H&&!Ye:et.fixed&&le,W=f.isBoolean(Fe.padding)?Fe.padding:_.padding,ge=f.eqNull(gt)?ee:gt,be=_t||(bt?bt.tableFooterCellAlign:"")||L||qt||(bt?bt.tableCellAlign:"")||Ve;let U=ge==="ellipsis";const te=ge==="title",re=ge===!0||ge==="tooltip";let $e=te||re||U;const qe=f.isBoolean(et.resizable)?et.resizable:Ae.resizable||j,Je={colid:Lt},lt={},Ct=wt.index,rt=wt._index,Me={$table:t,$grid:Y,row:M,rowIndex:$,_rowIndex:$,$rowIndex:G,column:et,columnIndex:Ct,$columnIndex:Ge,_columnIndex:rt,itemIndex:rt,items:M,fixed:H,type:IO,data:O};se&&!$e&&(U=$e=!0),(te||re||St)&&(lt.onMouseenter=Ke=>{te?xx(Ke.currentTarget,et):(re||St)&&t.triggerFooterTooltipEvent(Ke,Me)}),(re||St)&&(lt.onMouseleave=Ke=>{(re||St)&&t.handleTargetLeaveEvent(Ke)}),lt.onClick=Ke=>{t.dispatchEvent("footer-cell-click",Object.assign({cell:Ke.currentTarget},Me),Ke)},lt.onDblclick=Ke=>{t.dispatchEvent("footer-cell-dblclick",Object.assign({cell:Ke.currentTarget},Me),Ke)};let ke=!1;if(Oe.length){const Ke=BN(Oe,$,rt);if(Ke){const{rowspan:ft,colspan:Rt}=Ke;if(!ft||!Rt)return null;ft>1&&(ke=!0,Je.rowspan=ft),Rt>1&&(ke=!0,Je.colspan=Rt)}}else if(ne){const{rowspan:Ke=1,colspan:ft=1}=ne(Me)||{};if(!Ke||!ft)return null;Ke>1&&(Je.rowspan=Ke),ft>1&&(Je.colspan=ft)}const Ue=Ge===F.length-1,Qe=!et.resizeWidth&&(et.minWidth==="auto"||et.width==="auto");let Xe=!1;ke||se&&!et.fixed&&(rt<K.visibleStartIndex-K.preloadSize||rt>K.visibleEndIndex+K.preloadSize)&&(Xe=!0);const dt={};return $e?dt.height=`${Pe}px`:dt.minHeight=`${Pe}px`,g("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",et.id,{[`col--${be}`]:be,[`col--${ut}`]:ut,"col--last":Ue,"fixed--width":!Qe,"fixed--hidden":X,"is--padding":W,"col--ellipsis":$e,"col--current":Ee===et},Qa(Ht,Me),Qa(xe,Me)]},Je),{style:Z?f.isFunction(Z)?Z(Me):Z:null}),lt),{key:Le||se||ae||Ae.useKey||Ae.drag?et.id:Ge}),[g("div",{class:["vxe-cell",{"c--title":te,"c--tooltip":re,"c--ellipsis":U}],style:dt},Xe?[]:[g("div",{colid:Lt,class:"vxe-cell--wrapper"},et.renderFooter(Me))]),!X&&qe&&ie?g("div",{class:["vxe-cell--col-resizable",{"is--line":!B||B==="none"}],onMousedown:Ke=>t.handleColResizeMousedownEvent(Ke,H,Me),onDblclick:Ke=>t.handleColResizeDblclickEvent(Ke,Me)}):MO(t)])})},V=F=>{const{fixedType:O,footerTableData:M}=e,{footerRowClassName:G,footerRowStyle:$}=n,{isColLoading:Y,isDragColMove:H}=l,j=d.value,B=u.value;return M.map((xe,Z)=>{const L=Z,ne={$table:t,row:xe,_rowIndex:L,$rowIndex:Z,fixed:O,type:IO};return!Y&&j.drag&&B.animation?g(ha,{key:Z,name:`vxe-header--col-list${H?"":"-disabled"}`,tag:"tr",class:["vxe-footer--row",G?f.isFunction(G)?G(ne):G:""],style:$?f.isFunction($)?$(ne):$:null},{default:()=>P(F,M,xe,Z,L)}):g("tr",{key:Z,class:["vxe-footer--row",G?f.isFunction(G)?G(ne):G:""],style:$?f.isFunction($)?$(ne):$:null},P(F,M,xe,Z,L))})},q=()=>{const{fixedType:F,fixedColumn:O,tableColumn:M}=e,{spanMethod:G,footerSpanMethod:$,showFooterOverflow:Y}=n,{visibleColumn:H,fullColumnIdData:j}=a,{isGroup:B,isColLoading:xe,overflowX:Z,scrollXLoad:L,scrollYLoad:ne,dragCol:Ve}=l;let Le=M,ee=!1;if((L||ne||Y)&&(G||$||(ee=!0)),!xe&&(F||!Z)&&(Le=H),F&&ee&&(Le=O||[]),!F&&!B&&L&&Ve&&Le.length>2){const se=j[Ve.id];if(se){const ae=se._index,le=Le[0],Ee=Le[Le.length-1],Oe=j[le.id],Be=j[Ee.id];if(Oe&&Be){const K=Oe._index,pe=Be._index;ae<K?Le=[Ve].concat(Le):ae>pe&&(Le=Le.concat([Ve]))}}}return g("div",{ref:v,class:["vxe-table--footer-wrapper",F?`fixed-${F}--wrapper`:"body--wrapper"],xid:r},[g("div",{ref:x,class:"vxe-table--footer-inner-wrapper",onScroll(se){t.triggerFooterScrollEvent(se,F)}},[F?MO(t):g("div",{ref:D,class:"vxe-body--x-space"}),g("table",{ref:S,class:"vxe-table--footer",xid:r,cellspacing:0,cellpadding:0,border:0},[g("colgroup",{ref:k},Le.map((se,ae)=>g("col",{name:se.id,key:ae,style:{width:`${se.renderWidth}px`}}))),g("tfoot",{ref:E},V(Le))])])])};return qn(()=>{ye(()=>{const{fixedType:F}=e,{elemStore:O}=a,M=`${F||"main"}-footer-`;O[`${M}wrapper`]=v,O[`${M}scroll`]=x,O[`${M}table`]=S,O[`${M}colgroup`]=k,O[`${M}list`]=E,O[`${M}xSpace`]=D})}),Ao(()=>{const{fixedType:F}=e,{elemStore:O}=a,M=`${F||"main"}-footer-`;O[`${M}wrapper`]=null,O[`${M}scroll`]=null,O[`${M}table`]=null,O[`${M}colgroup`]=null,O[`${M}list`]=null,O[`${M}xSpace`]=null}),q}}),{getConfig:Yr}=Se,ac={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>Yr().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>Yr().table.resizable},stripe:{type:Boolean,default:()=>Yr().table.stripe},border:{type:[Boolean,String],default:()=>Yr().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>Yr().table.round},size:{type:String,default:()=>Yr().table.size||Yr().size},fit:{type:Boolean,default:()=>Yr().table.fit},loading:Boolean,align:{type:String,default:()=>Yr().table.align},headerAlign:{type:String,default:()=>Yr().table.headerAlign},footerAlign:{type:String,default:()=>Yr().table.footerAlign},showHeader:{type:Boolean,default:()=>Yr().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>Yr().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>Yr().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>Yr().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>Yr().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>Yr().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>Yr().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>Yr().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>Yr().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>Yr().table.emptyText},keepSource:{type:Boolean,default:()=>Yr().table.keepSource},autoResize:{type:Boolean,default:()=>Yr().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>Yr().table.animat},delayHover:{type:Number,default:()=>Yr().table.delayHover},params:Object},yx=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:Mr,getIcon:rn,renderEmptyElement:Fs}=Se,WN=Sr({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const t=Se.getComponent("VxeModal"),r=Se.getComponent("VxeDrawer"),n=Se.getComponent("VxeButton"),l=Se.getComponent("VxeNumberInput"),a=Se.getComponent("VxeRadioGroup"),i=or("$xeTable",{}),{props:d,reactData:u,internalData:p}=i,{computeCustomOpts:o,computeColumnDragOpts:c,computeColumnOpts:m,computeIsMaxFixedColumn:v,computeResizableOpts:x}=i.getComputeMaps(),S=it(),k=it(),E=it(),D=it(),P=it();let V,q=!1,F;const O=J=>{const{customStore:ie}=e;ie.activeWrapper=!0,i.customOpenEvent(J)},M=J=>{const{customStore:ie}=e;ie.activeWrapper=!1,setTimeout(()=>{!ie.activeBtn&&!ie.activeWrapper&&i.customCloseEvent(J)},300)},G=({$event:J})=>{u.isCustomStatus=!0,i.saveCustom(),i.closeCustom(),i.emitCustomEvent("confirm",J)},$=({$event:J})=>{i.closeCustom(),i.emitCustomEvent("close",J)},Y=({$event:J})=>{i.cancelCustom(),i.closeCustom(),i.emitCustomEvent("cancel",J)},H=J=>{i.resetCustom(!0),i.closeCustom(),i.emitCustomEvent("reset",J)},j=({$event:J})=>{Se.modal?Se.modal.confirm({content:Mr("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(ie=>{ie==="confirm"&&H(J)}):H(J)},B=J=>{const{customColumnList:ie}=u,Ae=f.findTree(ie,_e=>_e===J);if(Ae&&Ae.parent){const{parent:_e}=Ae;_e.children&&_e.children.length&&(_e.renderVisible=_e.children.every(_=>_.renderVisible),_e.halfVisible=!_e.renderVisible&&_e.children.some(_=>_.renderVisible||_.halfVisible),B(_e))}},xe=J=>{const ie=!J.renderVisible;o.value.immediate?(f.eachTree([J],_e=>{_e.visible=ie,_e.renderVisible=ie,_e.halfVisible=!1}),u.isCustomStatus=!0,i.handleCustom(),i.saveCustomStore("update:visible")):f.eachTree([J],_e=>{_e.renderVisible=ie,_e.halfVisible=!1}),B(J),i.checkCustomStatus()},Z=J=>{o.value.immediate&&J.renderResizeWidth!==J.renderWidth&&(J.resizeWidth=J.renderResizeWidth,J.renderWidth=J.renderResizeWidth,u.isCustomStatus=!0,i.handleCustom(),i.saveCustomStore("update:width"))},L=(J,ie)=>{const Ae=v.value;o.value.immediate?(J.renderFixed===ie?f.eachTree([J],_=>{_.fixed="",_.renderFixed=""}):(!Ae||J.renderFixed)&&f.eachTree([J],_=>{_.fixed=ie,_.renderFixed=ie}),u.isCustomStatus=!0,i.handleCustom(),i.saveCustomStore("update:fixed")):J.renderFixed===ie?f.eachTree([J],_=>{_.renderFixed=""}):(!Ae||J.renderFixed)&&f.eachTree([J],_=>{_.renderFixed=ie})},ne=()=>{i.toggleCustomAllCheckbox()},Ve=(J,ie,Ae,_e)=>{const _=k.value;if(!_)return;const Fe=_.getBoundingClientRect();if(ie){const et=E.value;if(et)if(Ae){const Ge=ie.getBoundingClientRect();et.style.display="block",et.style.top=`${Math.max(1,Ge.y+_.scrollTop-Fe.y)}px`,et.style.height=`${Ge.height}px`,et.style.width=`${Ge.width}px`,et.setAttribute("drag-pos",_e),et.setAttribute("drag-to-child",q?"y":"n")}else et.style.display=""}const Pe=D.value;Pe&&(Pe.style.display="block",Pe.style.top=`${Math.min(_.clientHeight+_.scrollTop-Pe.clientHeight,J.clientY+_.scrollTop-Fe.y)}px`,Pe.style.left=`${Math.min(_.clientWidth+_.scrollLeft-Pe.clientWidth,J.clientX+_.scrollLeft-Fe.x)}px`,Pe.setAttribute("drag-status",Ae?q?"sub":"normal":"disabled"))},Le=()=>{const J=D.value,ie=E.value;J&&(J.style.display=""),ie&&(ie.style.display="")},ee=J=>{const _=J.currentTarget.parentElement.parentElement.parentElement,Fe=_.getAttribute("colid"),Pe=i.getColumnById(Fe);_.draggable=!0,P.value=Pe,Go(_,"active--drag-origin")},se=J=>{const _=J.currentTarget.parentElement.parentElement.parentElement;Le(),_.draggable=!1,P.value=null,Zn(_,"active--drag-origin")},ae=J=>{J.dataTransfer&&J.dataTransfer.setDragImage(kb(),0,0)},le=J=>{const{mouseConfig:ie}=d,{customColumnList:Ae}=u,{collectColumn:_e}=p,_=o.value,{immediate:Fe}=_,Pe=J.currentTarget,et=P.value,Ge=c.value,{isCrossDrag:ut,isSelfToChildDrag:gt,isToChildDrag:_t,dragEndMethod:qt}=Ge,Ht=F==="bottom"?1:0;if(V&&et&&V!==et){const Tt=et,Dt=V;Promise.resolve(qt?qt({oldColumn:Tt,newColumn:Dt,dragColumn:Tt,dragPos:F,dragToChild:!!q,offsetIndex:Ht}):!0).then(Lt=>{if(!Lt)return;let wt=-1,ct=-1;const bt={};f.eachTree([Tt],Ye=>{bt[Ye.id]=Ye});let St=!1;if(Fe){if(Tt.parentId&&Dt.parentId){if(!ut)return;if(bt[Dt.id]&&(St=!0,!(ut&&gt))){Se.modal&&Se.modal.message({status:"error",content:Mr("vxe.error.treeDragChild")});return}}else if(Tt.parentId){if(!ut)return}else if(Dt.parentId){if(!ut)return;if(bt[Dt.id]&&(St=!0,!(ut&&gt))){Se.modal&&Se.modal.message({status:"error",content:Mr("vxe.error.treeDragChild")});return}}const Ye=f.findTree(_e,W=>W.id===Tt.id);if(St&&ut&&gt){if(Ye){const{items:W,index:ge}=Ye,be=Tt.children||[];be.forEach(U=>{U.parentId=Tt.parentId}),W.splice(ge,1,...be),Tt.children=[]}}else if(Ye){const{items:W,index:ge,parent:be}=Ye;W.splice(ge,1),be||(wt=ge)}const X=f.findTree(_e,W=>W.id===Dt.id);if(X){const{items:W,index:ge,parent:be}=X;ut&&_t&&q?(Tt.parentId=Dt.id,Dt.children=(Dt.children||[]).concat([Tt])):(Tt.parentId=Dt.parentId,W.splice(ge+Ht,0,Tt)),be||(ct=ge)}f.eachTree(_e,(W,ge,be,U,te)=>{if(!te){const re=ge+1;W.renderSortNumber=re}})}else wt=f.findIndexOf(Ae,Ye=>Ye.id===Tt.id),Ae.splice(wt,1),ct=f.findIndexOf(Ae,Ye=>Ye.id===Dt.id),Ae.splice(ct+Ht,0,Tt);u.isDragColMove=!0,ie&&(i.clearSelected&&i.clearSelected(),i.clearCellAreas&&(i.clearCellAreas(),i.clearCopyCellArea())),i.dispatchEvent("column-dragend",{oldColumn:Tt,newColumn:Dt,dragColumn:Tt,dragPos:F,offsetIndex:Ht,_index:{newIndex:ct,oldIndex:wt}},J),Fe&&(u.customColumnList=_e.slice(0),i.handleColDragSwapColumn())}).catch(()=>{})}Le(),P.value=null,Pe.draggable=!1,Pe.removeAttribute("drag-pos"),Zn(Pe,"active--drag-target"),Zn(Pe,"active--drag-origin")},Ee=J=>{const ie=o.value,{immediate:Ae}=ie,_e=c.value,{isCrossDrag:_,isToChildDrag:Fe}=_e,Pe=J.currentTarget,et=J.ctrlKey,Ge=Pe.getAttribute("colid"),ut=i.getColumnById(Ge),gt=P.value;if(ut&&(_||ut.level===1)){J.preventDefault();const qt=J.clientY-Pe.getBoundingClientRect().y<Pe.clientHeight/2?"top":"bottom";if(gt&&gt.id===ut.id||!_&&ut.level>1||!Ae&&ut.level>1||ut.renderFixed){Ve(J,Pe,!1,qt);return}q=!!(_&&Fe&&et&&Ae),V=ut,F=qt,Ve(J,Pe,!0,qt)}},Oe=()=>{const J=P.value,ie=c.value;return g("div",{},[g("div",{ref:E,class:["vxe-table-custom-popup--drag-line",{"is--guides":ie.showGuidesStatus}]}),g("div",{ref:D,class:"vxe-table-custom-popup--drag-tip"},[g("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[g("div",{class:"vxe-table-custom-popup--drag-tip-status"},[g("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",rn().TABLE_DRAG_STATUS_ROW]}),g("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",rn().TABLE_DRAG_STATUS_SUB_ROW]}),g("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",rn().TABLE_DRAG_DISABLED]})]),g("div",{class:"vxe-table-custom-popup--drag-tip-content"},Mr("vxe.custom.cstmDragTarget",[J&&J.type!=="html"?J.getTitle():""]))])])])},Be=()=>{const J=i.xeGrid,{customStore:ie}=e,{isCustomStatus:Ae,customColumnList:_e}=u,_=o.value,{immediate:Fe}=_,Pe=c.value,{maxHeight:et}=ie,{checkMethod:Ge,visibleMethod:ut,allowVisible:gt,allowSort:_t,allowFixed:qt,trigger:Ht,placement:Tt}=_,Dt=v.value,{isCrossDrag:Lt}=Pe,wt=_.slots||{},ct=wt.header,bt=wt.top,St=wt.bottom,Ye=wt.default,X=wt.footer,W=[],ge={},be=ie.isAll,U=ie.isIndeterminate;Ht==="hover"&&(ge.onMouseenter=O,ge.onMouseleave=M);const te={$table:i,$grid:J,columns:_e,isAllChecked:be,isAllIndeterminate:U,isCustomStatus:Ae};return f.eachTree(_e,(re,$e,qe,Je,lt)=>{if(ut?ut({column:re}):!0){const rt=re.renderVisible,ve=re.halfVisible,Me=re.children&&re.children.length,ke=nn(re.getTitle(),1),Ue=Ge?!Ge({column:re}):!1,Qe=!rt;W.push(g("li",{key:re.id,colid:re.id,class:["vxe-table-custom--option",`level--${re.level}`,{"is--hidden":Ue||Qe,"is--group":Me}],onDragstart:ae,onDragend:le,onDragover:Ee},[gt?g("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":rt,"is--indeterminate":ve,"is--disabled":Ue}],title:Mr("vxe.custom.setting.colVisible"),onClick:()=>{Ue||xe(re)}},[g("span",{class:["vxe-checkbox--icon",ve?rn().TABLE_CHECKBOX_INDETERMINATE:rt?rn().TABLE_CHECKBOX_CHECKED:rn().TABLE_CHECKBOX_UNCHECKED]})]):Ze(),g("div",{class:"vxe-table-custom--name-option"},[_t&&(Lt&&Fe||re.level===1)?g("div",{class:"vxe-table-custom--sort-option"},[g("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":Ue||Qe||re.renderFixed}],title:Mr("vxe.custom.setting.sortHelpTip")},Ue||Qe||re.renderFixed?{}:{onMousedown:ee,onMouseup:se}),[g("i",{class:rn().TABLE_CUSTOM_SORT})])]):Ze(),re.type==="html"?g("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:ke}):g("div",{key:"0",class:"vxe-table-custom--checkbox-label"},ke)]),!lt&&qt?g("div",{class:"vxe-table-custom--fixed-option"},[n?g(n,{mode:"text",icon:re.renderFixed==="left"?rn().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:rn().TOOLBAR_TOOLS_FIXED_LEFT,status:re.renderFixed==="left"?"primary":"",disabled:Ue||Qe||Dt&&!re.renderFixed,title:Mr(re.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{L(re,"left")}}):Ze(),n?g(n,{mode:"text",icon:re.renderFixed==="right"?rn().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:rn().TOOLBAR_TOOLS_FIXED_RIGHT,status:re.renderFixed==="right"?"primary":"",disabled:Ue||Qe||Dt&&!re.renderFixed,title:Mr(re.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{L(re,"right")}}):Ze()]):Ze()]))}}),g("div",{ref:S,key:"simple",class:["vxe-table-custom-wrapper",`placement--${Tt}`,{"is--active":ie.visible}],style:et&&!["left","right"].includes(Tt)?{maxHeight:`${et}px`}:{}},ie.visible?[g("div",{class:"vxe-table-custom--header"},ct?i.callSlot(ct,te):[g("ul",{class:"vxe-table-custom--panel-list"},[g("li",{class:"vxe-table-custom--option"},[gt?g("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":be,"is--indeterminate":U}],title:Mr("vxe.table.allTitle"),onClick:ne},[g("span",{class:["vxe-checkbox--icon",U?rn().TABLE_CHECKBOX_INDETERMINATE:be?rn().TABLE_CHECKBOX_CHECKED:rn().TABLE_CHECKBOX_UNCHECKED]}),g("span",{class:"vxe-checkbox--label"},Mr("vxe.toolbar.customAll"))]):g("span",{class:"vxe-checkbox--label"},Mr("vxe.table.customTitle"))])])]),g("div",{ref:k,class:"vxe-table-custom--body"},[bt?g("div",{class:"vxe-table-custom--panel-top"},i.callSlot(bt,te)):Fs(i),Ye?g("div",{class:"vxe-table-custom--panel-body"},i.callSlot(Ye,te)):g(ha,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},ge),{default:()=>W}),St?g("div",{class:"vxe-table-custom--panel-bottom"},i.callSlot(St,te)):Fs(i),Oe()]),_.showFooter?g("div",{class:"vxe-table-custom--footer"},X?i.callSlot(X,te):[g("div",{class:"vxe-table-custom--footer-buttons"},[n?g(n,{mode:"text",content:_.resetButtonText||Mr("vxe.table.customRestore"),disabled:!Ae,onClick:j}):Ze(),Fe?n?g(n,{mode:"text",content:_.closeButtonText||Mr("vxe.table.customClose"),onClick:$}):Ze():n?g(n,{mode:"text",content:_.cancelButtonText||Mr("vxe.table.customCancel"),onClick:Y}):Ze(),Fe?Ze():n?g(n,{mode:"text",status:"primary",content:_.confirmButtonText||Mr("vxe.table.customConfirm"),onClick:G}):Ze()])]):null]:[])},K=()=>{const J=i.xeGrid,{customStore:ie}=e,{resizable:Ae}=d,{isCustomStatus:_e,customColumnList:_}=u,Fe=o.value,{immediate:Pe}=Fe,et=c.value,{mode:Ge,modalOptions:ut,drawerOptions:gt,allowVisible:_t,allowSort:qt,allowFixed:Ht,allowResizable:Tt,checkMethod:Dt,visibleMethod:Lt}=Fe,wt=m.value,{maxFixedSize:ct}=wt,bt=x.value,{minWidth:St,maxWidth:Ye}=bt,X=Object.assign({},ut),W=Object.assign({},gt),ge=v.value,{isCrossDrag:be}=et,U=Fe.slots||{},te=U.header,re=U.top,$e=U.bottom,qe=U.default,Je=U.footer,lt=[],Ct=ie.isAll,rt=ie.isIndeterminate,ve={$table:i,$grid:J,columns:_,isAllChecked:Ct,isAllIndeterminate:rt,isCustomStatus:_e};f.eachTree(_,(ke,Ue,Qe,Xe,dt)=>{if(Lt?Lt({column:ke}):!0){let ft=0,Rt=0;if(Tt){const pt={$table:i,column:ke,columnIndex:Ue,$columnIndex:Ue,$rowIndex:-1};St&&(ft=f.toNumber(f.isFunction(St)?St(pt):St)),Ye&&(Rt=f.toNumber(f.isFunction(Ye)?Ye(pt):Ye))}const Q=ke.renderVisible,Re=ke.halfVisible,nt=nn(ke.getTitle(),1),vt=ke.children&&ke.children.length,st=Dt?!Dt({column:ke}):!1,It=!Q;lt.push(g("tr",{key:ke.id,colid:ke.id,class:[`vxe-table-custom-popup--row level--${ke.level}`,{"is--group":vt}],onDragstart:ae,onDragend:le,onDragover:Ee},[_t?g("td",{class:"vxe-table-custom-popup--column-item col--visible"},[g("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Q,"is--indeterminate":Re,"is--disabled":st}],title:Mr("vxe.custom.setting.colVisible"),onClick:()=>{st||xe(ke)}},[g("span",{class:["vxe-checkbox--icon",Re?rn().TABLE_CHECKBOX_INDETERMINATE:Q?rn().TABLE_CHECKBOX_CHECKED:rn().TABLE_CHECKBOX_UNCHECKED]})])]):Ze(),g("td",{class:"vxe-table-custom-popup--column-item col--name"},[g("div",{class:"vxe-table-custom-popup--name"},[qt?be&&Pe||ke.level===1?g("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":st||It||ke.renderFixed}],title:Mr("vxe.custom.setting.sortHelpTip")},st||It||ke.renderFixed?{}:{onMousedown:ee,onMouseup:se}),[g("i",{class:rn().TABLE_CUSTOM_SORT})]):g("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):Ze(),ke.type==="html"?g("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:nt}):g("div",{key:"0",class:"vxe-table-custom-popup--title",title:nt},nt)])]),Tt?g("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[ke.children&&ke.children.length||!(f.isBoolean(ke.resizable)?ke.resizable:wt.resizable||Ae)?g("span","-"):l?g(l,{type:"integer",immediate:!1,disabled:st||It,modelValue:ke.renderResizeWidth,min:ft||void 0,max:Rt||void 0,"onUpdate:modelValue"(pt){const Pt=Math.max(0,Number(pt));ke.renderResizeWidth=Pt},onChange(){Z(ke)}}):Ze()]):Ze(),Ht?g("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[dt?g("span","-"):a?g(a,{modelValue:ke.renderFixed||"",type:"button",size:"mini",disabled:st||It,options:[{label:Mr("vxe.custom.setting.fixedLeft"),value:"left",disabled:st||It||ge},{label:Mr("vxe.custom.setting.fixedUnset"),value:"",disabled:st||It},{label:Mr("vxe.custom.setting.fixedRight"),value:"right",disabled:st||It||ge}],"onUpdate:modelValue"(pt){L(ke,pt)}}):Ze()]):Ze()]))}});const Me={default:()=>qe?i.callSlot(qe,ve):g("div",{ref:k,class:"vxe-table-custom-popup--body"},[re?g("div",{class:"vxe-table-custom-popup--table-top"},i.callSlot(re,ve)):Fs(i),g("div",{class:"vxe-table-custom-popup--table-wrapper"},[g("table",{},[g("colgroup",{},[_t?g("col",{class:"vxe-table-custom-popup--table-col-seq"}):Ze(),g("col",{class:"vxe-table-custom-popup--table-col-title"}),Tt?g("col",{class:"vxe-table-custom-popup--table-col-width"}):Ze(),Ht?g("col",{class:"vxe-table-custom-popup--table-col-fixed"}):Ze()]),g("thead",{},[g("tr",{},[_t?g("th",{},[g("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Ct,"is--indeterminate":rt}],title:Mr("vxe.table.allTitle"),onClick:ne},[g("span",{class:["vxe-checkbox--icon",rt?rn().TABLE_CHECKBOX_INDETERMINATE:Ct?rn().TABLE_CHECKBOX_CHECKED:rn().TABLE_CHECKBOX_UNCHECKED]}),g("span",{class:"vxe-checkbox--label"},Mr("vxe.toolbar.customAll"))])]):Ze(),g("th",{},Mr("vxe.custom.setting.colTitle")),Tt?g("th",{},Mr("vxe.custom.setting.colResizable")):Ze(),Ht?g("th",{},Mr(`vxe.custom.setting.${ct?"colFixedMax":"colFixed"}`,[ct])):Ze()])]),g(ha,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>lt})])]),$e?g("div",{class:"vxe-table-custom-popup--table-bottom"},i.callSlot($e,ve)):Fs(i),Oe()]),footer:()=>Je?i.callSlot(Je,ve):g("div",{class:"vxe-table-custom-popup--footer"},[n?g(n,{content:Fe.resetButtonText||Mr("vxe.custom.cstmRestore"),disabled:!_e,onClick:j}):Ze(),Pe?n?g(n,{content:Fe.closeButtonText||Mr("vxe.table.customClose"),onClick:$}):Ze():n?g(n,{content:Fe.cancelButtonText||Mr("vxe.table.customCancel"),onClick:Y}):Ze(),Pe?Ze():n?g(n,{status:"primary",content:Fe.confirmButtonText||Mr("vxe.custom.cstmConfirm"),onClick:G}):Ze()])};return te&&(Me.header=()=>i.callSlot(te,ve)),Ge==="drawer"?r?g(r,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",W.className||""].join(" "),modelValue:ie.visible,title:W.title||Mr("vxe.custom.cstmTitle"),width:W.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:W.position,resize:!!W.resize,escClosable:!!W.escClosable,maskClosable:!!W.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(ke){ie.visible=ke}},Me):Ze():t?g(t,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",X.className||""].join(" "),modelValue:ie.visible,title:X.title||Mr("vxe.custom.cstmTitle"),width:X.width||Math.min(880,document.documentElement.clientWidth),minWidth:X.minWidth||700,height:X.height||Math.min(680,document.documentElement.clientHeight),minHeight:X.minHeight||400,showZoom:X.showZoom,showMaximize:X.showMaximize,showMinimize:X.showMinimize,mask:X.mask,lockView:X.lockView,resize:X.resize,escClosable:!!X.escClosable,maskClosable:!!X.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(ke){ie.visible=ke}},Me):Ze()},pe=()=>{const J=o.value;return["modal","drawer","popup"].includes(`${J.mode}`)?K():Be()};return ye(()=>{const J=o.value,{mode:ie}=J;t||Bt("vxe.error.reqComp",["vxe-modal"]),!r&&ie==="drawer"&&Bt("vxe.error.reqComp",["vxe-drawer"]),n||Bt("vxe.error.reqComp",["vxe-button"]),l||Bt("vxe.error.reqComp",["vxe-number-input"]),a||Bt("vxe.error.reqComp",["vxe-radio-group"])}),pe}}),{getI18n:ks,getIcon:Pi,renderer:kO}=Se,GN=Sr({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const t=or("$xeTable",{}),{reactData:r,internalData:n,getComputeMaps:l}=t,{computeFilterOpts:a}=l(),i=ue(()=>{const{filterStore:D}=e;return D&&D.options.some(P=>P.checked)}),d=(D,P)=>{const{filterStore:V}=e;V.options.forEach(q=>{q._checked=P,q.checked=P}),V.isAllSelected=P,V.isIndeterminate=!1},u=D=>{t.handleFilterConfirmFilter(D)},p=(D,P,V)=>{t.handleFilterChangeRadioOption(D,P,V)},o=D=>{t.handleFilterResetFilter(D)},c=(D,P,V)=>{t.handleFilterChangeMultipleOption(D,P,V)},m=(D,P,V)=>{t.handleFilterChangeOption(D,P,V)},v=(D,P)=>{const{filterStore:V}=e;V.multiple?d(D,P):o(D)},x={changeRadioOption:p,changeMultipleOption:c,changeAllOption:v,changeOption:m,confirmFilter:u,resetFilter:o},S=(D,P)=>{const{filterStore:V}=e,{column:q,multiple:F,maxHeight:O}=V,M=q?q.slots:null,G=M?M.filter:null,$=Object.assign({},n._currFilterParams,{$panel:x,$table:t}),Y=P?P.renderTableFilter||P.renderFilter:null;if(G)return[g("div",{class:"vxe-table--filter-template",style:O?{maxHeight:`${O}px`}:{}},t.callSlot(G,$))];if(Y)return[g("div",{class:"vxe-table--filter-template",style:O?{maxHeight:`${O}px`}:{}},Rn(Y(D,$)))];const H=F?V.isAllSelected:!V.options.some(B=>B._checked),j=F&&V.isIndeterminate;return[g("ul",{class:"vxe-table--filter-header"},[g("li",{class:["vxe-table--filter-option",{"is--checked":H,"is--indeterminate":j}],title:ks(F?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:B=>{v(B,!V.isAllSelected)}},(F?[g("span",{class:["vxe-checkbox--icon",j?Pi().TABLE_CHECKBOX_INDETERMINATE:H?Pi().TABLE_CHECKBOX_CHECKED:Pi().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([g("span",{class:"vxe-checkbox--label"},ks("vxe.table.allFilter"))]))]),g("ul",{class:"vxe-table--filter-body",style:O?{maxHeight:`${O}px`}:{}},V.options.map(B=>{const xe=B._checked;return g("li",{class:["vxe-table--filter-option",{"is--checked":B._checked}],title:B.label,onClick:Z=>{m(Z,!B._checked,B)}},(F?[g("span",{class:["vxe-checkbox--icon",xe?Pi().TABLE_CHECKBOX_CHECKED:Pi().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([g("span",{class:"vxe-checkbox--label"},nn(B.label,1))]))}))]},k=()=>{const{filterStore:D}=e,{column:P,multiple:V}=D,q=a.value,F=i.value,{filterRender:O}=P,M=nr(O)?kO.get(O.name):null,G=!F&&!D.isAllSelected&&!D.isIndeterminate;return V&&(!M||!(M.showTableFilterFooter===!1||M.showFilterFooter===!1||M.isFooter===!1))?[g("div",{class:"vxe-table--filter-footer"},[g("button",{class:{"is--disabled":G},disabled:G,onClick:u},q.confirmButtonText||ks("vxe.table.confirmFilter")),g("button",{onClick:o},q.resetButtonText||ks("vxe.table.resetFilter"))])]:[]};return()=>{const{filterStore:D}=e,{initStore:P}=r,{visible:V,multiple:q,column:F}=D,O=F?F.filterRender:null,M=nr(O)?kO.get(O.name):null,G=M?M.tableFilterClassName||M.filterClassName:"",$=Object.assign({},n._currFilterParams,{$panel:x,$table:t}),Y=a.value,{destroyOnClose:H}=Y;return g("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",Qa(G,$),{"is--animat":t.props.animat,"is--multiple":q,"is--active":V}],style:D.style},P.filter&&(!H||V)&&F?S(O,M).concat(k()):[])}}}),{getI18n:bl,getIcon:UN}=Se,jN=Sr({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=Se.getComponent("VxeModal"),r=Se.getComponent("VxeButton"),n=Se.getComponent("VxeSelect"),l=or("$xeTable",{}),{computeImportOpts:a}=l.getComputeMaps(),i=zr({loading:!1}),d=it(),u=ue(()=>{const{storeData:E}=e;return`${E.filename}.${E.type}`}),p=ue(()=>{const{storeData:E}=e;return E.file&&E.type}),o=ue(()=>{const{storeData:E}=e,{type:D,typeList:P}=E;if(D){const V=f.find(P,q=>D===q.value);return V?V.label:"*.*"}return`*.${P.map(V=>V.value).join(", *.")}`}),c=()=>{const{storeData:E}=e;Object.assign(E,{filename:"",sheetName:"",type:""})},m=()=>{const{storeData:E,defaultOptions:D}=e;l.readFile(D).then(P=>{const{file:V}=P;Object.assign(E,gF(V),{file:V})}).catch(P=>P)},v=()=>{ye(()=>{const E=d.value;E&&E.focus()})},x=()=>{const{storeData:E}=e;E.visible=!1},S=()=>{const{storeData:E,defaultOptions:D}=e,P=a.value;i.loading=!0,l.importByFile(E.file,Object.assign({},P,D)).then(()=>{i.loading=!1,E.visible=!1}).catch(()=>{i.loading=!1})},k=()=>{const E=l.xeGrid,{defaultOptions:D,storeData:P}=e,V=u.value,q=p.value,F=o.value,O=D.slots||{},M=O.top,G=O.bottom,$=O.default,Y=O.footer;return t?g(t,{id:"VXE_IMPORT_MODAL",modelValue:P.visible,title:bl("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:i.loading,"onUpdate:modelValue"(H){P.visible=H},onShow:v},{default:()=>{const H={$table:l,$grid:E,options:D,params:D.params};return g("div",{class:"vxe-table-export--panel"},[M?g("div",{class:"vxe-table-export--panel-top"},l.callSlot(M,H)):Ze(),g("div",{class:"vxe-table-export--panel-body"},$?l.callSlot($,H):[g("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[g("tbody",[g("tr",[g("td",bl("vxe.import.impFile")),g("td",[q?g("div",{class:"vxe-table-export--selected--file",title:V},[g("span",V),g("i",{class:UN().INPUT_CLEAR,onClick:c})]):g("button",{ref:d,class:"vxe-table-export--select--file",onClick:m},bl("vxe.import.impSelect"))])]),g("tr",[g("td",bl("vxe.import.impType")),g("td",F)]),g("tr",[g("td",bl("vxe.import.impMode")),g("td",[n?g(n,{modelValue:D.mode,options:P.modeList,"onUpdate:modelValue"(j){D.mode=j}}):Ze()])])])])]),G?g("div",{class:"vxe-table-export--panel-bottom"},l.callSlot(G,H)):Ze()])},footer(){const H={$table:l,$grid:E,options:D,params:D.params};return g("div",{class:"vxe-table-export--panel-footer"},Y?l.callSlot(Y,H):[g("div",{class:"vxe-table-export--panel-btns"},[r?g(r,{content:bl("vxe.import.impCancel"),onClick:x}):Ze(),r?g(r,{status:"primary",disabled:!q||i.loading,content:bl("vxe.import.impConfirm"),onClick:S}):Ze()])])}}):Ze()};return ye(()=>{t||Bt("vxe.error.reqComp",["vxe-modal"]),r||Bt("vxe.error.reqComp",["vxe-button"]),n||Bt("vxe.error.reqComp",["vxe-select"])}),k}}),{getI18n:Fr,getIcon:Bl}=Se,YN=Sr({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const t=Se.getComponent("VxeModal"),r=Se.getComponent("VxeButton"),n=Se.getComponent("VxeSelect"),l=Se.getComponent("VxeInput"),a=Se.getComponent("VxeCheckbox"),i=or("$xeTable",{}),{computeExportOpts:d,computePrintOpts:u}=i.getComputeMaps(),p=zr({isAll:!1,isIndeterminate:!1,loading:!1}),o=it(),c=it(),m=it(),v=ue(()=>{const{storeData:H}=e;return H.columns.every(j=>j.checked)}),x=ue(()=>{const{defaultOptions:H}=e;return["html","xml","xlsx","pdf"].indexOf(H.type)>-1}),S=ue(()=>{const{storeData:H,defaultOptions:j}=e;return!j.original&&j.mode==="current"&&(H.isPrint||["html","xlsx"].indexOf(j.type)>-1)}),k=ue(()=>{const{defaultOptions:H}=e;return!H.original&&["xlsx"].indexOf(H.type)>-1}),E=H=>{const{storeData:j}=e,B=f.findTree(j.columns,xe=>xe===H);if(B&&B.parent){const{parent:xe}=B;xe.children&&xe.children.length&&(xe.checked=xe.children.every(Z=>Z.checked),xe.halfChecked=!xe.checked&&xe.children.some(Z=>Z.checked||Z.halfChecked),E(xe))}},D=()=>{const{storeData:H}=e,j=H.columns;p.isAll=j.every(B=>B.disabled||B.checked),p.isIndeterminate=!p.isAll&&j.some(B=>!B.disabled&&(B.checked||B.halfChecked))},P=H=>{const j=!H.checked;f.eachTree([H],B=>{B.checked=j,B.halfChecked=!1}),E(H),D()},V=()=>{const{storeData:H}=e,j=!p.isAll;f.eachTree(H.columns,B=>{B.disabled||(B.checked=j,B.halfChecked=!1)}),p.isAll=j,D()},q=()=>{ye(()=>{const H=c.value,j=m.value,B=o.value,xe=H||j||B;xe&&xe.focus()}),D()},F=()=>{const{storeData:H,defaultOptions:j}=e,{hasMerge:B,columns:xe}=H,Z=v.value,L=S.value,ne=f.searchTree(xe,Ve=>Ve.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},j,{columns:ne,isMerge:B&&L&&Z?j.isMerge:!1})},O=()=>{const{storeData:H}=e,j=u.value;H.visible=!1,i.print(Object.assign({},j,F()))},M=()=>{const{storeData:H}=e,j=d.value;p.loading=!0,i.exportData(Object.assign({},j,F())).then(()=>{p.loading=!1,H.visible=!1}).catch(()=>{p.loading=!1})},G=()=>{const{storeData:H}=e;H.visible=!1},$=()=>{const{storeData:H}=e;H.isPrint?O():M()},Y=()=>{const H=i.xeGrid,{defaultOptions:j,storeData:B}=e,{isAll:xe,isIndeterminate:Z}=p,{hasTree:L,hasMerge:ne,isPrint:Ve,hasColgroup:Le,columns:ee}=B,{isHeader:se}=j,ae=[],le=v.value,Ee=x.value,Oe=S.value,Be=k.value,K=j.slots||{},pe=K.top,J=K.bottom,ie=K.default,Ae=K.footer,_e=K.parameter;return f.eachTree(ee,_=>{const Fe=nn(_.getTitle(),1),Pe=_.children&&_.children.length,et=_.checked,Ge=_.halfChecked,ut=_.type==="html";ae.push(g("li",{key:_.id,class:["vxe-table-export--panel-column-option",`level--${_.level}`,{"is--group":Pe,"is--checked":et,"is--indeterminate":Ge,"is--disabled":_.disabled}],title:ut?"":Fe,onClick:()=>{_.disabled||P(_)}},[g("span",{class:["vxe-checkbox--icon",Ge?Bl().TABLE_CHECKBOX_INDETERMINATE:et?Bl().TABLE_CHECKBOX_CHECKED:Bl().TABLE_CHECKBOX_UNCHECKED]}),ut?g("span",{key:"1",class:"vxe-checkbox--label",innerHTML:Fe}):g("span",{key:"0",class:"vxe-checkbox--label"},Fe)]))}),t?g(t,{id:"VXE_EXPORT_MODAL",modelValue:B.visible,title:Fr(Ve?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:p.loading,"onUpdate:modelValue"(_){B.visible=_},onShow:q},{default:()=>{const _={$table:i,$grid:H,options:j,columns:ee,params:j.params},Fe=j.mode==="empty";return g("div",{class:"vxe-table-export--panel"},[pe?g("div",{class:"vxe-table-export--panel-top"},i.callSlot(pe,_)):Ze(),g("div",{class:"vxe-table-export--panel-body"},ie?i.callSlot(ie,_):[g("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[g("tbody",[[Ve?Ze():g("tr",[g("td",Fr("vxe.export.expName")),g("td",[l?g(l,{ref:c,modelValue:j.filename,type:"text",clearable:!0,placeholder:Fr("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Pe){j.filename=Pe}}):Ze()])]),Ve?Ze():g("tr",[g("td",Fr("vxe.export.expType")),g("td",[n?g(n,{modelValue:j.type,options:B.typeList,"onUpdate:modelValue"(Pe){j.type=Pe}}):Ze()])]),Ve||Ee?g("tr",[g("td",Fr("vxe.export.expSheetName")),g("td",[l?g(l,{ref:m,modelValue:j.sheetName,type:"text",clearable:!0,placeholder:Fr("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Pe){j.sheetName=Pe}}):Ze()])]):Ze(),g("tr",[g("td",Fr("vxe.export.expMode")),g("td",[n?g(n,{modelValue:j.mode,options:B.modeList.map(Pe=>({value:Pe.value,label:Fr(Pe.label)})),"onUpdate:modelValue"(Pe){j.mode=Pe}}):Ze()])]),g("tr",[g("td",[Fr("vxe.export.expColumn")]),g("td",[g("div",{class:"vxe-table-export--panel-column"},[g("ul",{class:"vxe-table-export--panel-column-header"},[g("li",{class:["vxe-table-export--panel-column-option",{"is--checked":xe,"is--indeterminate":Z}],title:Fr("vxe.table.allTitle"),onClick:V},[g("span",{class:["vxe-checkbox--icon",Z?Bl().TABLE_CHECKBOX_INDETERMINATE:xe?Bl().TABLE_CHECKBOX_CHECKED:Bl().TABLE_CHECKBOX_UNCHECKED]}),g("span",{class:"vxe-checkbox--label"},Fr("vxe.export.expCurrentColumn"))])]),g("ul",{class:"vxe-table-export--panel-column-body"},ae)])])]),g("tr",[g("td",Fr("vxe.export.expOpts")),_e?g("td",[g("div",{class:"vxe-table-export--panel-option-row"},i.callSlot(_e,_))]):g("td",[g("div",{class:"vxe-table-export--panel-option-row"},[a?g(a,{modelValue:Fe||se,disabled:Fe,title:Fr("vxe.export.expHeaderTitle"),content:Fr("vxe.export.expOptHeader"),"onUpdate:modelValue"(Pe){j.isHeader=Pe}}):Ze(),a?g(a,{modelValue:se?j.isTitle:!1,disabled:!se,title:Fr("vxe.export.expTitleTitle"),content:Fr("vxe.export.expOptTitle"),"onUpdate:modelValue"(Pe){j.isTitle=Pe}}):Ze(),a?g(a,{modelValue:se&&Le&&Oe?j.isColgroup:!1,title:Fr("vxe.export.expColgroupTitle"),disabled:!se||!Le||!Oe,content:Fr("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Pe){j.isColgroup=Pe}}):Ze()]),g("div",{class:"vxe-table-export--panel-option-row"},[a?g(a,{modelValue:Fe?!1:j.original,disabled:Fe,title:Fr("vxe.export.expOriginalTitle"),content:Fr("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Pe){j.original=Pe}}):Ze(),a?g(a,{modelValue:ne&&Oe&&le?j.isMerge:!1,title:Fr("vxe.export.expMergeTitle"),disabled:Fe||!ne||!Oe||!le,content:Fr("vxe.export.expOptMerge"),"onUpdate:modelValue"(Pe){j.isMerge=Pe}}):Ze(),Ve||!a?Ze():g(a,{modelValue:Be?j.useStyle:!1,disabled:!Be,title:Fr("vxe.export.expUseStyleTitle"),content:Fr("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Pe){j.useStyle=Pe}}),a?g(a,{modelValue:L?j.isAllExpand:!1,disabled:Fe||!L,title:Fr("vxe.export.expAllExpandTitle"),content:Fr("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Pe){j.isAllExpand=Pe}}):Ze()]),g("div",{class:"vxe-table-export--panel-option-row"},[a?g(a,{modelValue:j.isFooter,disabled:!B.hasFooter,title:Fr("vxe.export.expFooterTitle"),content:Fr("vxe.export.expOptFooter"),"onUpdate:modelValue"(Pe){j.isFooter=Pe}}):Ze()])])])]])])]),J?g("div",{class:"vxe-table-export--panel-bottom"},i.callSlot(J,_)):Ze()])},footer(){const _={$table:i,$grid:H,options:j,columns:ee,params:j.params};return g("div",{class:"vxe-table-export--panel-footer"},Ae?i.callSlot(Ae,_):[g("div",{class:"vxe-table-export--panel-btns"},[r?g(r,{content:Fr("vxe.export.expCancel"),onClick:G}):Ze(),r?g(r,{ref:o,status:"primary",content:Fr(Ve?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:$}):Ze()])])}}):Ze()};return ye(()=>{t||Bt("vxe.error.reqComp",["vxe-modal"]),r||Bt("vxe.error.reqComp",["vxe-button"]),n||Bt("vxe.error.reqComp",["vxe-select"]),l||Bt("vxe.error.reqComp",["vxe-input"]),a||Bt("vxe.error.reqComp",["vxe-checkbox"])}),Y}}),{getIcon:KN}=Se,XN=Sr({name:"VxeTableMenuPanel",setup(e,t){const r=f.uniqueId(),n=or("$xeTable",{}),{reactData:l}=n,a=it(),i={refElem:a},d={xID:r,props:e,context:t,getRefMaps:()=>i},u=()=>{const{ctxMenuStore:p}=l,{computeMenuOpts:o}=n.getComputeMaps(),c=o.value;return g(Xi,{to:"body",disabled:!1},[g("div",{ref:a,class:["vxe-table--context-menu-wrapper",c.className,{"is--visible":p.visible}],style:p.style},p.list.map((m,v)=>m.every(x=>x.visible===!1)?Ze():g("ul",{class:"vxe-context-menu--option-wrapper",key:v},m.map((x,S)=>{const k=x.children&&x.children.some(P=>P.visible!==!1),E=Object.assign({},x.prefixConfig),D=Object.assign({},x.suffixConfig);return x.visible===!1?null:g("li",{class:[x.className,{"link--disabled":x.disabled,"link--active":x===p.selected}],key:`${v}_${S}`},[g("a",{class:"vxe-context-menu--link",onClick(P){n.ctxMenuLinkEvent(P,x)},onMouseover(P){n.ctxMenuMouseoverEvent(P,x)},onMouseout(P){n.ctxMenuMouseoutEvent(P,x)}},[g("div",{class:["vxe-context-menu--link-prefix",E.className||""]},[g("i",{class:E.icon||x.prefixIcon}),E.content?g("span",{},`${E.content}`):Ze()]),g("div",{class:"vxe-context-menu--link-content"},ma(x.name)),g("div",{class:["vxe-context-menu--link-suffix",D.className||""]},[g("i",{class:D.icon||x.suffixIcon||(k?KN().TABLE_MENU_OPTIONS:"")}),D.content?g("span",`${D.content}`):Ze()])]),k?g("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":x===p.selected&&p.showChild}]},x.children.map((P,V)=>{const q=Object.assign({},P.prefixConfig),F=Object.assign({},P.suffixConfig);return P.visible===!1?null:g("li",{class:[P.className,{"link--disabled":P.disabled,"link--active":P===p.selectChild}],key:`${v}_${S}_${V}`},[g("a",{class:"vxe-context-menu--link",onClick(O){n.ctxMenuLinkEvent(O,P)},onMouseover(O){n.ctxMenuMouseoverEvent(O,x,P)},onMouseout(O){n.ctxMenuMouseoutEvent(O,x)}},[g("div",{class:["vxe-context-menu--link-prefix",q.className||""]},[g("i",{class:q.icon||P.prefixIcon}),q.content?g("span",`${q.content}`):Ze()]),g("div",{class:"vxe-context-menu--link-content"},ma(P.name)),g("div",{class:["vxe-context-menu--link-suffix",F.className||""]},[g("i",{class:F.icon}),F.content?g("span",`${F.content}`):Ze()])])])})):null])}))))])};return d.renderVN=u,d},render(){return this.renderVN()}}),{getConfig:fr,getIcon:$s,getI18n:sa,renderer:$O,formats:AO,createEvent:ZN,globalResize:JN,interceptor:PO,hooks:QN,globalEvents:Ir,GLOBAL_EVENT_KEYS:mo,useFns:e_,renderEmptyElement:Sn}=Se,LO=5e6,NO="VXE_CUSTOM_STORE",xl=5e6,Wl=5e6,ii=Sr({name:"VxeTable",props:ac,emits:yx,setup(e,t){const{slots:r,emit:n}=t,l=f.uniqueId(),a=f.browse(),i=Se.getComponent("VxeLoading"),d=Se.getComponent("VxeTooltip"),u=or("$xeTabs",null),{computeSize:p}=e_.useSize(e),o=zr({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isTitle:!1,isFooter:!1},rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,rowHeightStore:{default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),c={tZindex:0,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let m={},v={};const x=it(),S=it(),k=it(),E=it(),D=it(),P=it(),V=it(),q=it(),F=it(),O=it(),M=it(),G=it(),$=it(),Y=it(),H=it(),j=it(),B=it(),xe=it(),Z=it(),L=it(),ne=it(),Ve=it(),Le=it(),ee=it(),se=it(),ae=it(),le=it(),Ee=it(),Oe=it(),Be=it(),K=it(),pe=it(),J=it(),ie=it(),Ae=it(),_e=it(),_=it(),Fe=it(),Pe=it(),et=it(),Ge=or("$xeGrid",null);let ut;const gt=ue(()=>{const{id:s}=e;return s?f.isFunction(s)?`${s({$table:y,$grid:Ge})||""}`:`${s}`:""}),_t=ue(()=>Object.assign({},fr().table.validConfig,e.validConfig)),qt=ue(()=>Dt.value),Ht=ue(()=>{const s=Dt.value,{threshold:h}=s;return h?f.toNumber(h):0}),Tt=ue(()=>Lt.value),Dt=ue(()=>Object.assign({},fr().table.scrollX,fr().table.virtualXConfig,e.scrollX,e.virtualXConfig)),Lt=ue(()=>Object.assign({},fr().table.scrollY,fr().table.virtualYConfig,e.scrollY,e.virtualYConfig)),wt=ue(()=>Object.assign({},fr().table.scrollbarConfig,e.scrollbarConfig)),ct=ue(()=>{const s=wt.value;return!!(s.x&&s.x.position==="top")}),bt=ue(()=>{const s=wt.value;return!!(s.y&&s.y.position==="left")}),St=ue(()=>{const s=Lt.value,{threshold:h}=s;return h?f.toNumber(h):0}),Ye=ue(()=>o.rowHeightStore),X=ue(()=>{const s=p.value;return Ye.value[s||"default"]||18}),W=ue(()=>Object.assign({},fr().table.columnConfig,e.columnConfig)),ge=ue(()=>Object.assign({},fr().table.currentColumnConfig,e.currentColumnConfig)),be=ue(()=>{const s=Object.assign({},fr().table.cellConfig,e.cellConfig);return s.height&&(s.height=f.toNumber(s.height)),s}),U=ue(()=>{const s=Object.assign({},fr().table.headerCellConfig,e.headerCellConfig);return s.height&&(s.height=f.toNumber(s.height)),s}),te=ue(()=>{const s=Object.assign({},fr().table.footerCellConfig,e.footerCellConfig);return s.height&&(s.height=f.toNumber(s.height)),s}),re=ue(()=>Object.assign({},fr().table.rowConfig,e.rowConfig)),$e=ue(()=>Object.assign({},fr().table.currentRowConfig,e.currentRowConfig)),qe=ue(()=>Object.assign({},fr().table.rowDragConfig,e.rowDragConfig)),Je=ue(()=>Object.assign({},fr().table.columnDragConfig,e.columnDragConfig)),lt=ue(()=>Object.assign({},fr().table.resizeConfig,e.resizeConfig)),Ct=ue(()=>Object.assign({},fr().table.resizableConfig,e.resizableConfig)),rt=ue(()=>Object.assign({startIndex:0},fr().table.seqConfig,e.seqConfig)),ve=ue(()=>Object.assign({},fr().table.radioConfig,e.radioConfig)),Me=ue(()=>Object.assign({},fr().table.checkboxConfig,e.checkboxConfig)),ke=ue(()=>Object.assign({},fr().tooltip,fr().table.tooltipConfig,e.tooltipConfig)),Ue=ue(()=>{const{tooltipStore:s}=o,h=ke.value;return Object.assign({},h,s.currOpts)}),Qe=ue(()=>{const s=ke.value;return Object.assign({},s)}),Xe=ue(()=>Object.assign({},fr().table.editConfig,e.editConfig)),dt=ue(()=>Object.assign({orders:["asc","desc",null]},fr().table.sortConfig,e.sortConfig)),Ke=ue(()=>Object.assign({},fr().table.filterConfig,e.filterConfig)),ft=ue(()=>Object.assign({},fr().table.mouseConfig,e.mouseConfig)),Rt=ue(()=>Object.assign({},fr().table.areaConfig,e.areaConfig)),Q=ue(()=>Object.assign({},fr().table.keyboardConfig,e.keyboardConfig)),Re=ue(()=>Object.assign({},fr().table.clipConfig,e.clipConfig)),nt=ue(()=>Object.assign({},fr().table.fnrConfig,e.fnrConfig)),vt=ue(()=>Object.assign({},fr().table.menuConfig,e.menuConfig)),st=ue(()=>{const{columnStore:s}=o,{leftList:h}=s;let b=0;for(let C=0;C<h.length;C++){const w=h[C];b+=w.renderWidth}return b}),It=ue(()=>{const{columnStore:s}=o,{rightList:h}=s;let b=0;for(let C=0;C<h.length;C++){const w=h[C];b+=w.renderWidth}return b}),pt=ue(()=>{const h=vt.value.header;return h&&h.options?h.options:[]}),Pt=ue(()=>{const h=vt.value.body;return h&&h.options?h.options:[]}),yt=ue(()=>{const h=vt.value.footer;return h&&h.options?h.options:[]}),ht=ue(()=>{const s=vt.value,h=pt.value,b=Pt.value,C=yt.value;return!!(e.menuConfig&&nr(s)&&(h.length||b.length||C.length))}),Ut=ue(()=>{const{ctxMenuStore:s}=o,h=[];return s.list.forEach(b=>{b.forEach(C=>{h.push(C)})}),h}),Wt=ue(()=>Object.assign({},fr().table.exportConfig,e.exportConfig)),jt=ue(()=>Object.assign({},fr().table.importConfig,e.importConfig)),Qt=ue(()=>Object.assign({},fr().table.printConfig,e.printConfig)),ir=ue(()=>Object.assign({},fr().table.expandConfig,e.expandConfig)),zt=ue(()=>Object.assign({},fr().table.treeConfig,e.treeConfig)),dr=ue(()=>Object.assign({},fr().table.emptyRender,e.emptyRender)),pr=ue(()=>Object.assign({},fr().table.loadingConfig,e.loadingConfig)),Wr=ue(()=>e.border?Math.max(2,Math.ceil(o.scrollbarWidth/o.tableColumn.length)):1),$r=ue(()=>Object.assign({},fr().table.customConfig,e.customConfig)),an=ue(()=>{const{rowExpandedFlag:s,tableData:h,expandColumn:b}=o,{rowExpandedMaps:C}=c,{handleGetRowId:w}=en(y),R=[];if(b&&s){const T={};h.forEach(A=>{T[w(A)]=!0}),f.each(C,(A,N)=>{T[N]&&R.push(A)})}return R}),Ro=ue(()=>{const{visibleColumn:s}=c,{tableColumn:h}=o;return h.length||s.length?s.filter(b=>b.width==="auto"||b.minWidth==="auto"):[]}),zn=ue(()=>{const{tableColumn:s}=o,{collectColumn:h}=c;let b=0;return s.length&&h.length&&h.forEach(C=>{C.renderFixed&&b++}),b}),Dn=ue(()=>{const s=zn.value,h=W.value,{maxFixedSize:b}=h;return b?s>=b:!1}),oo=ue(()=>{const{border:s}=e;return s===!0?"full":s||"default"}),ao=ue(()=>{const{treeConfig:s}=e,{tableData:h}=o,{tableFullData:b}=c,C=Me.value,{strict:w,checkMethod:R}=C;return w?h.length||b.length?R?b.every(T=>!R({row:T})):!1:!0:!1}),Bn=ue(()=>{const{overflowX:s,scrollXLoad:h,overflowY:b,scrollYLoad:C}=o;return{x:s&&h,y:b&&C}}),On={refElem:x,refTooltip:k,refValidTooltip:D,refTableFilter:V,refTableCustom:q,refTableMenu:P,refTableHeader:O,refTableBody:M,refTableFooter:G,refTableLeftHeader:$,refTableLeftBody:Y,refTableLeftFooter:H,refTableRightHeader:j,refTableRightBody:B,refTableRightFooter:xe,refLeftContainer:Z,refRightContainer:L,refColResizeBar:ne,refRowResizeBar:Ve,refScrollXVirtualElem:Oe,refScrollYVirtualElem:Be,refScrollXHandleElem:K,refScrollYHandleElem:ie,refScrollXSpaceElem:Pe,refScrollYSpaceElem:et},Tn={computeSize:p,computeTableId:gt,computeValidOpts:_t,computeVirtualXOpts:Dt,computeVirtualYOpts:Lt,computeScrollbarOpts:wt,computeScrollbarXToTop:ct,computeScrollbarYToLeft:bt,computeColumnOpts:W,computeCurrentColumnOpts:ge,computeScrollXThreshold:Ht,computeScrollYThreshold:St,computeRowHeightMaps:Ye,computeDefaultRowHeight:X,computeCellOpts:be,computeHeaderCellOpts:U,computeFooterCellOpts:te,computeRowOpts:re,computeCurrentRowOpts:$e,computeRowDragOpts:qe,computeColumnDragOpts:Je,computeResizeOpts:lt,computeResizableOpts:Ct,computeSeqOpts:rt,computeRadioOpts:ve,computeCheckboxOpts:Me,computeTooltipOpts:ke,computeEditOpts:Xe,computeSortOpts:dt,computeFilterOpts:Ke,computeMouseOpts:ft,computeAreaOpts:Rt,computeKeyboardOpts:Q,computeClipOpts:Re,computeFNROpts:nt,computeHeaderMenu:pt,computeBodyMenu:Pt,computeFooterMenu:yt,computeIsMenu:ht,computeMenuList:Ut,computeMenuOpts:vt,computeExportOpts:Wt,computeImportOpts:jt,computePrintOpts:Qt,computeExpandOpts:ir,computeTreeOpts:zt,computeEmptyOpts:dr,computeLoadingOpts:pr,computeCellOffsetWidth:Wr,computeCustomOpts:$r,computeLeftFixedWidth:st,computeRightFixedWidth:It,computeFixedColumnSize:zn,computeIsMaxFixedColumn:Dn,computeIsAllCheckboxDisabled:ao,computeVirtualScrollBars:Bn,computeSXOpts:qt,computeSYOpts:Tt},y={xID:l,props:e,context:t,reactData:o,internalData:c,getRefMaps:()=>On,getComputeMaps:()=>Tn,xeGrid:Ge,xegrid:Ge},Do=(s,h,b)=>{const C=f.get(s,b),w=f.get(h,b);return ga(C)&&ga(w)?!0:f.isString(C)||f.isNumber(C)?""+C==""+w:f.isEqual(C,w)},Qr=s=>{const h=dt.value,{orders:b}=h,C=s.order||null,w=b.indexOf(C)+1;return b[w<b.length?w:0]},qo=s=>{const h=fr().version,b=f.toStringJSON(localStorage.getItem(NO)||""),C=b&&b._v===h?b:{_v:h};return(s?C[s]:C)||{}},Oo=(s,h)=>{const b=fr().version,C=qo();C[s]=h||void 0,C._v=b,localStorage.setItem(NO,f.toJSONString(C))},An=s=>{const{fullAllDataRowIdData:h}=c,b={};return f.each(s,(C,w)=>{h[w]&&(b[w]=C)}),b},lo=s=>{const{fullDataRowIdData:h}=c,b=[];return f.each(s,(C,w)=>{h[w]&&y.findRowIndexOf(b,h[w].row)===-1&&b.push(h[w].row)}),b},ln=()=>{const{isScrollXBig:s,scrollXWidth:h}=o,{elemStore:b,visibleColumn:C,fullColumnIdData:w}=c,R=st.value,T=It.value,A=Xt(b["main-body-scroll"]);if(A){const N=A.clientWidth;let z=A.scrollLeft;s&&(z=Math.ceil((h-N)*Math.min(1,z/(Wl-N))));const oe=z+R,ce=z+N-T;let fe=0,me=C.length;for(;fe<me;){const de=Math.floor((fe+me)/2),ze=C[de].id;(w[ze]||{}).oLeft<=oe?fe=de+1:me=de}let we=0;const Ce=Math.max(0,fe<C.length?fe-2:0);for(let de=Ce,Ie=C.length;de<Ie;de++){const He=C[de].id,De=w[He]||{};if(we++,De.oLeft>ce||we>=60)break}return{toVisibleIndex:Math.max(0,Ce),visibleSize:Math.max(1,we)}}return{toVisibleIndex:0,visibleSize:6}},Wn=(s,h)=>{const{rowHeightStore:b}=o;h&&h.clientHeight&&(b[s]=h.clientHeight)},Ho=()=>{const{isAllOverflow:s}=o,h=O.value,b=M.value,C=b?b.$el:null,w=X.value;let R=0;if(s){if(C){const T=h?h.$el:null;let A;A=C.querySelector("tr"),!A&&T&&(A=T.querySelector("tr")),A&&(R=A.clientHeight)}R||(R=w)}else R=w;return Math.max(18,R)},dn=()=>{const{isAllOverflow:s,expandColumn:h,isScrollYBig:b,scrollYHeight:C}=o,{elemStore:w,isResizeCellHeight:R,afterFullData:T,fullAllDataRowIdData:A}=c,N=re.value,z=be.value,oe=X.value,ce=Xt(w["main-body-scroll"]);if(ce){const fe=ce.clientHeight;let me=ce.scrollTop;b&&(me=Math.ceil((C-fe)*Math.min(1,me/(xl-fe))));const we=me,Ce=me+fe;let de=-1,Ie=0;if(!(R||z.height||N.height)&&!h&&s)de=Math.floor(we/oe)-1,Ie=Math.ceil(fe/oe)+1;else{const{handleGetRowId:He}=en(y);let De=0,at=T.length;for(;De<at;){const ot=Math.floor((De+at)/2),Mt=T[ot],At=He(Mt);(A[At]||{}).oTop<=we?De=ot+1:at=ot}de=Math.max(0,De<T.length?De-2:0);for(let ot=de,Mt=T.length;ot<Mt;ot++){const At=T[ot],Nt=He(At),Yt=A[Nt]||{};if(Ie++,Yt.oTop>Ce||Ie>=100)break}}return{toVisibleIndex:Math.max(0,de),visibleSize:Math.max(6,Ie)}}return{toVisibleIndex:0,visibleSize:6}},Vo=(s,h,b)=>{for(let C=0,w=s.length;C<w;C++){const R=s[C],{startIndex:T,endIndex:A}=h,N=R[b],z=R[b+"span"],oe=N+z;N<T&&T<oe&&(h.startIndex=N),N<A&&A<oe&&(h.endIndex=oe),(h.startIndex!==T||h.endIndex!==A)&&(C=-1)}},io=(s,h,b)=>{if(s){const{visibleColumn:C}=c;f.isArray(s)||(s=[s]),s.forEach(w=>{let{row:R,col:T,rowspan:A,colspan:N}=w;if(b&&f.isNumber(R)&&(R=b[R]),f.isNumber(T)&&(T=C[T]),(b?R:f.isNumber(R))&&T&&(A||N)&&(A=f.toNumber(A)||1,N=f.toNumber(N)||1,A>1||N>1)){const z=f.findIndexOf(h,ce=>(ce._row===R||Ft(y,ce._row)===Ft(y,R))&&(ce._col.id===T||ce._col.id===T.id)),oe=h[z];if(oe)oe.rowspan=A,oe.colspan=N,oe._rowspan=A,oe._colspan=N;else{const ce=b?y.findRowIndexOf(b,R):R,fe=m.getVTColumnIndex(T);h.push({row:ce,col:fe,rowspan:A,colspan:N,_row:R,_col:T,_rowspan:A,_colspan:N})}}})}},To=(s,h,b)=>{const C=[];if(s){const{visibleColumn:w}=c;f.isArray(s)||(s=[s]),s.forEach(R=>{let{row:T,col:A}=R;b&&f.isNumber(T)&&(T=b[T]),f.isNumber(A)&&(A=w[A]);const N=f.findIndexOf(h,z=>(z._row===T||Ft(y,z._row)===Ft(y,T))&&(z._col.id===A||z._col.id===A.id));if(N>-1){const z=h.splice(N,1);C.push(z[0])}})}return C},Mn=()=>{const{tableFullColumn:s}=c;s.forEach(h=>{h.order=null})},xn=s=>{const{parentHeight:h}=o,b=e[s];let C=0;if(b)if(b==="100%"||b==="auto")C=h;else{const w=y.getExcludeHeight();Zl(b)?C=Math.floor((f.toInteger(b)||1)/100*h):C=f.toNumber(b),C=Math.max(40,C-w)}return C},so=s=>{let{collectColumn:h}=c;const{resizableData:b,sortData:C,visibleData:w,fixedData:R}=s;let T=!1;b||C||w||R?(f.eachTree(h,(A,N,z,oe,ce)=>{const fe=A.getKey();ce||(R&&R[fe]!==void 0&&(A.fixed=R[fe]),C&&f.isNumber(C[fe])&&(T=!0,A.renderSortNumber=C[fe])),b&&f.isNumber(b[fe])&&(A.resizeWidth=b[fe]),w&&f.isBoolean(w[fe])&&(A.visible=w[fe])}),T&&(h=f.orderBy(h,"renderSortNumber"),c.collectColumn=h,c.tableFullColumn=cn(h)),o.isCustomStatus=!0):o.isCustomStatus=!1},Sa=()=>{const{customConfig:s}=e,h=gt.value,b=$r.value,{storage:C,restoreStore:w}=b,R=C===!0,T=R?{}:Object.assign({},C||{}),A=R||T.resizable,N=R||T.visible,z=R||T.fixed,oe=R||T.sort;if((s?nr(b):b.enabled)&&(A||N||z||oe)){if(!h){Bt("vxe.error.reqProp",["id"]);return}const ce=qo(h);return w?Promise.resolve(w({id:h,type:"restore",storeData:ce})).then(fe=>{if(fe)return so(fe)}).catch(fe=>fe):so(ce)}},co=()=>{const{tableFullColumn:s,collectColumn:h}=c,b=c.fullColumnIdData={},C=c.fullColumnFieldData={},w=ft.value,R=ir.value,T=W.value,A=Je.value,N=Lt.value,{isCrossDrag:z,isSelfToChildDrag:oe}=A,ce=$r.value,{storage:fe}=ce,me=re.value,we=h.some(ti);let Ce=!!e.showOverflow,de,Ie,ze,He,De;const at=(ot,Mt,At,Nt,Yt)=>{const{id:Gt,field:Et,fixed:Ot,type:Zt,treeNode:gr}=ot,Cr={$index:-1,_index:-1,column:ot,colid:Gt,index:Mt,items:At,parent:Yt||null,width:0,oLeft:0};Et?(C[Et]&&Bt("vxe.error.colRepet",["field",Et]),C[Et]=Cr):(fe&&!Zt||T.drag&&(z||oe))&&Bt("vxe.error.reqProp",[`${ot.getTitle()||Zt||""} -> column.field=?`]),!De&&Zt==="html"&&(De=ot),gr?(Ie&&sr("vxe.error.colRepet",["tree-node",gr]),Ie||(Ie=ot)):Zt==="expand"&&(de&&sr("vxe.error.colRepet",["type",Zt]),de||(de=ot)),Zt==="checkbox"?(ze&&sr("vxe.error.colRepet",["type",Zt]),ze||(ze=ot)):Zt==="radio"&&(He&&sr("vxe.error.colRepet",["type",Zt]),He||(He=ot)),Ce&&ot.showOverflow===!1&&(Ce=!1),b[Gt]&&Bt("vxe.error.colRepet",["colId",Gt]),b[Gt]=Cr};we?f.eachTree(h,(ot,Mt,At,Nt,Yt,Gt)=>{ot.level=Gt.length,at(ot,Mt,At,Nt,Yt)}):s.forEach(at),de&&R.mode!=="fixed"&&N.enabled&&sr("vxe.error.notConflictProp",['column.type="expand',"virtual-y-config.enabled=false"]),de&&R.mode!=="fixed"&&w.area&&Bt("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),De&&(T.useKey||Bt("vxe.error.reqProp",["column-config.useKey & column.type=html"]),me.useKey||Bt("vxe.error.reqProp",["row-config.useKey & column.type=html"])),o.isGroup=we,o.treeNodeColumn=Ie,o.expandColumn=de,o.isAllOverflow=Ce},Mo=()=>{c.customHeight=xn("height"),c.customMinHeight=xn("minHeight"),c.customMaxHeight=xn("maxHeight")},Gn=(s,h)=>{const b=h.querySelectorAll(`.vxe-cell--wrapper[colid="${s.id}"]`);let C=0;const w=b[0];if(w&&w.parentElement){const T=getComputedStyle(w.parentElement);C=Math.ceil(f.toNumber(T.paddingLeft)+f.toNumber(T.paddingRight))}let R=s.renderAutoWidth-C;for(let T=0;T<b.length;T++){const A=b[T];R=Math.max(R,A?Math.ceil(A.scrollWidth)+4:0)}return R+C},Cn=()=>{const s=Ro.value,{fullColumnIdData:h}=c,b=x.value;b&&(b.setAttribute("data-calc-col","Y"),s.forEach(C=>{const w=C.id,R=h[w],T=Gn(C,b);R&&(R.width=Math.max(T,R.width)),C.renderAutoWidth=T}),y.analyColumnWidth(),b.removeAttribute("data-calc-col"))},Io=()=>{const{elemStore:s}=c,h=wt.value,b=M.value,C=b?b.$el:null;if(!C)return;const w=ie.value;if(!w)return;const R=K.value;if(!R)return;let T=0;const A=40,N=C.clientWidth;let z=N,oe=z/100;const{fit:ce}=e,{columnStore:fe}=o,{resizeList:me,pxMinList:we,autoMinList:Ce,pxList:de,scaleList:Ie,scaleMinList:ze,autoList:He,remainList:De}=fe;if(we.forEach(Et=>{const Ot=f.toInteger(Et.minWidth);T+=Ot,Et.renderWidth=Ot}),Ce.forEach(Et=>{const Ot=Math.max(60,f.toInteger(Et.renderAutoWidth));T+=Ot,Et.renderWidth=Ot}),ze.forEach(Et=>{const Ot=Math.floor(f.toInteger(Et.minWidth)*oe);T+=Ot,Et.renderWidth=Ot}),Ie.forEach(Et=>{const Ot=Math.floor(f.toInteger(Et.width)*oe);T+=Ot,Et.renderWidth=Ot}),de.forEach(Et=>{const Ot=f.toInteger(Et.width);T+=Ot,Et.renderWidth=Ot}),He.forEach(Et=>{const Ot=Math.max(60,f.toInteger(Et.renderAutoWidth));T+=Ot,Et.renderWidth=Ot}),me.forEach(Et=>{const Ot=f.toInteger(Et.resizeWidth);T+=Ot,Et.renderWidth=Ot}),z-=T,oe=z>0?Math.floor(z/(ze.length+we.length+Ce.length+De.length)):0,ce?z>0&&ze.concat(we).concat(Ce).forEach(Et=>{T+=oe,Et.renderWidth+=oe}):oe=A,De.forEach(Et=>{const Ot=Math.max(oe,A);Et.renderWidth=Ot,T+=Ot}),ce){const Et=Ie.concat(ze).concat(we).concat(Ce).concat(De);let Ot=Et.length-1;if(Ot>0){let Zt=N-T;if(Zt>0){for(;Zt>0&&Ot>=0;)Zt--,Et[Ot--].renderWidth++;T=N}}}const at=C.offsetHeight,ot=w.scrollHeight>w.clientHeight;o.scrollbarWidth=Math.max(h.width||0,w.offsetWidth-w.clientWidth),o.overflowY=ot,o.scrollXWidth=T,c.tableHeight=at;const Mt=Xt(s["main-header-table"]),At=Xt(s["main-footer-table"]),Nt=Mt?Mt.clientHeight:0,Yt=T>N,Gt=At?At.clientHeight:0;o.scrollbarHeight=Math.max(h.height||0,R.offsetHeight-R.clientHeight),c.headerHeight=Nt,c.footerHeight=Gt,o.overflowX=Yt,o.resizeWidthFlag++,Dx(),Mo(),o.parentHeight=Math.max(c.headerHeight+Gt+20,y.getParentHeight()),Yt&&y.checkScrolling()},zo=(s,h)=>{const b=h.querySelectorAll(`.vxe-cell--wrapper[rowid="${s.rowid}"]`);let C=s.height;for(let w=0;w<b.length;w++){const R=b[w],T=R.parentElement,A=Math.ceil(f.toNumber(T.style.paddingTop)+f.toNumber(T.style.paddingBottom)),N=R?R.clientHeight:0;C=Math.max(C-A,Math.ceil(N))}return C},yn=()=>{const{tableData:s,isAllOverflow:h,scrollYLoad:b,scrollXLoad:C}=o,{fullAllDataRowIdData:w}=c,R=X.value,T=x.value;if(!h&&b&&T){const{handleGetRowId:A}=en(y);T.setAttribute("data-calc-row","Y"),s.forEach(N=>{const z=A(N),oe=w[z];if(oe){const ce=zo(oe,T);oe.height=Math.max(R,C?Math.max(oe.height,ce):ce)}T.removeAttribute("data-calc-row")}),o.calcCellHeightFlag++}},ra=s=>{const{sortBy:h,sortType:b}=s;return C=>{let w;return h?w=f.isFunction(h)?h({row:C,column:s}):f.get(C,h):w=m.getCellLabel(C,s),!b||b==="auto"?isNaN(w)?w:f.toNumber(w):b==="number"?f.toNumber(w):b==="string"?f.toValueString(w):w}},tn=()=>{const{treeConfig:s}=e,{afterFullData:h,fullDataRowIdData:b,fullAllDataRowIdData:C}=c,{handleGetRowId:w}=en(y),R={};h.forEach((T,A)=>{const N=w(T),z=C[N],oe=A+1;if(z)s||(z.seq=oe),z._index=A;else{const ce={row:T,rowid:N,seq:oe,index:-1,$index:-1,_index:A,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};C[N]=ce,b[N]=ce}R[N]=T}),c.afterFullRowMaps=R},Or=()=>{const{treeConfig:s}=e,{fullDataRowIdData:h,fullAllDataRowIdData:b,afterTreeFullData:C}=c,w=zt.value,{transform:R}=w,T=w.children||w.childrenField,A={};if(s){const{handleGetRowId:N}=en(y);f.eachTree(C,(z,oe,ce,fe)=>{const me=N(z),we=b[me],Ce=fe.map((de,Ie)=>Ie%2===0?Number(de)+1:".").join("");if(we)we.seq=Ce,we.treeIndex=oe;else{const de={row:z,rowid:me,seq:Ce,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};b[me]=de,h[me]=de}A[me]=z},{children:R?w.mapChildrenField:T}),c.afterFullRowMaps=A,tn()}else tn()},fn=()=>{const{treeConfig:s}=e,{fullAllDataRowIdData:h,treeExpandedMaps:b}=c,C=zt.value,w=C.children||C.childrenField;if(s&&C.transform){const{handleGetRowId:R}=en(y),T=[],A={};return f.eachTree(c.afterTreeFullData,(N,z,oe,ce,fe)=>{const me=R(N),we=R(fe);if(!fe||A[we]&&b[we]){const Ce=h[me];Ce&&(Ce._index=T.length),A[me]=1,T.push(N)}},{children:w}),c.afterFullData=T,In(T),T}return c.afterFullData},na=()=>{const{treeConfig:s}=e,{tableFullColumn:h,tableFullData:b,tableFullTreeData:C}=c,w=Ke.value,R=dt.value,T=zt.value,A=T.children||T.childrenField,{transform:N,rowField:z,parentField:oe,mapChildrenField:ce}=T,{isEvery:fe,remote:me,filterMethod:we}=w,{remote:Ce,sortMethod:de,multiple:Ie,chronological:ze}=R;let He=[],De=[];if(!me||!Ce){const at=[];let ot=[];if(h.forEach(Mt=>{const{field:At,sortable:Nt,order:Yt,filters:Gt}=Mt;if(!me&&Gt&&Gt.length){const Et=[],Ot=[];Gt.forEach(Zt=>{Zt.checked&&(Ot.push(Zt),Et.push(Zt.value))}),Ot.length&&at.push({column:Mt,valueList:Et,itemList:Ot})}!Ce&&Nt&&Yt&&ot.push({column:Mt,field:At,property:At,order:Yt,sortTime:Mt.sortTime})}),Ie&&ze&&ot.length>1&&(ot=f.orderBy(ot,"sortTime")),!me&&at.length){const Mt=At=>at.every(({column:Nt,valueList:Yt,itemList:Gt})=>{const{filterMethod:Et,filterRender:Ot}=Nt,Zt=nr(Ot)?$O.get(Ot.name):null,gr=Zt?Zt.tableFilterMethod||Zt.filterMethod:null,Cr=Zt?Zt.tableFilterDefaultMethod||Zt.defaultTableFilterMethod||Zt.defaultFilterMethod:null,xr=on(At,Nt);return Et?Gt.some(vr=>Et({value:vr.value,option:vr,cellValue:xr,row:At,column:Nt,$table:y})):gr?Gt.some(vr=>gr({value:vr.value,option:vr,cellValue:xr,row:At,column:Nt,$table:y})):we?we({options:Gt,values:Yt,cellValue:xr,row:At,column:Nt}):Cr?Gt.some(vr=>Cr({value:vr.value,option:vr,cellValue:xr,row:At,column:Nt,$table:y})):Yt.indexOf(f.get(At,Nt.field))>-1});s&&N?(De=f.searchTree(C,Mt,{original:!0,isEvery:fe,children:ce,mapChildren:A}),He=De):(He=s?C.filter(Mt):b.filter(Mt),De=He)}else s&&N?(De=f.searchTree(C,()=>!0,{original:!0,isEvery:fe,children:ce,mapChildren:A}),He=De):(He=s?C.slice(0):b.slice(0),De=He);if(!Ce&&ot.length)if(s&&N){if(de){const Mt=de({data:De,sortList:ot,$table:y});De=f.isArray(Mt)?Mt:De}else{const Mt=f.toTreeArray(De,{children:ce});De=f.toArrayTree(f.orderBy(Mt,ot.map(({column:At,order:Nt})=>[ra(At),Nt])),{key:z,parentKey:oe,children:A,mapChildren:ce})}He=De}else{if(de){const Mt=de({data:He,sortList:ot,$table:y});He=f.isArray(Mt)?Mt:He}else He=f.orderBy(He,ot.map(({column:Mt,order:At})=>[ra(Mt),At]));De=He}}else s&&N?(De=f.searchTree(C,()=>!0,{original:!0,isEvery:fe,children:T.mapChildrenField,mapChildren:A}),He=De):(He=s?C.slice(0):b.slice(0),De=He);c.afterFullData=He,c.afterTreeFullData=De,Or()},Hr=()=>{const{showHeaderOverflow:s,showFooterOverflow:h,mouseConfig:b,spanMethod:C,footerSpanMethod:w}=e,{isGroup:R,currentRow:T,tableColumn:A,scrollXLoad:N,scrollYLoad:z,overflowX:oe,scrollbarWidth:ce,overflowY:fe,scrollbarHeight:me,scrollXWidth:we,columnStore:Ce,editStore:de,isAllOverflow:Ie,expandColumn:ze}=o,{visibleColumn:He,tableHeight:De,headerHeight:at,footerHeight:ot,elemStore:Mt,customHeight:At,customMinHeight:Nt,customMaxHeight:Yt}=c,Gt=x.value;if(!Gt)return;const Et=["main","left","right"],Ot=fe?ce:0,Zt=oe?me:0,gr=Le.value,Cr=ft.value,xr=ir.value,vr=Xt(Mt["main-body-wrapper"]),yr=Xt(Mt["main-body-table"]);gr&&(gr.style.top=`${at}px`,gr.style.height=vr?`${vr.offsetHeight-Zt}px`:"");let Rr=0,Vr=0;const Nr=Nt-at-ot-Zt;Yt&&(Vr=Math.max(Nr,Yt-at-ot-Zt)),At&&(Rr=At-at-ot-Zt),Rr||yr&&(Rr=yr.clientHeight),Rr&&(Vr&&(Rr=Math.min(Vr,Rr)),Rr=Math.max(Nr,Rr));const Xr=ct.value,pn=pe.value,Yn=J.value,hn=Oe.value;hn&&(hn.style.height=`${Zt}px`,hn.style.visibility=oe?"visible":"hidden");const gn=_e.value;gn&&(gn.style.left=Xr?`${Ot}px`:"",gn.style.width=`${Gt.clientWidth-Ot}px`),pn&&(pn.style.width=Xr?`${Ot}px`:"",pn.style.display=Xr&&oe&&Zt?"block":""),Yn&&(Yn.style.width=Xr?"":`${Ot}px`,Yn.style.display=Xr?"":oe&&Zt?"block":"");const Gr=Be.value;Gr&&(Gr.style.width=`${Ot}px`,Gr.style.height=`${Rr+at+ot}px`,Gr.style.visibility=fe?"visible":"hidden");const jr=Ae.value;jr&&(jr.style.height=`${at}px`,jr.style.display=fe&&at?"block":"");const Ra=_.value;Ra&&(Ra.style.height=`${Rr}px`,Ra.style.top=`${at}px`);const vn=Fe.value;vn&&(vn.style.height=`${ot}px`,vn.style.top=`${at+Rr}px`,vn.style.display=fe&&ot?"block":"");const ho=le.value;return ho&&(ho.style.height=`${Rr}px`,ho.style.top=`${at}px`),Et.forEach((go,Rs)=>{const vo=Rs>0?go:"",Ds=["header","body","footer"],Px=vo==="left";let Ri=[],Di;vo&&(Ri=Px?Ce.leftList:Ce.rightList,Di=Px?Z.value:L.value),Ds.forEach(pl=>{const mn=Xt(Mt[`${go}-${pl}-wrapper`]),za=Xt(Mt[`${go}-${pl}-scroll`]),hl=Xt(Mt[`${go}-${pl}-table`]);if(pl==="header"){let Fo=A,Bo=!1;R?Fo=He:((N||z||s)&&(C||w||(Bo=!0)),vo&&(Fo=He,Bo&&(Fo=Ri||[])));const Fn=Fo.reduce((Hl,gl)=>Hl+gl.renderWidth,0);vo&&(R?mn&&(mn.style.width=we?`${we}px`:""):Bo?mn&&(mn.style.width=Fn?`${Fn}px`:""):mn&&(mn.style.width=we?`${we}px`:"")),za&&(za.style.height=`${at}px`),hl&&(hl.style.width=Fn?`${Fn}px`:"")}else if(pl==="body"){za&&(za.style.maxHeight=Yt?`${Vr}px`:"",za.style.height=At?`${Rr}px`:"",za.style.minHeight=`${Nr}px`),Di&&(mn&&(mn.style.top=`${at}px`),Di.style.height=`${At>0?At:De+at+ot+Zt}px`,Di.style.width=`${Ri.reduce((gl,Uc)=>gl+Uc.renderWidth,0)}px`);let Fo=A,Bo=!1;(N||z||Ie)&&(ze&&xr.mode!=="fixed"||C||w||(Bo=!0)),vo&&(Fo=He,Bo&&(Fo=Ri||[]));const Fn=Fo.reduce((gl,Uc)=>gl+Uc.renderWidth,0);vo&&(Bo?mn&&(mn.style.width=Fn?`${Fn}px`:""):mn&&(mn.style.width=we?`${we}px`:"")),hl&&(hl.style.width=Fn?`${Fn}px`:"",hl.style.paddingRight=Ot&&vo&&(a["-moz"]||a.safari)?`${Ot}px`:"");const Hl=Xt(Mt[`${go}-${pl}-emptyBlock`]);Hl&&(Hl.style.width=Fn?`${Fn}px`:"")}else if(pl==="footer"){let Fo=A,Bo=!1;(N||z||h)&&(C||w||(Bo=!0)),vo&&(Fo=He,Bo&&(Fo=Ri||[]));const Fn=Fo.reduce((Hl,gl)=>Hl+gl.renderWidth,0);vo&&(Bo?mn&&(mn.style.width=Fn?`${Fn}px`:""):mn&&(mn.style.width=we?`${we}px`:"")),za&&(za.style.height=`${ot}px`,Di&&mn&&(mn.style.top=`${At>0?At-ot-Zt:De+at}px`)),hl&&(hl.style.width=Fn?`${Fn}px`:"")}})}),T&&y.setCurrentRow(T),b&&Cr.selected&&de.selected.row&&de.selected.column&&y.addCellSelectedClass(),ye()},uo=s=>y.triggerValidate?y.triggerValidate(s):ye(),fo=(s,h)=>{uo("blur").catch(b=>b).then(()=>{y.handleEdit(h,s).then(()=>uo("change")).catch(b=>b)})},oa=()=>{const{sortConfig:s}=e;if(s){const h=dt.value;let{defaultSort:b}=h;b&&(f.isArray(b)||(b=[b]),b.length&&((s.multiple?b:b.slice(0,1)).forEach((C,w)=>{const{field:R,order:T}=C;if(R&&T){const A=y.getColumnByField(R);A&&A.sortable&&(A.order=T,A.sortTime=Date.now()+w)}}),h.remote||y.handleTableData(!0).then(Hr)))}},aa=()=>{const{checkboxConfig:s}=e;if(s){const{fullDataRowIdData:h}=c,b=Me.value,{checkAll:C,checkRowKeys:w}=b;if(C)sn(!0,!0);else if(w){const R=[];w.forEach(T=>{h[T]&&R.push(h[T].row)}),Lr(R,!0,!0)}}},Un=()=>{const{radioConfig:s}=e;if(s){const{fullDataRowIdData:h}=c,b=ve.value,{checkRowKey:C,reserve:w}=b;if(C&&(h[C]&&cr(h[C].row,!0),w)){const R=Fa(y);c.radioReserveRow={[R]:C}}}},po=()=>{const{expandConfig:s}=e;if(s){const{fullDataRowIdData:h}=c,b=ir.value,{expandAll:C,expandRowKeys:w}=b;if(C)y.setAllRowExpand(!0);else if(w){const R=[];w.forEach(T=>{h[T]&&R.push(h[T].row)}),y.setRowExpand(R,!0)}}},jn=s=>{ve.value.reserve&&(c.radioReserveRow=s)},Pn=(s,h)=>{const{checkboxReserveRowMap:b}=c;if(Me.value.reserve){const w=Ft(y,s);h?b[w]=s:b[w]&&delete b[w]}},cr=(s,h)=>{const b=ve.value,{checkMethod:C}=b;return s&&(h||!C||C({row:s}))&&(o.selectRadioRow=s,jn(s)),ye()},Lr=(s,h,b)=>(s&&!f.isArray(s)&&(s=[s]),y.handleBatchSelectRows(s,!!h,b),y.checkSelectionStatus(),ye()),sn=(s,h)=>{const{treeConfig:b}=e,{afterFullData:C,checkboxReserveRowMap:w,selectCheckboxMaps:R}=c,T=zt.value,A=T.children||T.childrenField,N=Me.value,{checkField:z,reserve:oe,checkMethod:ce}=N,{handleGetRowId:fe}=en(y),me=N.indeterminateField||N.halfField,we={};if(z){const Ce=de=>{(h||!ce||ce({row:de}))&&(s&&(we[fe(de)]=de),f.set(de,z,s)),b&&me&&f.set(de,me,!1)};b?f.eachTree(C,Ce,{children:A}):C.forEach(Ce)}else b?s?f.eachTree(C,Ce=>{if(h||!ce||ce({row:Ce})){const de=fe(Ce);we[de]=Ce}},{children:A}):!h&&ce&&f.eachTree(C,Ce=>{const de=fe(Ce);!ce({row:Ce})&&R[de]&&(we[de]=Ce)},{children:A}):s?!h&&ce?C.forEach(Ce=>{const de=fe(Ce);(R[de]||ce({row:Ce}))&&(we[de]=Ce)}):C.forEach(Ce=>{const de=fe(Ce);we[de]=Ce}):!h&&ce&&C.forEach(Ce=>{const de=fe(Ce);!ce({row:Ce})&&R[de]&&(we[de]=Ce)});return oe&&(s?f.each(we,(Ce,de)=>{w[de]=Ce}):C.forEach(Ce=>Pn(Ce,!1))),o.updateCheckboxFlag++,c.selectCheckboxMaps=z?{}:we,o.isAllSelected=s,o.isIndeterminate=!1,c.treeIndeterminateRowMaps={},y.checkSelectionStatus(),ye()},cl=()=>{const{treeConfig:s}=e,{expandColumn:h,currentRow:b,selectRadioRow:C}=o,{fullDataRowIdData:w,fullAllDataRowIdData:R,radioReserveRow:T,selectCheckboxMaps:A,treeExpandedMaps:N,rowExpandedMaps:z}=c,oe=ir.value,ce=zt.value,fe=ve.value,me=Me.value;if(C&&!R[Ft(y,C)]&&(o.selectRadioRow=null),fe.reserve&&T){const we=Ft(y,T);w[we]&&cr(w[we].row,!0)}c.selectCheckboxMaps=An(A),o.updateCheckboxFlag++,me.reserve&&Lr(lo(c.checkboxReserveRowMap),!0,!0),b&&!R[Ft(y,b)]&&(o.currentRow=null),c.rowExpandedMaps=h?An(z):{},o.rowExpandedFlag++,h&&oe.reserve&&y.setRowExpand(lo(c.rowExpandedReserveRowMap),!0),c.treeExpandedMaps=s?An(N):{},o.treeExpandedFlag++,s&&ce.reserve&&y.setTreeExpand(lo(c.treeExpandedReserveRowMap),!0)},Al=()=>{const{treeConfig:s}=e;if(s){const{tableFullData:h}=c,b=zt.value,{expandAll:C,expandRowKeys:w}=b,R=b.children||b.childrenField;if(C)y.setAllTreeExpand(!0);else if(w){const T=[],A=Fa(y);w.forEach(N=>{const z=f.findTree(h,oe=>N===f.get(oe,A),{children:R});z&&T.push(z.item)}),y.setTreeExpand(T,!0)}}},Va=s=>{const h=zt.value,b=Me.value,{transform:C,loadMethod:w}=h,{checkStrictly:R}=b;return new Promise(T=>{if(w){const{fullAllDataRowIdData:A,treeExpandLazyLoadedMaps:N}=c,z=Ft(y,s),oe=A[z];N[z]=s,Promise.resolve(w({$table:y,row:s})).then(ce=>{if(oe&&(oe.treeLoaded=!0),N[z]&&delete N[z],f.isArray(ce)||(ce=[]),ce)return y.loadTreeChildren(s,ce).then(fe=>{const{treeExpandedMaps:me}=c;return fe.length&&!me[z]&&(me[z]=s),o.treeExpandedFlag++,!R&&y.isCheckedByCheckboxRow(s)&&Lr(fe,!0),ye().then(()=>{if(C)return y.handleTableData(),Or(),ye()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:ce}=c;oe&&(oe.treeLoaded=!1),ce[z]&&delete ce[z]}).finally(()=>{o.treeExpandedFlag++,ye().then(()=>y.recalculate()).then(()=>T())})}else T()})},I=(s,h)=>{const{treeExpandedReserveRowMap:b}=c;if(zt.value.reserve){const w=Ft(y,s);h?b[w]=s:b[w]&&delete b[w]}},he=s=>new Promise(h=>{const b=ir.value,{loadMethod:C}=b;if(C){const{fullAllDataRowIdData:w,rowExpandLazyLoadedMaps:R}=c,T=Ft(y,s),A=w[T];R[T]=s,C({$table:y,row:s,rowIndex:y.getRowIndex(s),$rowIndex:y.getVMRowIndex(s)}).then(()=>{const{rowExpandedMaps:N}=c;A&&(A.expandLoaded=!0),N[T]=s,o.rowExpandedFlag++}).catch(()=>{A&&(A.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:N}=c;N[T]&&delete N[T],o.rowExpandedFlag++,ye().then(()=>y.recalculate()).then(()=>y.updateCellAreas()).then(()=>h())})}else h()}),Te=(s,h)=>{const{rowExpandedReserveRowMap:b}=c;if(ir.value.reserve){const w=Ft(y,s);h?b[w]=s:b[w]&&delete b[w]}},je=()=>{const{mergeCells:s}=e;s&&y.setMergeCells(s)},mt=()=>{const{mergeFooterItems:s}=e;s&&y.setMergeFooterItems(s)},xt=()=>ye().then(()=>{const{scrollXLoad:s,scrollYLoad:h}=o,{scrollXStore:b,scrollYStore:C}=c,w=Lt.value,R=Dt.value;if(s){const{toVisibleIndex:z,visibleSize:oe}=ln(),ce=Math.max(0,R.oSize?f.toNumber(R.oSize):0);b.preloadSize=f.toNumber(R.preSize),b.offsetSize=ce,b.visibleSize=oe,b.endIndex=Math.max(b.startIndex+b.visibleSize+ce,b.endIndex),b.visibleStartIndex=Math.max(b.startIndex,z),b.visibleEndIndex=Math.min(b.endIndex,z+oe),y.updateScrollXData().then(()=>{Er()})}else y.updateScrollXSpace();const T=Ho();C.rowHeight=T,o.rowHeight=T;const{toVisibleIndex:A,visibleSize:N}=dn();if(h){const z=Math.max(0,w.oSize?f.toNumber(w.oSize):0);C.preloadSize=f.toNumber(w.preSize),C.offsetSize=z,C.visibleSize=N,C.endIndex=Math.max(C.startIndex+N+z,C.endIndex),C.visibleStartIndex=Math.max(C.startIndex,A),C.visibleEndIndex=Math.min(C.endIndex,A+N),y.updateScrollYData().then(()=>{Pl()})}else y.updateScrollYSpace();ye(()=>{Hr()})}),Vt=s=>{const h=x.value;if(c.rceRunTime=Date.now(),!h||!h.clientWidth)return ye();const b=S.value;if(b){const[C,w,R,T]=b.children;Wn("default",C),Wn("medium",w),Wn("small",R),Wn("mini",T)}return Cn(),Io(),Hr(),fl(),xt().then(()=>{if(s===!0)return Cn(),Io(),Hr(),s&&dl(),fl(),xt()})},$t=(s,h)=>{const{keepSource:b,treeConfig:C}=e,{scrollYLoad:w}=o,{scrollYStore:R,scrollXStore:T,lastScrollLeft:A,lastScrollTop:N}=c,z=zt.value,oe=ir.value,{transform:ce}=z,fe=z.children||z.childrenField;let me=[],we=zr(s?s.slice(0):[]);we.length>LO&&Bt("vxe.error.errMaxRow",[LO]),C&&(ce?(z.rowField||Bt("vxe.error.reqProp",["tree-config.rowField"]),z.parentField||Bt("vxe.error.reqProp",["tree-config.parentField"]),fe||Bt("vxe.error.reqProp",["tree-config.childrenField"]),z.mapChildrenField||Bt("vxe.error.reqProp",["tree-config.mapChildrenField"]),fe===z.mapChildrenField&&Bt("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),me=f.toArrayTree(we,{key:z.rowField,parentKey:z.parentField,children:fe,mapChildren:z.mapChildrenField}),we=me.slice(0)):me=we.slice(0)),R.startIndex=0,R.endIndex=1,T.startIndex=0,T.endIndex=1,o.isRowLoading=!0,o.scrollVMLoading=!1,c.insertRowMaps={},c.removeRowMaps={};const Ce=In(we);return o.isDragColMove=!1,o.isDragRowMove=!1,c.tableFullData=we,c.tableFullTreeData=me,y.cacheRowMap(!0),c.tableSynchData=s,h&&(c.isResizeCellHeight=!1),b&&y.cacheSourceMap(we),y.clearCellAreas&&e.mouseConfig&&(y.clearCellAreas(),y.clearCopyCellArea()),y.clearMergeCells(),y.clearMergeFooterItems(),y.handleTableData(!0),y.updateFooter(),ye().then(()=>{Mo(),Hr()}).then(()=>{xt()}).then(()=>(Ce&&(R.endIndex=R.visibleSize),Ce&&(o.expandColumn&&oe.mode!=="fixed"&&Bt("vxe.error.notConflictProp",['column.type="expand','expand-config.mode="fixed"']),e.height||e.maxHeight||Bt("vxe.error.reqProp",["table.height | table.max-height | table.scroll-y={enabled: false}"]),e.spanMethod&&Bt("vxe.error.scrollErrProp",["table.span-method"])),cl(),y.checkSelectionStatus(),new Promise(de=>{ye().then(()=>y.recalculate()).then(()=>{let Ie=A,ze=N;const He=Dt.value,De=Lt.value;He.scrollToLeftOnChange&&(Ie=0),De.scrollToTopOnChange&&(ze=0),o.isRowLoading=!1,yn(),dl(),w===Ce?gb(y,Ie,ze).then(()=>{de()}):setTimeout(()=>{gb(y,Ie,ze).then(()=>{de()})})})})))},Ne=()=>{aa(),Un(),po(),Al(),je(),mt(),ye(()=>setTimeout(()=>y.recalculate()))},kt=()=>{oa()},rr=()=>{const{scrollXLoad:s}=o,{visibleColumn:h,scrollXStore:b,fullColumnIdData:C}=c,w=s?h.slice(b.startIndex,b.endIndex):h.slice(0);w.forEach((R,T)=>{const A=R.id,N=C[A];N&&(N.$index=T)}),o.tableColumn=w},ar=()=>{const s=f.orderBy(c.collectColumn,"renderSortNumber");c.collectColumn=s;const h=cn(s);c.tableFullColumn=h,co()},Er=()=>{const{mergeList:s,mergeFooterList:h,isScrollXBig:b}=o,{scrollXStore:C}=c,{preloadSize:w,startIndex:R,endIndex:T,offsetSize:A}=C,{toVisibleIndex:N,visibleSize:z}=ln(),oe={startIndex:Math.max(0,b?N-1:N-1-A-w),endIndex:b?N+z:N+z+A+w};C.visibleStartIndex=N-1,C.visibleEndIndex=N+z+1,Vo(s.concat(h),oe,"col");const{startIndex:ce,endIndex:fe}=oe;(N<=R||N>=T-z-1)&&(R!==ce||T!==fe)&&(C.startIndex=ce,C.endIndex=fe,y.updateScrollXData()),y.closeTooltip()},cn=s=>{const h=[];return s.forEach(b=>{h.push(...b.children&&b.children.length?cn(b.children):[b])}),h},Ln=s=>{const h=[],b=[],C=[],{isGroup:w,columnStore:R}=o,T=Dt.value,{collectColumn:A,tableFullColumn:N,scrollXStore:z,fullColumnIdData:oe}=c;if(w){const me=[],we=[],Ce=[];f.eachTree(A,(de,Ie,ze,He,De)=>{const at=ti(de);De&&De.fixed&&(de.fixed=De.fixed),De&&de.fixed!==De.fixed&&Bt("vxe.error.groupFixed"),at?de.visible=!!f.findTree(de.children,ot=>ti(ot)?!1:ot.visible):de.visible&&(de.fixed==="left"?h.push(de):de.fixed==="right"?C.push(de):b.push(de))}),A.forEach(de=>{de.visible&&(de.fixed==="left"?me.push(de):de.fixed==="right"?Ce.push(de):we.push(de))}),o.tableGroupColumn=me.concat(we).concat(Ce)}else N.forEach(me=>{me.visible&&(me.fixed==="left"?h.push(me):me.fixed==="right"?C.push(me):b.push(me))});const ce=h.concat(b).concat(C),fe=!!T.enabled&&T.gt>-1&&(T.gt===0||T.gt<N.length);if(o.hasFixedColumn=h.length>0||C.length>0,Object.assign(R,{leftList:h,centerList:b,rightList:C}),fe&&(e.spanMethod&&sr("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&sr("vxe.error.scrollErrProp",["footer-span-method"]),s)){const{visibleSize:me}=ln();z.startIndex=0,z.endIndex=me,z.visibleSize=me,z.visibleStartIndex=0,z.visibleEndIndex=me}return(ce.length!==c.visibleColumn.length||!c.visibleColumn.every((me,we)=>me===ce[we]))&&(y.clearMergeCells(),y.clearMergeFooterItems()),o.scrollXLoad=fe,ce.forEach((me,we)=>{const Ce=me.id,de=oe[Ce];de&&(de._index=we)}),c.visibleColumn=ce,rr(),s?(Dx(),y.updateFooter().then(()=>y.recalculate()).then(()=>(y.updateCellAreas(),y.recalculate()))):y.updateFooter()},Nn=()=>{const{collectColumn:s}=c;s.forEach((h,b)=>{const C=b+1;h.sortNumber=C,h.renderSortNumber=C})},Jr=s=>{const h=ir.value;c.collectColumn=s;const b=cn(s);return c.tableFullColumn=b,o.isColLoading=!0,o.isDragColMove=!1,Nn(),Promise.resolve(Sa()).then(()=>{const{scrollXLoad:C,scrollYLoad:w,expandColumn:R}=o;return co(),Ln(!0).then(()=>{o.scrollXLoad&&Er()}),y.clearMergeCells(),y.clearMergeFooterItems(),y.handleTableData(!0),(C||w)&&R&&h.mode!=="fixed"&&sr("vxe.error.scrollErrProp",["column.type=expand"]),ye().then(()=>(ut&&ut.syncUpdate({collectColumn:c.collectColumn,$table:y}),y.handleUpdateCustomColumn&&y.handleUpdateCustomColumn(),o.isColLoading=!1,y.recalculate()))})},In=s=>{const{treeConfig:h}=e,b=Lt.value,C=zt.value,{transform:w}=C,R=s||c.tableFullData,T=(w||!h)&&!!b.enabled&&b.gt>-1&&(b.gt===0||b.gt<R.length);return o.scrollYLoad=T,T},Ea=(s,h)=>{const{treeNodeColumn:b}=o,{fullAllDataRowIdData:C,tableFullData:w,treeExpandedMaps:R,treeExpandLazyLoadedMaps:T}=c,A=zt.value,{reserve:N,lazy:z,accordion:oe,toggleMethod:ce}=A,fe=A.children||A.childrenField,me=A.hasChild||A.hasChildField,we=[],Ce=m.getColumnIndex(b),de=m.getVMColumnIndex(b),{handleGetRowId:Ie}=en(y);let ze=ce?s.filter(He=>ce({$table:y,expanded:h,column:b,columnIndex:Ce,$columnIndex:de,row:He})):s;if(oe){ze=ze.length?[ze[ze.length-1]]:[];const He=f.findTree(w,De=>De===ze[0],{children:fe});He&&He.items.forEach(De=>{const at=Ie(De);R[at]&&delete R[at]})}return h?ze.forEach(He=>{const De=Ie(He);if(!R[De]){const at=C[De];at&&(z&&He[me]&&!at.treeLoaded&&!T[De]?we.push(Va(He)):He[fe]&&He[fe].length&&(R[De]=He))}}):ze.forEach(He=>{const De=Ie(He);R[De]&&delete R[De]}),N&&ze.forEach(He=>I(He,h)),o.treeExpandedFlag++,Promise.all(we).then(()=>m.recalculate())},Lc=(s,h)=>Ea(s,h).then(()=>(fn(),v.handleTableData(),Or(),ye())).then(()=>m.recalculate(!0)).then(()=>{setTimeout(()=>{m.updateCellAreas()},30)}),Cs=(s,h)=>{sn(h),s&&Tr("checkbox-all",{records:()=>y.getCheckboxRecords(),reserves:()=>y.getCheckboxReserveRecords(),indeterminates:()=>y.getCheckboxIndeterminateRecords(),checked:h},s)},Pl=()=>{const{mergeList:s,isAllOverflow:h,isScrollYBig:b}=o,{scrollYStore:C}=c,{preloadSize:w,startIndex:R,endIndex:T,offsetSize:A}=C,N=h?A:A+1,{toVisibleIndex:z,visibleSize:oe}=dn(),ce={startIndex:Math.max(0,b?z-1:z-1-A-w),endIndex:b?z+oe:z+oe+N+w};C.visibleStartIndex=z-1,C.visibleEndIndex=z+oe+1,Vo(s,ce,"row");const{startIndex:fe,endIndex:me}=ce;(z<=R||z>=T-oe-1)&&(R!==fe||T!==me)&&(C.startIndex=fe,C.endIndex=me,y.updateScrollYData())},ul=s=>{const{handleGetRowId:h}=en(y);return function(b){const{fullAllDataRowIdData:C}=c;if(b){const w=h(b),R=C[w];if(R)return R[s]}return-1}},Ll=s=>function(h){const{fullColumnIdData:b}=c;if(h){const C=b[h.id];if(C)return C[s]}return-1},ys=()=>{const{lxTimeout:s,lxRunTime:h,scrollXStore:b}=c,{visibleSize:C}=b,w=Math.max(5,Math.min(10,Math.floor(C/3)));s&&clearTimeout(s),(!h||h+w<Date.now())&&(c.lxRunTime=Date.now(),Er()),c.lxTimeout=setTimeout(()=>{c.lxTimeout=void 0,c.lxRunTime=void 0,Er()},w)},e0=()=>{const{lyTimeout:s,lyRunTime:h,scrollYStore:b}=c,{visibleSize:C}=b,w=Math.floor(Math.max(4,Math.min(10,C/3)));s&&clearTimeout(s),(!h||h+w<Date.now())&&(c.lyRunTime=Date.now(),Pl()),c.lyTimeout=setTimeout(()=>{c.lyTimeout=void 0,c.lyRunTime=void 0,Pl()},w)},t0=(s,h)=>{const{scrollXLoad:b,scrollYLoad:C}=o,{lcsTimeout:w}=c;w&&clearTimeout(w),c.lcsTimeout=setTimeout(()=>{c.lcsRunTime=Date.now(),c.lcsTimeout=void 0,c.intoRunScroll=!1,c.inVirtualScroll=!1,c.inWheelScroll=!1,c.inHeaderScroll=!1,c.inBodyScroll=!1,c.inFooterScroll=!1,c.scrollRenderType="",yn(),s&&b&&y.updateScrollXData(),h&&C&&y.updateScrollYData().then(()=>{yn(),y.updateScrollYSpace()}),fl(),y.updateCellAreas()},200)},r0=s=>{let h=1;const b=Date.now();return s+25>b?h=1.18:s+30>b?h=1.15:s+40>b?h=1.12:s+55>b?h=1.09:s+75>b?h=1.06:s+100>b&&(h=1.03),h},n0=(s,h)=>{requestAnimationFrame(()=>{h(s)})},o0=(s,h)=>{const b=Math.abs(s),C=performance.now();let w=0;const R=T=>{let A=(T-C)/b;A>1&&(A=1);const N=Math.pow(A,2),z=Math.floor(s*N)-w;w+=z,h(z),A<1&&requestAnimationFrame(R)};requestAnimationFrame(R)},Tr=(s,h,b)=>{n(s,ZN(b,{$table:y,$grid:Ge},h))},a0=(s,h)=>{const{fullColumnIdData:b}=c,C=Zr(y,s);return C&&b[C.id]?yO(y,C,h):ye()},Nc=()=>{const s=x.value;s&&s.clientWidth&&s.clientHeight&&m.recalculate()},Ex=(s,h)=>{y.analyColumnWidth(),y.recalculate().then(()=>{y.saveCustomStore("update:width"),y.updateCellAreas(),y.dispatchEvent("column-resizable-change",h,s),y.dispatchEvent("resizable-change",h,s),setTimeout(()=>y.recalculate(!0),300)})},Rx=(s,h)=>{o.resizeHeightFlag++,y.recalculate().then(()=>{y.updateCellAreas(),y.dispatchEvent("row-resizable-change",h,s),setTimeout(()=>y.recalculate(!0),300)})},Dx=()=>{const{visibleColumn:s,fullColumnIdData:h}=c;let b=0;for(let C=0,w=s.length;C<w;C++){const R=s[C],T=R.id,A=h[T];A.oLeft=b,b+=R.renderWidth}},dl=()=>{const{expandColumn:s}=o,{afterFullData:h,fullAllDataRowIdData:b,rowExpandedMaps:C}=c,w=ir.value,R=re.value,T=be.value,A=X.value,{handleGetRowId:N}=en(y);let z=0;for(let oe=0,ce=h.length;oe<ce;oe++){const fe=h[oe],me=N(fe),we=b[me]||{};we.oTop=z,z+=we.resizeHeight||T.height||R.height||we.height||A,s&&C[me]&&(z+=we.expandHeight||w.height||0)}},fl=()=>{const{expandColumn:s,scrollYLoad:h,scrollYTop:b,isScrollYBig:C}=o,w=ir.value,R=re.value,T=be.value,A=X.value,{mode:N}=w;if(s&&N==="fixed"){const{elemStore:z,fullAllDataRowIdData:oe}=c,ce=le.value,fe=Xt(z["main-body-scroll"]);if(ce&&fe){let me=!1;f.arrayEach(ce.children,we=>{const Ce=we,de=Ce.getAttribute("rowid")||"",Ie=oe[de];if(Ie){const ze=Ce.offsetHeight+1,He=fe.querySelector(`.vxe-body--row[rowid="${de}"]`);let De=0;h?C&&He?De=He.offsetTop+He.offsetHeight:De=Ie.oTop+(Ie.resizeHeight||T.height||R.height||Ie.height||A):He&&(De=He.offsetTop+He.offsetHeight),C&&(De+=b),Ce.style.top=Ab(De),me||Ie.expandHeight!==ze&&(me=!0),Ie.expandHeight=ze}}),me&&(o.rowExpandHeightFlag++,ye(()=>{dl()}))}}},Ox=()=>{const{elemStore:s}=c,h=le.value,b=Xt(s["main-body-scroll"]);h&&b&&(h.scrollTop=b.scrollTop)};m={dispatchEvent:Tr,getEl(){return x.value},clearAll(){return IN(y)},syncData(){return sr("vxe.error.delFunc",["syncData","getData"]),ye().then(()=>(o.tableData=[],n("update:data",c.tableFullData),ye()))},updateData(){const{scrollXLoad:s,scrollYLoad:h}=o;return v.handleTableData(!0).then(()=>{if(m.updateFooter(),s||h)return s&&v.updateScrollXSpace(),h&&v.updateScrollYSpace(),m.refreshScroll()}).then(()=>(m.updateCellAreas(),m.recalculate(!0))).then(()=>{setTimeout(()=>y.recalculate(),50)})},loadData(s){const{initStatus:h}=c;return $t(s,!1).then(()=>(c.inited=!0,c.initStatus=!0,h||Ne(),m.recalculate()))},reloadData(s){return m.clearAll().then(()=>(c.inited=!0,c.initStatus=!0,$t(s,!0))).then(()=>(Ne(),m.recalculate()))},setRow(s,h){if(s&&h){let b=s;f.isArray(s)||(b=[s]);const C=Fa(y);b.forEach(w=>{const R=Ft(y,w),T=f.clone(Object.assign({},h),!0);f.set(T,C,R),Object.assign(w,T)})}return ye()},reloadRow(s,h,b){const{keepSource:C}=e,{tableData:w}=o,{tableSourceData:R}=c;if(C){const T=m.getRowIndex(s),A=R[T];if(A&&s)if(b){const N=f.clone(f.get(h||s,b),!0);f.set(s,b,N),f.set(A,b,N)}else{const N=Fa(y),z=Ft(y,s),oe=f.clone(Object.assign({},h),!0);f.set(oe,N,z),f.destructuring(A,Object.assign(s,oe))}o.tableData=w.slice(0)}return ye()},getParams(){return e.params},loadTreeChildren(s,h){const{keepSource:b}=e,{tableSourceData:C,fullDataRowIdData:w,fullAllDataRowIdData:R,sourceDataRowIdData:T}=c,A=zt.value,{transform:N,mapChildrenField:z}=A,oe=A.children||A.childrenField,ce=R[Ft(y,s)],fe=ce?ce.level:0;return m.createData(h).then(me=>{if(b){const we=Ft(y,s),Ce=f.findTree(C,de=>we===Ft(y,de),{children:oe});Ce&&(Ce.item[oe]=f.clone(me,!0)),me.forEach(de=>{const Ie=Ft(y,de);T[Ie]=f.clone(de,!0)})}return f.eachTree(me,(we,Ce,de,Ie,ze,He)=>{const De=Ft(y,we),at=ze||ce.row,ot={row:we,rowid:De,seq:-1,index:Ce,_index:-1,$index:-1,treeIndex:-1,items:de,parent:at,level:fe+He.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};w[De]=ot,R[De]=ot},{children:oe}),s[oe]=me,N&&(s[z]=f.clone(me,!1)),Or(),me})},loadColumn(s){const h=f.mapTree(s,b=>zr(tr.createColumn(y,b)));return Jr(h)},reloadColumn(s){return m.clearAll().then(()=>m.loadColumn(s))},getRowNode(s){if(s){const{fullAllDataRowIdData:h}=c,b=s.getAttribute("rowid");if(b){const C=h[b];if(C)return{rowid:C.rowid,item:C.row,index:C.index,items:C.items,parent:C.parent}}}return null},getColumnNode(s){if(s){const{fullColumnIdData:h}=c,b=s.getAttribute("colid");if(b){const C=h[b];if(C)return{colid:C.colid,item:C.column,index:C.index,items:C.items,parent:C.parent}}}return null},getRowSeq:ul("seq"),getRowIndex:ul("index"),getVTRowIndex:ul("_index"),getVMRowIndex:ul("$index"),getColumnIndex:Ll("index"),getVTColumnIndex:Ll("_index"),getVMColumnIndex:Ll("$index"),createData(s){return ye().then(()=>zr(v.defineField(s)))},createRow(s){const h=f.isArray(s);return h||(s=[s||{}]),m.createData(s).then(b=>h?b:b[0])},revertData(s,h){const{keepSource:b,treeConfig:C}=e,{fullAllDataRowIdData:w,fullDataRowIdData:R,tableSourceData:T,sourceDataRowIdData:A,tableFullData:N,afterFullData:z,removeRowMaps:oe}=c,ce=zt.value,{transform:fe}=ce,{handleGetRowId:me}=en(y);if(!b)return ye();let we=s;s?f.isArray(s)||(we=[s]):we=f.toArray(y.getUpdateRecords());let Ce=!1;return we.length&&we.forEach(de=>{const Ie=me(de),ze=w[Ie];if(ze){const He=ze.row;if(!y.isInsertByRow(He)){const De=A[Ie];De&&He&&(h?f.set(He,h,f.clone(f.get(De,h),!0)):f.destructuring(He,f.clone(De,!0)),!R[Ie]&&y.isRemoveByRow(He)&&(oe[Ie]&&delete oe[Ie],N.unshift(He),z.unshift(He),Ce=!0))}}}),s?(Ce&&(o.removeRowFlag++,y.updateFooter(),y.cacheRowMap(!1),y.handleTableData(C&&fe),C&&fe||y.updateAfterDataIndex(),y.checkSelectionStatus(),o.scrollYLoad&&y.updateScrollYSpace()),ye().then(()=>(y.updateCellAreas(),y.recalculate()))):y.reloadData(T)},clearData(s,h){const{tableFullData:b,visibleColumn:C}=c;return arguments.length?s&&!f.isArray(s)&&(s=[s]):s=b,h?s.forEach(w=>f.set(w,h,null)):s.forEach(w=>{C.forEach(R=>{R.field&&fa(w,R,null)})}),ye()},getCellElement(s,h){const{elemStore:b}=c,C=Zr(y,h);if(!C)return null;const w=Ft(y,s),R=Xt(b["main-body-scroll"]),T=Xt(b["left-body-scroll"]),A=Xt(b["right-body-scroll"]);let N;return C&&(C.fixed&&(C.fixed==="left"?T&&(N=T):A&&(N=A)),N||(N=R),N)?N.querySelector(`.vxe-body--row[rowid="${w}"] .${C.id}`):null},getCellLabel(s,h){const b=Zr(y,h);if(!b)return null;const C=b.formatter,w=on(s,b);let R=w;if(C){let T;const{fullAllDataRowIdData:A}=c,N=Ft(y,s),z=b.id,oe=A[N];if(oe&&(T=oe.formatData,T||(T=A[N].formatData={}),oe&&T[z]&&T[z].value===w))return T[z].label;const ce={cellValue:w,row:s,rowIndex:m.getRowIndex(s),column:b,columnIndex:m.getColumnIndex(b)};if(f.isString(C)){const fe=AO.get(C),me=fe?fe.tableCellFormatMethod||fe.cellFormatMethod:null;R=me?me(ce):""}else if(f.isArray(C)){const fe=AO.get(C[0]),me=fe?fe.tableCellFormatMethod||fe.cellFormatMethod:null;R=me?me(ce,...C.slice(1)):""}else R=C(ce);T&&(T[z]={value:w,label:R})}return R},isInsertByRow(s){const h=Ft(y,s);return!!o.insertRowFlag&&!!c.insertRowMaps[h]},isRemoveByRow(s){const h=Ft(y,s);return!!o.removeRowFlag&&!!c.removeRowMaps[h]},removeInsertRow(){return c.insertRowMaps={},y.remove(y.getInsertRecords())},isUpdateByRow(s,h){const{keepSource:b}=e,{tableFullColumn:C,fullDataRowIdData:w,sourceDataRowIdData:R}=c;if(b){const T=f.isString(s)||f.isNumber(s)?s:Ft(y,s),A=w[T];if(!A)return!1;const N=A.row,z=R[T];if(z){if(arguments.length>1)return!Do(z,N,h);for(let oe=0,ce=C.length;oe<ce;oe++){const fe=C[oe].field;if(fe&&!Do(z,N,fe))return!0}}}return!1},getColumns(s){const{visibleColumn:h}=c;return f.isUndefined(s)?h.slice(0):h[s]},getColid(s){const h=Zr(y,s);return h?h.id:null},getColumnById(s){const{fullColumnIdData:h}=c;return s&&h[s]?h[s].column:null},getColumnByField(s){const h=c.fullColumnFieldData;return s&&h[s]?h[s].column:null},getParentColumn(s){const{fullColumnIdData:h}=c,b=Zr(y,s);return b&&b.parentId&&h[b.parentId]?h[b.parentId].column:null},getTableColumn(){return{collectColumn:c.collectColumn.slice(0),fullColumn:c.tableFullColumn.slice(0),visibleColumn:c.visibleColumn.slice(0),tableColumn:o.tableColumn.slice(0)}},moveColumnTo(s,h,b){const{fullColumnIdData:C,visibleColumn:w}=c,{dragToChild:R,dragPos:T,isCrossDrag:A}=Object.assign({},b),N=Zr(y,s);let z=null;const oe=N?C[N.id]:null;let ce="left";if(f.isNumber(h)){if(oe&&h){let fe=oe.items,me=oe._index+h;A&&(fe=w,me=oe._index+h),me>0&&me<fe.length-1&&(z=fe[me]),h>0&&(ce="right")}}else{z=Zr(y,h);const fe=z?C[z.id]:null;oe&&fe&&fe._index>oe._index&&(ce="right")}return y.handleColDragSwapEvent(null,!0,N,z,T||ce,R===!0)},moveRowTo(s,h,b){const{treeConfig:C}=e,{fullAllDataRowIdData:w,afterFullData:R}=c,{dragToChild:T,dragPos:A,isCrossDrag:N}=Object.assign({},b),z=zt.value,oe=mO(y,s);let ce=null,fe="top";const me=oe?w[Ft(y,oe)]:null;if(f.isNumber(h)){if(me&&h){let we=R,Ce=me._index+h;C&&(we=me.items,z.transform&&(Ce=me.treeIndex+h,N&&(we=R,Ce=me._index+h))),Ce>=0&&Ce<=we.length-1&&(ce=we[Ce]),h>0&&(fe="bottom")}}else{ce=mO(y,h);const we=ce?w[Ft(y,ce)]:null;me&&we&&we._index>me._index&&(fe="bottom")}return y.handleRowDragSwapEvent(null,!0,oe,ce,A||fe,T===!0)},getFullColumns(){const{collectColumn:s}=c;return s.slice(0)},getData(s){const h=e.data||c.tableSynchData;return f.isUndefined(s)?h.slice(0):h[s]},getCheckboxRecords(s){const{treeConfig:h}=e,{updateCheckboxFlag:b}=o,{tableFullData:C,afterFullData:w,afterTreeFullData:R,tableFullTreeData:T,fullDataRowIdData:A,afterFullRowMaps:N,selectCheckboxMaps:z}=c,oe=zt.value,ce=Me.value,{transform:fe,mapChildrenField:me}=oe,{checkField:we}=ce,Ce=oe.children||oe.childrenField;let de=[];if(b)if(we)if(h){const Ie=s?fe?T:C:fe?R:w;de=f.filterTree(Ie,ze=>f.get(ze,we),{children:fe?me:Ce})}else de=(s?C:w).filter(ze=>f.get(ze,we));else f.each(z,(Ie,ze)=>{s?A[ze]&&de.push(A[ze].row):N[ze]&&de.push(N[ze])});return de},getTreeRowChildren(s){const{treeConfig:h}=e,{fullAllDataRowIdData:b}=c,C=zt.value,{transform:w,mapChildrenField:R}=C,T=C.children||C.childrenField;if(s&&h){let A;if(f.isString(s)?A=s:A=Ft(y,s),A){const N=b[A],z=N?N.row:null;if(z)return z[w?R:T]||[]}}return[]},getTreeParentRow(s){const{treeConfig:h}=e,{fullAllDataRowIdData:b}=c;if(s&&h){let C;if(f.isString(s)?C=s:C=Ft(y,s),C){const w=b[C];return w?w.parent:null}}return null},getParentRow(s){return sr("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),y.getTreeParentRow(s)},getRowById(s){const{fullAllDataRowIdData:h}=c,b=f.eqNull(s)?"":encodeURIComponent(s||"");return h[b]?h[b].row:null},getRowid(s){return Ft(y,s)},getTableData(){const{tableData:s,footerTableData:h}=o,{tableFullData:b,afterFullData:C,tableFullTreeData:w}=c;return{fullData:e.treeConfig?w.slice(0):b.slice(0),visibleData:C.slice(0),tableData:s.slice(0),footerData:h.slice(0)}},getFullData(){const{treeConfig:s}=e,{tableFullData:h,tableFullTreeData:b}=c;if(s){const C=zt.value,{transform:w,mapChildrenField:R,rowField:T,parentField:A}=C,N=C.children||C.childrenField;return w?f.toArrayTree(f.toTreeArray(b,{children:R}),{key:T,parentKey:A,children:N,mapChildren:R}):b.slice(0)}return h.slice(0)},setColumnFixed(s,h){let b=!1;const C=f.isArray(s)?s:[s],w=W.value,R=Dn.value;for(let T=0;T<C.length;T++){const A=C[T],N=Zr(y,A),z=xO(y,N);if(z&&z.fixed!==h){if(!z.fixed&&R)return Se.modal&&Se.modal.message({status:"error",content:sa("vxe.table.maxFixedCol",[w.maxFixedSize])}),ye();f.eachTree([z],oe=>{oe.fixed=h}),v.saveCustomStore("update:fixed"),b||(b=!0)}}return b?m.refreshColumn():ye()},clearColumnFixed(s){let h=!1;return(f.isArray(s)?s:[s]).forEach(C=>{const w=Zr(y,C),R=xO(y,w);R&&R.fixed&&(f.eachTree([R],T=>{T.fixed=null}),v.saveCustomStore("update:fixed"),h||(h=!0))}),h?m.refreshColumn():ye()},hideColumn(s){let h=!1;return(f.isArray(s)?s:[s]).forEach(C=>{const w=Zr(y,C);w&&w.visible&&(w.visible=!1,h||(h=!0))}),h?v.handleCustom():ye()},showColumn(s){let h=!1;return(f.isArray(s)?s:[s]).forEach(C=>{const w=Zr(y,C);w&&!w.visible&&(w.visible=!0,h||(h=!0))}),h?v.handleCustom():ye()},setColumnWidth(s,h){const{elemStore:b}=c;let C=!1;const w=f.isArray(s)?s:[s];let R=f.toInteger(h);if(Zl(h)){const T=Xt(b["main-body-scroll"]),A=T?T.clientWidth-1:0;R=Math.floor(R*A)}return R&&(w.forEach(T=>{const A=Zr(y,T);A&&(A.resizeWidth=R,C||(C=!0))}),C)?y.refreshColumn().then(()=>({status:C})):ye().then(()=>({status:C}))},getColumnWidth(s){const h=Zr(y,s);return h?h.renderWidth:0},resetColumn(s){return sr("vxe.error.delFunc",["resetColumn","resetCustom"]),y.resetCustom(s)},refreshColumn(s){return s&&ar(),Ln(!0).then(()=>m.refreshScroll()).then(()=>m.recalculate())},setRowHeightConf(s){const{fullAllDataRowIdData:h}=c;let b=!1;return s&&(f.each(s,(C,w)=>{const R=h[w];if(R){const T=f.toInteger(C);T&&(R.resizeHeight=T,b||(b=!0))}}),b&&(c.isResizeCellHeight=!0,o.resizeHeightFlag++)),ye().then(()=>(dl(),{status:b}))},getRowHeightConf(s){const{fullAllDataRowIdData:h,afterFullData:b}=c,{handleGetRowId:C}=en(y),w=re.value,R=be.value,T=X.value,A={};return b.forEach(N=>{const z=C(N),oe=h[z];if(oe){const ce=oe.resizeHeight;if(ce||s){const fe=ce||R.height||w.height||oe.height||T;A[z]=fe}}}),A},setRowHeight(s,h){const{fullAllDataRowIdData:b}=c;let C=!1;const w=f.isArray(s)?s:[s];let R=f.toInteger(h);if(Zl(h)){const T=M.value,A=T?T.$el:null,N=A?A.clientHeight-1:0;R=Math.floor(R*N)}if(R){const{handleGetRowId:T}=en(y);w.forEach(A=>{const N=f.isString(A)||f.isNumber(A)?A:T(A),z=b[N];z&&(z.resizeHeight=R,C||(C=!0))}),C&&(c.isResizeCellHeight=!0,o.resizeHeightFlag++)}return ye().then(()=>({status:C}))},getRowHeight(s){const{fullAllDataRowIdData:h}=c,b=re.value,C=be.value,w=X.value,R=f.isString(s)||f.isNumber(s)?s:Ft(y,s),T=h[R];return T?T.resizeHeight||C.height||b.height||T.height||w:0},refreshScroll(){const{elemStore:s,lastScrollLeft:h,lastScrollTop:b}=c,C=Xt(s["main-header-scroll"]),w=Xt(s["main-body-scroll"]),R=Xt(s["main-footer-scroll"]),T=Xt(s["left-body-scroll"]),A=Xt(s["right-body-scroll"]),N=K.value,z=ie.value;return new Promise(oe=>{if(h||b)return gb(y,h,b).then().then(()=>{setTimeout(oe,10)});c.intoRunScroll=!0,Ar(z,b),Ar(w,b),Ar(T,b),Ar(A,b),_r(N,h),_r(w,h),_r(C,h),_r(R,h),setTimeout(()=>{c.intoRunScroll=!1,oe()},10)})},recalculate(s){return new Promise(h=>{const{rceTimeout:b,rceRunTime:C}=c,R=lt.value.refreshDelay||20,T=x.value;T&&T.clientWidth&&(Io(),fl()),b?(clearTimeout(b),C&&C+(R-5)<Date.now()?h(Vt(!!s)):ye(()=>{h()})):h(Vt(!!s)),c.rceTimeout=setTimeout(()=>{c.rceTimeout=void 0,Vt(!!s)},R)})},openTooltip(s,h){const b=E.value;return b&&b.open?b.open(s,h):ye()},closeTooltip(){const{tooltipStore:s}=o,h=k.value,b=E.value;return s.visible&&(Object.assign(s,{row:null,column:null,content:null,visible:!1,currOpts:{}}),h&&h.close&&h.close()),b&&b.close&&b.close(),ye()},isAllCheckboxChecked(){return o.isAllSelected},isAllCheckboxIndeterminate(){return!o.isAllSelected&&o.isIndeterminate},getCheckboxIndeterminateRecords(s){const{treeConfig:h}=e,{fullDataRowIdData:b,treeIndeterminateRowMaps:C}=c;if(h){const w=[],R=[];return f.each(C,(T,A)=>{T&&(w.push(T),b[A]&&R.push(T))}),s?w:R}return[]},setCheckboxRow(s,h){return s&&!f.isArray(s)&&(s=[s]),Lr(s,h,!0)},setCheckboxRowKey(s,h){const{fullAllDataRowIdData:b}=c;f.isArray(s)||(s=[s]);const C=[];return s.forEach(w=>{const R=b[w];R&&C.push(R.row)}),Lr(C,h,!0)},isCheckedByCheckboxRow(s){const{updateCheckboxFlag:h}=o,{selectCheckboxMaps:b}=c,C=Me.value,{checkField:w}=C;return w?f.get(s,w):!!h&&!!b[Ft(y,s)]},isCheckedByCheckboxRowKey(s){const{updateCheckboxFlag:h}=o,{fullAllDataRowIdData:b,selectCheckboxMaps:C}=c,w=Me.value,{checkField:R}=w;if(R){const T=b[s];return T?f.get(T.row,R):!1}return!!h&&!!C[s]},isIndeterminateByCheckboxRow(s){const{treeIndeterminateRowMaps:h}=c;return!!h[Ft(y,s)]&&!y.isCheckedByCheckboxRow(s)},isIndeterminateByCheckboxRowKey(s){const{treeIndeterminateRowMaps:h}=c;return!!h[s]&&!y.isCheckedByCheckboxRowKey(s)},toggleCheckboxRow(s){const{selectCheckboxMaps:h}=c,b=Me.value,{checkField:C}=b,w=C?!f.get(s,C):!h[Ft(y,s)];return v.handleBatchSelectRows([s],w,!0),v.checkSelectionStatus(),ye()},setAllCheckboxRow(s){return sn(s,!0)},getRadioReserveRecord(s){const{treeConfig:h}=e,{fullDataRowIdData:b,radioReserveRow:C,afterFullData:w}=c,R=ve.value,T=zt.value,A=T.children||T.childrenField;if(R.reserve&&C){const N=Ft(y,C);if(s){if(!b[N])return C}else{const z=Fa(y);if(h){if(f.findTree(w,ce=>N===f.get(ce,z),{children:A}))return C}else if(!w.some(oe=>N===f.get(oe,z)))return C}}return null},clearRadioReserve(){return c.radioReserveRow=null,ye()},getCheckboxReserveRecords(s){const{treeConfig:h}=e,{afterFullData:b,fullDataRowIdData:C,checkboxReserveRowMap:w}=c,R=Me.value,T=zt.value,A=T.children||T.childrenField,N=[];if(R.reserve){const{handleGetRowId:z}=en(y),oe={};h?f.eachTree(b,ce=>{oe[z(ce)]=1},{children:A}):b.forEach(ce=>{oe[z(ce)]=1}),f.each(w,(ce,fe)=>{ce&&(s?C[fe]||N.push(ce):oe[fe]||N.push(ce))})}return N},clearCheckboxReserve(){return c.checkboxReserveRowMap={},ye()},toggleAllCheckboxRow(){return Cs(null,!o.isAllSelected),ye()},clearCheckboxRow(){const{treeConfig:s}=e,{tableFullData:h}=c,b=zt.value,C=b.children||b.childrenField,w=Me.value,{checkField:R,reserve:T}=w,A=w.indeterminateField||w.halfField;if(R){const N=z=>{s&&A&&f.set(z,A,!1),f.set(z,R,!1)};s?f.eachTree(h,N,{children:C}):h.forEach(N)}return T&&h.forEach(N=>Pn(N,!1)),o.isAllSelected=!1,o.isIndeterminate=!1,c.selectCheckboxMaps={},c.treeIndeterminateRowMaps={},o.updateCheckboxFlag++,ye()},setCurrentRow(s){const h=re.value,b=x.value;return m.clearCurrentRow(),o.currentRow=s,(h.isCurrent||e.highlightCurrentRow)&&b&&f.arrayEach(b.querySelectorAll(`[rowid="${Ft(y,s)}"]`),C=>Go(C,"row--current")),ye()},isCheckedByRadioRow(s){const{selectRadioRow:h}=o;return s&&h?y.eqRow(h,s):!1},isCheckedByRadioRowKey(s){const{selectRadioRow:h}=o;return h?s===Ft(y,h):!1},setRadioRow(s){return cr(s,!0)},setRadioRowKey(s){const{fullAllDataRowIdData:h}=c,b=h[s];return b?cr(b.row,!0):ye()},clearCurrentRow(){const s=x.value;return o.currentRow=null,c.hoverRow=null,s&&f.arrayEach(s.querySelectorAll(".row--current"),h=>Zn(h,"row--current")),ye()},clearRadioRow(){return o.selectRadioRow=null,ye()},getCurrentRecord(){return re.value.isCurrent||e.highlightCurrentRow?o.currentRow:null},getRadioRecord(s){const{fullDataRowIdData:h,afterFullRowMaps:b}=c,{selectRadioRow:C}=o;if(C){const w=Ft(y,C);if(s){if(h[w])return C}else if(b[w])return C}return null},getCurrentColumn(){return W.value.isCurrent||e.highlightCurrentColumn?o.currentColumn:null},setCurrentColumn(s){const{mouseConfig:h}=e,b=ft.value,C=h&&b.selected,w=Zr(y,s);return w&&(y.clearCurrentColumn(),o.currentColumn=w),ye().then(()=>{C&&y.addCellSelectedClass()})},clearCurrentColumn(){return o.currentColumn=null,ye()},setPendingRow(s,h){const{handleGetRowId:b}=en(y),{pendingRowMaps:C}=c;return s&&!f.isArray(s)&&(s=[s]),h?s.forEach(w=>{const R=b(w);R&&!C[R]&&(C[R]=w)}):s.forEach(w=>{const R=b(w);R&&C[R]&&delete C[R]}),o.pendingRowFlag++,ye()},togglePendingRow(s){const{handleGetRowId:h}=en(y),{pendingRowMaps:b}=c;return s&&!f.isArray(s)&&(s=[s]),s.forEach(C=>{const w=h(C);w&&(b[w]?delete b[w]:b[w]=C)}),o.pendingRowFlag++,ye()},hasPendingByRow(s){return m.isPendingByRow(s)},isPendingByRow(s){const{pendingRowMaps:h}=c,b=Ft(y,s);return!!h[b]},getPendingRecords(){const{fullAllDataRowIdData:s,pendingRowMaps:h}=c,b=[];return f.each(h,(C,w)=>{s[w]&&b.push(C)}),b},clearPendingRow(){return c.pendingRowMaps={},o.pendingRowFlag++,ye()},sort(s,h){const b=dt.value,{multiple:C,remote:w,orders:R}=b;return s&&f.isString(s)&&(s=[{field:s,order:h}]),f.isArray(s)||(s=[s]),s.length?(C||Mn(),(C?s:[s[0]]).forEach((T,A)=>{let{field:N,order:z}=T,oe=N;f.isString(N)&&(oe=m.getColumnByField(N)),oe&&oe.sortable&&(R.indexOf(z)===-1&&(z=Qr(oe)),oe.order!==z&&(oe.order=z),oe.sortTime=Date.now()+A)}),w||v.handleTableData(!0),ye().then(()=>(m.updateCellAreas(),Hr()))):ye()},setSort(s,h){const b=dt.value,{multiple:C,remote:w,orders:R}=b;if(f.isArray(s)||(s=[s]),s&&s.length){C||(s=[s[0]],Mn());let T=null;return s.forEach((A,N)=>{let{field:z,order:oe}=A,ce=z;f.isString(z)&&(ce=m.getColumnByField(z)),T||(T=ce),ce&&ce.sortable&&(R.indexOf(oe)===-1&&(oe=Qr(ce)),ce.order!==oe&&(ce.order=oe),ce.sortTime=Date.now()+N)}),h&&(w||v.handleTableData(!0),y.handleColumnSortEvent(new Event("click"),T)),ye().then(()=>(m.updateCellAreas(),Hr()))}return ye()},clearSort(s){const h=dt.value;if(s){const b=Zr(y,s);b&&(b.order=null)}else Mn();return h.remote||v.handleTableData(!0),ye().then(Hr)},isSort(s){if(s){const h=Zr(y,s);return h?h.sortable&&!!h.order:!1}return m.getSortColumns().length>0},getSortColumns(){const s=dt.value,{multiple:h,chronological:b}=s,C=[],{tableFullColumn:w}=c;return w.forEach(R=>{const{field:T,order:A}=R;R.sortable&&A&&C.push({column:R,field:T,property:T,order:A,sortTime:R.sortTime})}),h&&b&&C.length>1?f.orderBy(C,"sortTime"):C},closeFilter(){const{filterStore:s}=o,{column:h,visible:b}=s;return Object.assign(s,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),b&&Tr("filter-visible",{column:h,property:h.field,field:h.field,filterList:()=>y.getCheckedFilters(),visible:!1},null),ye()},isActiveFilterByColumn(s){const h=Zr(y,s);return h?h.filters&&h.filters.some(b=>b.checked):y.getCheckedFilters().length>0},isFilter(s){return m.isActiveFilterByColumn(s)},isRowExpandLoaded(s){const{fullAllDataRowIdData:h}=c,b=h[Ft(y,s)];return b&&!!b.expandLoaded},clearRowExpandLoaded(s){const{fullAllDataRowIdData:h,rowExpandLazyLoadedMaps:b}=c,C=ir.value,{lazy:w}=C,R=Ft(y,s),T=h[R];return w&&T&&(T.expandLoaded=!1,delete b[R]),o.rowExpandedFlag++,ye()},reloadRowExpand(s){const{rowExpandLazyLoadedMaps:h}=c,b=ir.value,{lazy:C}=b,w=Ft(y,s);return C&&!h[w]&&y.clearRowExpandLoaded(s).then(()=>he(s)),ye()},reloadExpandContent(s){return y.reloadRowExpand(s)},toggleRowExpand(s){return y.setRowExpand(s,!y.isRowExpandByRow(s))},setAllRowExpand(s){const h=zt.value,{tableFullData:b,tableFullTreeData:C}=c,w=h.children||h.childrenField;let R=[];return e.treeConfig?f.eachTree(C,T=>{R.push(T)},{children:w}):R=b,m.setRowExpand(R,s)},setRowExpand(s,h){const{expandColumn:b}=o;let{fullAllDataRowIdData:C,rowExpandedMaps:w,rowExpandLazyLoadedMaps:R}=c;const{handleGetRowId:T}=en(y),A=ir.value,{reserve:N,lazy:z,accordion:oe,toggleMethod:ce}=A,fe=[],me=y.getColumnIndex(b),we=y.getVMColumnIndex(b);if(s){f.isArray(s)||(s=[s]),oe&&(w={},c.rowExpandedMaps=w,s=s.slice(s.length-1,s.length));const Ce=ce?s.filter(de=>ce({$table:y,expanded:h,column:b,columnIndex:me,$columnIndex:we,row:de,rowIndex:m.getRowIndex(de),$rowIndex:m.getVMRowIndex(de)})):s;h?Ce.forEach(de=>{const Ie=T(de);if(!w[Ie]){const ze=C[Ie];z&&!ze.expandLoaded&&!R[Ie]?fe.push(he(de)):w[Ie]=de}}):Ce.forEach(de=>{const Ie=T(de);w[Ie]&&delete w[Ie]}),N&&Ce.forEach(de=>Te(de,h))}return o.rowExpandedFlag++,Promise.all(fe).then(()=>ye()).then(()=>y.recalculate(!0)).then(()=>(dl(),fl(),Ox(),y.updateCellAreas()))},isRowExpandByRow(s){const{rowExpandedFlag:h}=o,{rowExpandedMaps:b}=c,C=Ft(y,s);return!!h&&!!b[C]},isExpandByRow(s){return m.isRowExpandByRow(s)},clearRowExpand(){const{tableFullData:s}=c,h=ir.value,{reserve:b}=h,C=y.getRowExpandRecords();return c.rowExpandedMaps={},o.rowExpandedFlag++,b&&s.forEach(w=>Te(w,!1)),ye().then(()=>{if(C.length)return y.recalculate(!0)}).then(()=>(dl(),fl(),Ox(),y.updateCellAreas()))},clearRowExpandReserve(){return c.rowExpandedReserveRowMap={},ye()},getRowExpandRecords(){const s=[];return f.each(c.rowExpandedMaps,h=>{h&&s.push(h)}),s},getTreeExpandRecords(){const s=[];return f.each(c.treeExpandedMaps,h=>{h&&s.push(h)}),s},isTreeExpandLoaded(s){const{fullAllDataRowIdData:h}=c,b=h[Ft(y,s)];return b&&!!b.treeLoaded},clearTreeExpandLoaded(s){const{fullAllDataRowIdData:h,treeExpandedMaps:b}=c,C=zt.value,{transform:w}=C;return s?(f.isArray(s)||(s=[s]),s.forEach(R=>{const T=Ft(y,R),A=h[T];A&&(A.treeLoaded=!1,b[T]&&delete b[T])})):f.each(h,R=>{R.treeLoaded=!1}),c.treeExpandedMaps={},o.treeExpandedFlag++,w?(fn(),y.handleTableData()):ye()},reloadTreeExpand(s){const{treeExpandLazyLoadedMaps:h}=c,b=zt.value,C=b.hasChild||b.hasChildField,{transform:w,lazy:R}=b,T=Ft(y,s);return R&&s[C]&&!h[T]?m.clearTreeExpandLoaded(s).then(()=>Va(s)).then(()=>{if(w)return fn(),v.handleTableData()}).then(()=>m.recalculate()):ye()},reloadTreeChilds(s){return m.reloadTreeExpand(s)},toggleTreeExpand(s){return m.setTreeExpand(s,!m.isTreeExpandByRow(s))},setAllTreeExpand(s){const{tableFullData:h}=c,b=zt.value,{transform:C,lazy:w}=b,R=b.children||b.childrenField,T=[];return f.eachTree(h,A=>{const N=A[R];(w||N&&N.length)&&T.push(A)},{children:R}),m.setTreeExpand(T,s).then(()=>{if(C)return fn(),m.recalculate()})},setTreeExpand(s,h){const b=zt.value,{transform:C}=b;return s&&(f.isArray(s)||(s=[s]),s.length)?C?Lc(s,h):Ea(s,h):ye()},isTreeExpandByRow(s){const{treeExpandedFlag:h}=o,{treeExpandedMaps:b}=c;return!!h&&!!b[Ft(y,s)]},clearTreeExpand(){const{tableFullTreeData:s}=c,h=zt.value,b=h.children||h.childrenField,{transform:C,reserve:w}=h,R=y.getTreeExpandRecords();return c.treeExpandedMaps={},o.treeExpandedFlag++,w&&f.eachTree(s,T=>I(T,!1),{children:b}),y.handleTableData().then(()=>{if(C)return fn(),y.handleTableData()}).then(()=>{if(R.length)return y.recalculate()})},clearTreeExpandReserve(){return c.treeExpandedReserveRowMap={},ye()},getScroll(){const{scrollXLoad:s,scrollYLoad:h}=o,{elemStore:b}=c,C=Xt(b["main-body-scroll"]);return{virtualX:s,virtualY:h,scrollTop:C?C.scrollTop:0,scrollLeft:C?C.scrollLeft:0}},scrollTo(s,h){const{elemStore:b}=c,C=Xt(b["main-header-scroll"]),w=Xt(b["main-body-scroll"]),R=Xt(b["main-footer-scroll"]),T=Xt(b["left-body-scroll"]),A=Xt(b["right-body-scroll"]),N=K.value,z=ie.value;return c.intoRunScroll=!0,f.isNumber(s)&&(_r(N,s),_r(w,s),_r(C,s),_r(R,s)),f.isNumber(h)&&(Ar(z,h),Ar(w,h),Ar(T,h),Ar(A,h)),o.scrollXLoad||o.scrollYLoad?new Promise(oe=>{setTimeout(()=>{ye(()=>{c.intoRunScroll=!1,oe()})},30)}):ye()},scrollToRow(s,h){const{isAllOverflow:b,scrollYLoad:C,scrollXLoad:w}=o,R=[];return s&&(e.treeConfig?R.push(v.scrollToTreeRow(s)):R.push(CO(y,s))),h&&R.push(a0(h,s)),Promise.all(R).then(()=>{if(s)return!b&&(C||w)&&(yn(),Cn()),ye()})},scrollToColumn(s){const{fullColumnIdData:h}=c,b=Zr(y,s);return b&&h[b.id]?yO(y,b):ye()},clearScroll(){const{elemStore:s,scrollXStore:h,scrollYStore:b}=c,C=Xt(s["main-header-scroll"]),w=Xt(s["main-body-scroll"]),R=Xt(s["main-footer-scroll"]),T=Xt(s["left-body-scroll"]),A=Xt(s["right-body-scroll"]),N=K.value,z=ie.value;return c.intoRunScroll=!0,_r(N,0),_r(w,0),_r(C,0),_r(R,0),Ar(z,0),Ar(w,0),Ar(T,0),Ar(A,0),h.startIndex=0,h.visibleStartIndex=0,h.endIndex=h.visibleSize,h.visibleEndIndex=h.visibleSize,b.startIndex=0,b.visibleStartIndex=0,b.endIndex=b.visibleSize,b.visibleEndIndex=b.visibleSize,ye().then(()=>{c.intoRunScroll=!1})},updateFooter(){const{showFooter:s,footerData:h,footerMethod:b}=e,{visibleColumn:C,afterFullData:w}=c;let R=[];return s&&h&&h.length?R=h.slice(0):s&&b&&(R=C.length?b({columns:C,data:w,$table:y,$grid:Ge}):[]),o.footerTableData=R,ye()},updateStatus(s,h){return ye().then(()=>{const{editRules:b}=e;if(s&&b)return y.handleCellRuleUpdateStatus("change",s,h)})},setMergeCells(s){return e.spanMethod&&Bt("vxe.error.errConflicts",["merge-cells","span-method"]),io(s,o.mergeList,c.afterFullData),ye().then(()=>(m.updateCellAreas(),Hr()))},removeMergeCells(s){e.spanMethod&&Bt("vxe.error.errConflicts",["merge-cells","span-method"]);const h=To(s,o.mergeList,c.afterFullData);return ye().then(()=>(m.updateCellAreas(),Hr(),h))},getMergeCells(){return o.mergeList.slice(0)},clearMergeCells(){return o.mergeList=[],ye().then(()=>Hr())},setMergeFooterItems(s){return e.footerSpanMethod&&Bt("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),io(s,o.mergeFooterList),ye().then(()=>(m.updateCellAreas(),Hr()))},removeMergeFooterItems(s){e.footerSpanMethod&&Bt("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const h=To(s,o.mergeFooterList);return ye().then(()=>(m.updateCellAreas(),Hr(),h))},getMergeFooterItems(){return o.mergeFooterList.slice(0)},clearMergeFooterItems(){return o.mergeFooterList=[],ye().then(()=>Hr())},updateCellAreas(){const{mouseConfig:s}=e,h=ft.value;return s&&h.area&&y.handleRecalculateCellAreaEvent?y.handleRecalculateCellAreaEvent():ye()},getCustomStoreData(){const{id:s}=e,h=$r.value,{collectColumn:b}=c,{storage:C,checkMethod:w}=h,R=C===!0,T=R?{}:Object.assign({},C||{}),A=R||T.resizable,N=R||T.visible,z=R||T.fixed,oe=R||T.sort,ce={},fe={},me={},we={},Ce={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!s)return Bt("vxe.error.reqProp",["id"]),Ce;let de=0,Ie=0,ze=0,He=0;return f.eachTree(b,(De,at,ot,Mt,At)=>{const Nt=De.getKey();if(!Nt){Bt("vxe.error.reqProp",[`${De.getTitle()||De.type||""} -> column.field=?`]);return}At||(oe&&(Ie=1,fe[Nt]=De.renderSortNumber),z&&De.fixed!==De.defaultFixed&&(ze=1,we[Nt]=De.fixed)),A&&De.resizeWidth&&(de=1,ce[Nt]=De.renderWidth),N&&(!w||w({column:De}))&&(!De.visible&&De.defaultVisible?(He=1,me[Nt]=!1):De.visible&&!De.defaultVisible&&(He=1,me[Nt]=!0))}),de&&(Ce.resizableData=ce),Ie&&(Ce.sortData=fe),ze&&(Ce.fixedData=we),He&&(Ce.visibleData=me),Ce},focus(){return c.isActivated=!0,ye()},blur(){return c.isActivated=!1,ye()},connect(s){return s?(ut=s,ut.syncUpdate({collectColumn:c.collectColumn,$table:y})):Bt("vxe.error.barUnableLink"),ye()}};const l0=s=>{const{editStore:h,ctxMenuStore:b,filterStore:C,customStore:w}=o,{mouseConfig:R,editRules:T}=e,A=x.value,N=Xe.value,z=_t.value,oe=Rt.value,{actived:ce}=h,fe=D.value,me=V.value,we=q.value,Ce=P.value;if(me&&(br(s,A,"vxe-cell--filter").flag||br(s,me.$el).flag||br(s,document.body,"vxe-table--ignore-clear").flag||v.preventEvent(s,"event.clearFilter",C.args,m.closeFilter)),we&&(w.btnEl===s.target||br(s,document.body,"vxe-toolbar-custom-target").flag||br(s,we.$el).flag||br(s,document.body,"vxe-table--ignore-clear").flag||v.preventEvent(s,"event.clearCustom",{},()=>{y.closeCustom&&y.closeCustom()})),ce.row){if(N.autoClear!==!1){const Ie=ce.args.cell;(!Ie||!br(s,Ie).flag)&&(fe&&br(s,fe.$el).flag||(!c._lastCallTime||c._lastCallTime+50<Date.now())&&(br(s,document.body,"vxe-table--ignore-clear").flag||v.preventEvent(s,"event.clearEdit",ce.args,()=>{let ze;if(N.mode==="row"){const He=br(s,A,"vxe-body--row"),De=He.flag?m.getRowNode(He.targetElem):null;ze=De?!y.eqRow(De.item,ce.args.row):!1}else ze=!br(s,A,"col--edit").flag;if(ze||(ze=br(s,A,"vxe-header--row").flag),ze||(ze=br(s,A,"vxe-footer--row").flag),!ze&&e.height&&!o.overflowY){const He=s.target;va(He,"vxe-table--body-wrapper")&&(ze=s.offsetY<He.clientHeight)}(ze||!br(s,A).flag)&&setTimeout(()=>{y.handleClearEdit(s).then(()=>{!c.isActivated&&T&&z.autoClear&&(o.validErrorMaps={})})})})))}}else if(R&&!br(s,A).flag&&!(Ge&&br(s,Ge.getRefMaps().refElem.value).flag)&&!(Ce&&br(s,Ce.getRefMaps().refElem.value).flag)&&!(ut&&br(s,ut.getRefMaps().refElem.value).flag)&&(y.clearSelected&&y.clearSelected(),oe.autoClear&&y.getCellAreas)){const Ie=y.getCellAreas();Ie&&Ie.length&&!br(s,document.body,"vxe-table--ignore-areas-clear").flag&&v.preventEvent(s,"event.clearAreas",{},()=>{y.clearCellAreas(),y.clearCopyCellArea(),Tr("clear-cell-area-selection",{cellAreas:Ie},s)})}y.closeMenu&&b.visible&&Ce&&!br(s,Ce.getRefMaps().refElem.value).flag&&y.closeMenu();const de=br(s,Ge?Ge.getRefMaps().refElem.value:A).flag;!de&&T&&z.autoClear&&(o.validErrorMaps={}),c.isActivated=de},i0=()=>{m.closeFilter(),y.closeMenu&&y.closeMenu()},s0=()=>{m.closeTooltip(),y.closeMenu&&y.closeMenu()},c0=s=>{const{mouseConfig:h,keyboardConfig:b}=e,{filterStore:C,ctxMenuStore:w,editStore:R}=o,T=ft.value,A=Q.value,{actived:N}=R;Ir.hasKey(s,mo.ESCAPE)&&v.preventEvent(s,"event.keydown",null,()=>{if(Tr("keydown-start",{},s),b&&h&&T.area&&y.handleKeyboardCellAreaEvent)y.handleKeyboardCellAreaEvent(s);else if((N.row||C.visible||w.visible)&&(s.stopPropagation(),y.closeMenu&&y.closeMenu(),m.closeFilter(),b&&A.isEsc&&N.row)){const oe=N.args;y.handleClearEdit(s),T.selected&&ye(()=>y.handleSelected(oe,s))}Tr("keydown",{},s),Tr("keydown-end",{},s)})},u0=s=>{c.isActivated&&y.preventEvent(s,"event.keydown",null,()=>{const{mouseConfig:h,keyboardConfig:b,treeConfig:C,editConfig:w,highlightCurrentRow:R,highlightCurrentColumn:T}=e,{ctxMenuStore:A,editStore:N,currentRow:z}=o,{afterFullData:oe}=c,ce=ht.value,fe=Pt.value,me=Q.value,we=ft.value,Ce=Xe.value,de=zt.value,Ie=Ut.value,ze=re.value,He=W.value,{selected:De,actived:at}=N,ot=de.children||de.childrenField,Mt=s.keyCode,At=Ir.hasKey(s,mo.ESCAPE),Nt=Ir.hasKey(s,mo.BACKSPACE),Yt=Ir.hasKey(s,mo.TAB),Gt=Ir.hasKey(s,mo.ENTER),Et=Ir.hasKey(s,mo.SPACEBAR),Ot=Ir.hasKey(s,mo.ARROW_LEFT),Zt=Ir.hasKey(s,mo.ARROW_UP),gr=Ir.hasKey(s,mo.ARROW_RIGHT),Cr=Ir.hasKey(s,mo.ARROW_DOWN),xr=Ir.hasKey(s,mo.DELETE),vr=Ir.hasKey(s,mo.F2),yr=Ir.hasKey(s,mo.CONTEXT_MENU),Rr=s.metaKey,Vr=s.ctrlKey,Nr=s.shiftKey,Xr=s.altKey,pn=Ot||Zt||gr||Cr,Yn=ce&&A.visible&&(Gt||Et||pn),hn=nr(w)&&at.column&&at.row,gn=Ce.beforeEditMethod||Ce.activeMethod;if(Yn)s.preventDefault(),A.showChild&&ti(A.selected)?y.moveCtxMenu(s,A,"selectChild",Ot,!1,A.selected.children):y.moveCtxMenu(s,A,"selected",gr,!0,Ie);else if(b&&h&&we.area&&y.handleKeyboardCellAreaEvent)y.handleKeyboardCellAreaEvent(s);else if(At){if(y.closeMenu&&y.closeMenu(),y.closeFilter(),b&&me.isEsc&&at.row){const Gr=at.args;y.handleClearEdit(s),we.selected&&ye(()=>y.handleSelected(Gr,s))}}else if(Et&&b&&me.isChecked&&De.row&&De.column&&(De.column.type==="checkbox"||De.column.type==="radio"))s.preventDefault(),De.column.type==="checkbox"?v.handleToggleCheckRowEvent(s,De.args):v.triggerRadioRowEvent(s,De.args);else if(vr&&nr(w))hn||De.row&&De.column&&(s.preventDefault(),y.handleEdit(De.args,s));else if(yr)c._keyCtx=De.row&&De.column&&fe.length,clearTimeout(c.keyCtxTimeout),c.keyCtxTimeout=setTimeout(()=>{c._keyCtx=!1},1e3);else if(Gt&&!Xr&&b&&me.isEnter&&(De.row||at.row||C&&(ze.isCurrent||R)&&z)){const{isLastEnterAppendRow:Gr,beforeEnterMethod:jr,enterMethod:Ra}=me;if(Vr){if(at.row){const vn=at.args;y.handleClearEdit(s),we.selected&&ye(()=>{y.handleSelected(vn,s)})}}else if(De.row||at.row){const vn=De.row?De.args:at.args;if(Nr)me.enterToTab?y.moveTabSelected(vn,Nr,s):y.moveEnterSelected(vn,Ot,!0,gr,!1,s);else if(me.enterToTab)y.moveTabSelected(vn,Nr,s);else{const ho=De.row||at.row,go=De.column||at.column,Rs=y.getVTRowIndex(ho),vo={row:ho,rowIndex:y.getRowIndex(ho),$rowIndex:y.getVMRowIndex(ho),_rowIndex:Rs,column:go,columnIndex:y.getColumnIndex(go),$columnIndex:y.getVMColumnIndex(go),_columnIndex:y.getVTColumnIndex(go),$table:y};if(!jr||jr(vo)!==!1){if(Gr&&Rs>=oe.length-1){y.insertAt({},-1).then(({row:Ds})=>{y.scrollToRow(Ds,go),y.handleSelected(Object.assign(Object.assign({},vn),{row:Ds}),s)}),y.dispatchEvent("enter-append-row",vo,s);return}y.moveEnterSelected(vn,Ot,!1,gr,!0,s),Ra&&Ra(vo)}}}else if(C&&(ze.isCurrent||R)&&z){const vn=z[ot];if(vn&&vn.length){s.preventDefault();const ho=vn[0],go={$table:y,row:ho,rowIndex:y.getRowIndex(ho),$rowIndex:y.getVMRowIndex(ho)};y.setTreeExpand(z,!0).then(()=>y.scrollToRow(ho)).then(()=>y.triggerCurrentRowEvent(s,go))}}}else if(pn&&b&&me.isArrow)hn||(we.selected&&De.row&&De.column?y.moveArrowSelected(De.args,Ot,Zt,gr,Cr,s):((Zt||Cr)&&(ze.isCurrent||R)&&y.moveCurrentRow(Zt,Cr,s),(Ot||gr)&&(He.isCurrent||T)&&y.moveCurrentColumn(Ot,gr,s)));else if(Yt&&b&&me.isTab)De.row||De.column?y.moveTabSelected(De.args,Nr,s):(at.row||at.column)&&y.moveTabSelected(at.args,Nr,s);else if(b&&me.isDel&&xr&&nr(w)&&(De.row||De.column)){if(!hn){const{delMethod:Gr}=me,jr={row:De.row,rowIndex:m.getRowIndex(De.row),column:De.column,columnIndex:m.getColumnIndex(De.column),$table:y,$grid:Ge};(!gn||gn(jr))&&(Gr?Gr(jr):fa(De.row,De.column,null),m.updateFooter(),Tr("cell-delete-value",jr,s))}}else if(Nt&&b&&me.isBack&&nr(w)&&(De.row||De.column)){if(!hn){const{backMethod:Gr}=me;if(me.isDel&&nr(w)&&(De.row||De.column)){const jr={row:De.row,rowIndex:y.getRowIndex(De.row),column:De.column,columnIndex:y.getColumnIndex(De.column),$table:y,$grid:Ge};(!gn||gn(jr))&&(Gr?Gr(jr):(fa(De.row,De.column,null),y.handleEdit(De.args,s)),Tr("cell-backspace-value",jr,s))}}}else if(Nt&&b&&C&&me.isBack&&(ze.isCurrent||R)&&z){const{parent:Gr}=f.findTree(c.afterTreeFullData,jr=>jr===z,{children:ot});if(Gr){s.preventDefault();const jr={row:Gr,rowIndex:y.getRowIndex(Gr),$rowIndex:y.getVMRowIndex(Gr),$table:y,$grid:Ge};y.setTreeExpand(Gr,!1).then(()=>y.scrollToRow(Gr)).then(()=>y.triggerCurrentRowEvent(s,jr))}}else if(b&&nr(w)&&me.isEdit&&!Vr&&!Rr&&(Et||Mt>=48&&Mt<=57||Mt>=65&&Mt<=90||Mt>=96&&Mt<=111||Mt>=186&&Mt<=192||Mt>=219&&Mt<=222)){const{editMode:Gr,editMethod:jr}=me;if(De.column&&De.row&&nr(De.column.editRender)){const Ra=Ce.beforeEditMethod||Ce.activeMethod,vn={row:De.row,rowIndex:y.getRowIndex(De.row),column:De.column,columnIndex:y.getColumnIndex(De.column),$table:y,$grid:Ge};(!Ra||Ra(Object.assign(Object.assign({},De.args),{$table:y,$grid:Ge})))&&(jr?jr(vn):(Gr!=="insert"&&fa(De.row,De.column,null),y.handleEdit(De.args,s)))}}Tr("keydown",{},s)})},d0=s=>{const{keyboardConfig:h,mouseConfig:b}=e,{editStore:C,filterStore:w}=o,{isActivated:R}=c,T=ft.value,A=Q.value,{actived:N}=C;R&&!w.visible&&(N.row||N.column||h&&A.isClip&&b&&T.area&&y.handlePasteCellAreaEvent&&y.handlePasteCellAreaEvent(s),Tr("paste",{},s))},f0=s=>{const{keyboardConfig:h,mouseConfig:b}=e,{editStore:C,filterStore:w}=o,{isActivated:R}=c,T=ft.value,A=Q.value,{actived:N}=C;R&&!w.visible&&(N.row||N.column||h&&A.isClip&&b&&T.area&&y.handleCopyCellAreaEvent&&y.handleCopyCellAreaEvent(s),Tr("copy",{},s))},p0=s=>{const{keyboardConfig:h,mouseConfig:b}=e,{editStore:C,filterStore:w}=o,{isActivated:R}=c,T=ft.value,A=Q.value,{actived:N}=C;R&&!w.visible&&(N.row||N.column||h&&A.isClip&&b&&T.area&&y.handleCutCellAreaEvent&&y.handleCutCellAreaEvent(s),Tr("cut",{},s))},Tx=()=>{y.closeMenu&&y.closeMenu();const s=x.value;if(!s||!s.clientWidth)return ye();m.recalculate(!0),m.updateCellAreas()},ws=s=>{const h=k.value;clearTimeout(c.tooltipTimeout),s?m.closeTooltip():h&&h.setActived&&h.setActived(!0)},Mx=()=>{const{dragRow:s,dragCol:h}=o;(s||h)&&(Ss(),_c(),Nl(),o.dragRow=null,o.dragCol=null,o.isDragColMove=!1,o.isDragRowMove=!1)},_c=()=>{const s=x.value;if(s){const h="row--drag-origin";f.arrayEach(s.querySelectorAll(`.${h}`),b=>{b.draggable=!1,Zn(b,h)})}},h0=s=>{const h=x.value;if(h){const b="row--drag-origin",C=Ft(y,s);f.arrayEach(h.querySelectorAll(`[rowid="${C}"]`),w=>{Go(w,b)})}},g0=s=>{const{dragConfig:h}=e,{dragRow:b}=o,C=qe.value,{tooltipMethod:w}=C,R=w||(h?h.rowTooltipMethod:null);let T="";R?T=`${R({row:b})||""}`:T=sa("vxe.table.dragTip",[s.textContent||""]),o.dragTipText=T},v0=s=>{const h=x.value;if(h){const b=[];f.eachTree([s],w=>{b.push(`[colid="${w.id}"]`)});const C="col--drag-origin";f.arrayEach(h.querySelectorAll(b.join(",")),w=>{Go(w,C)})}},Ss=()=>{const s=x.value;if(s){const h="col--drag-origin";f.arrayEach(s.querySelectorAll(`.${h}`),b=>{b.draggable=!1,Zn(b,h)})}},m0=s=>{const{dragCol:h}=o,b=Je.value,{tooltipMethod:C}=b;let w="";C?w=`${C({column:h})||""}`:w=sa("vxe.table.dragTip",[s.textContent||""]),o.dragTipText=w},Es=(s,h,b,C,w)=>{const R=x.value;if(!R)return;const{overflowX:T,scrollbarWidth:A,overflowY:N,scrollbarHeight:z}=o,{prevDragToChild:oe}=c,ce=R.getBoundingClientRect(),fe=N?A:0,me=T?z:0,we=R.clientWidth,Ce=R.clientHeight;if(h){const Ie=se.value;if(Ie)if(C){const ze=bt.value,He=h.getBoundingClientRect();let De=h.clientHeight;const at=Math.max(1,He.y-ce.y);at+De>Ce-me&&(De=Ce-at-me),Ie.style.display="block",Ie.style.left=`${ze?fe:0}px`,Ie.style.top=`${at}px`,Ie.style.height=`${De}px`,Ie.style.width=`${we-fe}px`,Ie.setAttribute("drag-pos",w),Ie.setAttribute("drag-to-child",oe?"y":"n")}else Ie.style.display=""}else if(b){const Ie=ae.value;if(Ie)if(C){const ze=ct.value,He=Z.value,De=He?He.clientWidth:0,at=L.value,ot=at?at.clientWidth:0,Mt=b.getBoundingClientRect();let At=b.clientWidth;const Nt=Math.max(0,Mt.y-ce.y),Yt=De;let Gt=Mt.x-ce.x;Gt<Yt&&(At-=Yt-Gt,Gt=Yt);const Et=we-ot-(ot?0:fe);Gt+At>Et&&(At=Et-Gt),Ie.style.display="block",Ie.style.top=`${Nt}px`,Ie.style.left=`${Gt}px`,Ie.style.width=`${At}px`,oe?Ie.style.height=`${Mt.height}px`:Ie.style.height=`${Ce-Nt-(ze?0:me)}px`,Ie.setAttribute("drag-pos",w),Ie.setAttribute("drag-to-child",oe?"y":"n")}else Ie.style.display=""}const de=ee.value;de&&(de.style.display="block",de.style.top=`${Math.min(R.clientHeight-R.scrollTop-de.clientHeight,s.clientY-ce.y)}px`,de.style.left=`${Math.min(R.clientWidth-R.scrollLeft-de.clientWidth-16,s.clientX-ce.x)}px`,de.setAttribute("drag-status",C?oe?"sub":"normal":"disabled"))},Nl=()=>{const s=ee.value,h=se.value,b=ae.value;s&&(s.style.display=""),h&&(h.style.display=""),b&&(b.style.display="")},qc=(s,h,b,C,w)=>{const R=b||h;if(!R)return ye();w.cell=h;const{tooltipStore:T}=o,A=ke.value,{column:N,row:z}=w,{showAll:oe,contentMethod:ce}=A,fe=ce?ce(w):null,me=ce&&!f.eqNull(fe),we=me?fe:f.toString(N.type==="html"?R.innerText:R.textContent).trim(),Ce=R.scrollWidth>R.clientWidth;return we&&(oe||me||Ce)&&(Object.assign(T,{row:z,column:N,visible:!0,currOpts:{}}),ye(()=>{const de=k.value;de&&de.open&&de.open(Ce?R:C,nn(we))})),ye()},Si=(s,h)=>{if(s){if(Ge)return Ge.callSlot(s,h);if(f.isFunction(s))return Rn(s(h))}return[]};v={getSetupOptions(){return fr()},updateAfterDataIndex:Or,callSlot:Si,getParentElem(){const s=x.value;if(Ge){const h=Ge.getRefMaps().refElem.value;return h?h.parentNode:null}return s?s.parentNode:null},getParentHeight(){const{height:s}=e,h=x.value;if(h){const b=h.parentNode,C=s==="100%"||s==="auto"?Pb(b):0;let w=0;return b&&(Ge&&va(b,"vxe-grid--table-wrapper")?w=Ge.getParentHeight():w=b.clientHeight),Math.floor(w-C)}return 0},getExcludeHeight(){return Ge?Ge.getExcludeHeight():0},defineField(s){const{treeConfig:h}=e,b=ir.value,C=zt.value,w=ve.value,R=Me.value,T=C.children||C.childrenField,A=Fa(y);return f.isArray(s)||(s=[s]),s.map(N=>(c.tableFullColumn.forEach(oe=>{const{field:ce,editRender:fe}=oe;if(ce&&!f.has(N,ce)&&!N[ce]){let me=null;if(fe){const{defaultValue:we}=fe;f.isFunction(we)?me=we({column:oe}):f.isUndefined(we)||(me=we)}f.set(N,ce,me)}}),[w.labelField,R.checkField,R.labelField,b.labelField].forEach(oe=>{oe&&ga(f.get(N,oe))&&f.set(N,oe,null)}),h&&C.lazy&&f.isUndefined(N[T])&&(N[T]=null),ga(f.get(N,A))&&f.set(N,A,Cx()),N))},handleTableData(s){const{scrollYLoad:h}=o,{scrollYStore:b,fullDataRowIdData:C}=c;let w=c.afterFullData;s&&(na(),w=fn());const R=h?w.slice(b.startIndex,b.endIndex):w.slice(0);return R.forEach((T,A)=>{const N=Ft(y,T),z=C[N];z&&(z.$index=A)}),o.tableData=R,ye()},cacheRowMap(){const{treeConfig:s}=e,{fullAllDataRowIdData:h,tableFullData:b,tableFullTreeData:C,treeExpandedMaps:w}=c,R=zt.value,T=R.children||R.childrenField,A=R.hasChild||R.hasChildField,{lazy:N}=R,z=Object.assign({},h),oe={},{handleUpdateRowId:ce}=vO(y),fe=(me,we,Ce,de,Ie,ze,He,De)=>{let at=z[ze];at||(at={row:me,rowid:ze,seq:De,index:-1,_index:-1,$index:-1,treeIndex:we,items:Ce,parent:Ie,level:He,height:0,resizeHeight:0,oTop:0,expandHeight:0},oe[ze]=at,z[ze]=at),at.treeLoaded=!1,at.expandLoaded=!1,at.row=me,at.items=Ce,at.parent=Ie,at.level=He,at.index=de,at.treeIndex=we,oe[ze]=at,z[ze]=at};s?f.eachTree(C,(me,we,Ce,de,Ie,ze)=>{const He=ce(me);s&&N&&(me[A]&&me[T]===void 0&&(me[T]=null),w[He]&&(!me[T]||!me[T].length)&&delete w[He]),fe(me,we,Ce,Ie?-1:we,Ie,He,ze.length-1,RN(de))},{children:T}):b.forEach((me,we,Ce)=>{fe(me,we,Ce,we,null,ce(me),0,we+1)}),c.fullDataRowIdData=oe,c.fullAllDataRowIdData=z,o.treeExpandedFlag++},cacheSourceMap(s){const{treeConfig:h}=e,b=zt.value,C=f.clone(s,!0),{handleUpdateRowId:w}=vO(y),R={},T=A=>{const N=w(A);R[N]=A};if(h){const A=b.children||b.childrenField;f.eachTree(C,T,{children:b.transform?b.mapChildrenField:A})}else C.forEach(T);c.sourceDataRowIdData=R,c.tableSourceData=C},analyColumnWidth(){const{tableFullColumn:s}=c,h=W.value,{width:b,minWidth:C}=h,w=[],R=[],T=[],A=[],N=[],z=[],oe=[],ce=[];s.forEach(fe=>{b&&!fe.width&&(fe.width=b),C&&!fe.minWidth&&(fe.minWidth=C),fe.visible&&(fe.resizeWidth?w.push(fe):fe.width==="auto"?oe.push(fe):$b(fe.width)?R.push(fe):Zl(fe.width)?N.push(fe):$b(fe.minWidth)?T.push(fe):fe.minWidth==="auto"?A.push(fe):Zl(fe.minWidth)?z.push(fe):ce.push(fe))}),Object.assign(o.columnStore,{resizeList:w,pxList:R,pxMinList:T,autoMinList:A,scaleList:N,scaleMinList:z,autoList:oe,remainList:ce})},handleColResizeMousedownEvent(s,h,b){s.stopPropagation(),s.preventDefault();const{column:C}=b,{overflowX:w,scrollbarHeight:R}=o,{elemStore:T,visibleColumn:A}=c,N=Ct.value,z=w?R:0,oe=x.value,ce=Z.value,fe=L.value,me=ne.value;if(!me)return;const we=me.firstElementChild,Ce=ct.value,{clientX:de}=s,Ie=x.value,ze=s.target;let He=C;C.children&&C.children.length&&f.eachTree(C.children,vr=>{He=vr});const De=ze.parentNode,at=Object.assign(b,{cell:De});let ot=0;const Mt=Xt(T["main-body-scroll"]);if(!Mt)return;const At=bN(ze,Ie),Nt=ze.clientWidth,Yt=Math.floor(Nt/2),Gt=bO(at)-Yt;let Et=At.left-De.clientWidth+Nt+Gt,Ot=At.left+Yt;const Zt=h==="left",gr=h==="right";let Cr=0;if(Zt||gr){const vr=Zt?"nextElementSibling":"previousElementSibling";let yr=De[vr];for(;yr&&!va(yr,"fixed--hidden");)va(yr,"col--group")||(Cr+=yr.offsetWidth),yr=yr[vr];gr&&fe&&(Ot=fe.offsetLeft+Cr)}const xr=vr=>{vr.stopPropagation(),vr.preventDefault();const yr=oe.clientHeight,Rr=vr.clientX-de;let Vr=Ot+Rr;const Nr=h?0:Mt.scrollLeft;Zt?Vr=Math.min(Vr,(fe?fe.offsetLeft:Mt.clientWidth)-Cr-Gt):gr?(Et=(ce?ce.clientWidth:0)+Cr+Gt,Vr=Math.min(Vr,Ot+De.clientWidth-Gt)):Et=Math.max(Mt.scrollLeft,Et),ot=Math.max(Vr,Et);const Xr=Math.max(1,ot-Nr);if(me.style.left=`${Xr}px`,me.style.top=`${Ce?z:0}px`,me.style.height=`${Ce?yr-z:yr}px`,N.showDragTip&&we){we.textContent=sa("vxe.table.resizeColTip",[He.renderWidth+(gr?Ot-ot:ot-Ot)]);const pn=oe.clientWidth,Yn=Ie.getBoundingClientRect(),hn=me.clientWidth,gn=we.clientWidth,Gr=we.clientHeight;let jr=-gn;Xr<gn+hn?jr=0:Xr>pn&&(jr+=pn-Xr),we.style.left=`${jr}px`,we.style.top=`${Math.min(yr-Gr,Math.max(0,vr.clientY-Yn.y-Gr/2))}px`}o.isDragResize=!0};o.isDragResize=!0,Go(oe,"col-drag--resize"),me.style.display="block",document.onmousemove=xr,document.onmouseup=function(vr){document.onmousemove=null,document.onmouseup=null,me.style.display="none",c._lastResizeTime=Date.now(),setTimeout(()=>{o.isDragResize=!1},50);const yr=He.renderWidth+(gr?Ot-ot:ot-Ot),Rr=Object.assign(Object.assign({},b),{resizeWidth:yr,resizeColumn:He});N.dragMode==="fixed"&&A.forEach(Vr=>{Vr.id!==He.id&&(Vr.resizeWidth||(Vr.resizeWidth=Vr.renderWidth))}),y.handleColResizeCellAreaEvent?y.handleColResizeCellAreaEvent(vr,Rr):(He.resizeWidth=yr,Ex(vr,Rr)),Zn(oe,"col-drag--resize")},xr(s),y.closeMenu&&y.closeMenu()},handleColResizeDblclickEvent(s,h){const b=Ct.value,{isDblclickAutoWidth:C}=b,w=x.value;if(C&&w){s.stopPropagation(),s.preventDefault();const{fullColumnIdData:R}=c,{column:T}=h;let A=T;T.children&&T.children.length&&f.eachTree(T.children,de=>{A=de});const N=A.id,z=R[N],ce=s.target.parentNode,fe=Object.assign(h,{cell:ce}),me=bO(fe);w.setAttribute("data-calc-col","Y");let we=Gn(A,w);w.removeAttribute("data-calc-col"),z&&(we=Math.max(we,z.width)),we=Math.max(me,we);const Ce=Object.assign(Object.assign({},h),{resizeWidth:we,resizeColumn:A});o.isDragResize=!1,c._lastResizeTime=Date.now(),y.handleColResizeDblclickCellAreaEvent?y.handleColResizeDblclickCellAreaEvent(s,Ce):(A.resizeWidth=we,Ex(s,Ce))}},handleRowResizeMousedownEvent(s,h){s.stopPropagation(),s.preventDefault();const{row:b}=h,{overflowX:C,scrollbarWidth:w,overflowY:R,scrollbarHeight:T}=o,{elemStore:A,fullAllDataRowIdData:N}=c,z=R?w:0,oe=C?T:0,ce=bt.value,fe=Ct.value,me=re.value,we=be.value,Ce=x.value,de=Ve.value;if(!de)return;const{clientY:Ie}=s,ze=de.firstElementChild,De=s.currentTarget.parentNode,at=De.parentNode;if(!Xt(A["main-body-scroll"]))return;const Mt=Ft(y,b),At=N[Mt];if(!At)return;const Nt=X.value,Yt=At.resizeHeight||we.height||me.height||At.height||Nt,Gt=Ce.getBoundingClientRect(),Et=at.getBoundingClientRect(),Ot=Ie-Et.y-at.clientHeight;let Zt=Yt;const gr=De.querySelector(".vxe-cell");let Cr=0;if(gr){const yr=getComputedStyle(gr);Cr=Math.max(1,Math.ceil(f.toNumber(yr.paddingTop)+f.toNumber(yr.paddingBottom)))}const xr=Et.y-Gt.y+Cr,vr=yr=>{yr.stopPropagation(),yr.preventDefault();const Rr=Ce.clientWidth-z,Vr=Ce.clientHeight-oe;let Nr=yr.clientY-Gt.y-Ot;if(Nr<xr?Nr=xr:Zt=Math.max(Cr,Yt+yr.clientY-Ie),de.style.left=`${ce?z:0}px`,de.style.top=`${Nr}px`,de.style.width=`${Rr}px`,fe.showDragTip&&ze){ze.textContent=sa("vxe.table.resizeRowTip",[Zt]);const Xr=ze.clientWidth,pn=ze.clientHeight;let Yn=Math.max(2,yr.clientX-Gt.x),hn=0;Yn+Xr>=Rr-2&&(Yn=Rr-Xr-2),Nr+pn>=Vr&&(hn=Vr-(Nr+pn)),ze.style.left=`${Yn}px`,ze.style.top=`${hn}px`}o.isDragResize=!0};o.isDragResize=!0,Go(Ce,"row-drag--resize"),de.style.display="block",document.onmousemove=vr,document.onmouseup=function(yr){if(document.onmousemove=null,document.onmouseup=null,de.style.display="none",c._lastResizeTime=Date.now(),setTimeout(()=>{o.isDragResize=!1},50),Zt!==Yt){const Rr=Object.assign(Object.assign({},h),{resizeHeight:Zt,resizeRow:b});c.isResizeCellHeight=!0,y.handleRowResizeCellAreaEvent?y.handleRowResizeCellAreaEvent(yr,Rr):(At.resizeHeight=Zt,Rx(yr,Rr),dl())}Zn(Ce,"row-drag--resize")},vr(s)},handleRowResizeDblclickEvent(s,h){const b=Ct.value,{isDblclickAutoHeight:C}=b,w=x.value;if(C&&w){s.stopPropagation(),s.preventDefault();const{editStore:R}=o,{fullAllDataRowIdData:T}=c,{actived:A}=R,{row:N}=h,z=Ft(y,N),oe=T[z];if(!oe)return;const ce=()=>{w.setAttribute("data-calc-row","Y");const fe=zo(oe,w);w.removeAttribute("data-calc-row");const me=Object.assign(Object.assign({},h),{resizeHeight:fe,resizeRow:N});o.isDragResize=!1,c._lastResizeTime=Date.now(),y.handleRowResizeDblclickCellAreaEvent?y.handleRowResizeDblclickCellAreaEvent(s,me):(oe.resizeHeight=fe,Rx(s,me))};A.row||A.column?y.clearEdit().then(ce):ce()}},saveCustomStore(s){const{customConfig:h}=e,b=gt.value,C=$r.value,{updateStore:w,storage:R}=C,T=R===!0,A=T?{}:Object.assign({},R||{}),N=T||A.resizable,z=T||A.visible,oe=T||A.fixed,ce=T||A.sort;if(s!=="reset"&&(o.isCustomStatus=!0),(h?nr(C):C.enabled)&&(N||z||oe||ce)){if(!b)return Bt("vxe.error.reqProp",["id"]),ye();const fe=s==="reset"?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:m.getCustomStoreData();if(w)return w({id:b,type:s,storeData:fe});Oo(b,s==="reset"?null:fe)}return ye()},handleCustom(){const{mouseConfig:s}=e;return s&&(y.clearSelected&&y.clearSelected(),y.clearCellAreas&&(y.clearCellAreas(),y.clearCopyCellArea())),v.analyColumnWidth(),m.refreshColumn(!0)},handleUpdateDataQueue(){o.upDataFlag++},handleRefreshColumnQueue(){o.reColumnFlag++},preventEvent(s,h,b,C,w){let R=PO.get(h);!R.length&&h==="event.clearEdit"&&(R=PO.get("event.clearActived"));let T=null,A=!1;for(let N=0;N<R.length;N++){const z=R[N],oe=z(Object.assign({$grid:Ge,$table:y,$event:s},b));if(oe===!1){A=!0;break}else if(oe&&oe.status===!1){T=oe.result,A=!0;break}}return A||C&&(T=C()),w&&w(),T},updateCheckboxStatus(){const{treeConfig:s}=e,{selectCheckboxMaps:h,treeIndeterminateRowMaps:b}=c,C=zt.value,{transform:w,mapChildrenField:R}=C,T=C.children||C.childrenField,A=Me.value,{checkField:N,checkStrictly:z,checkMethod:oe}=A,{afterTreeFullData:ce}=c;if(!z){if(s){const{handleGetRowId:fe}=en(y),me={},we=[];f.eachTree(ce,Ce=>{const de=fe(Ce),Ie=Ce[w?R:T];Ie&&Ie.length&&!me[de]&&(me[de]=1,we.unshift([Ce,de,Ie]))},{children:w?R:T}),we.forEach(Ce=>{const de=Ce[0],Ie=Ce[1],ze=Ce[2];let He=0,De=0,at=0;ze.forEach(oe?At=>{const Nt=fe(At),Yt=N?f.get(At,N):h[Nt];oe({row:At})?(Yt?He++:b[Nt]&&De++,at++):Yt?He++:b[Nt]&&De++}:At=>{const Nt=fe(At);(N?f.get(At,N):h[Nt])?He++:b[Nt]&&De++,at++});const ot=He>=at,Mt=!ot&&(He>=1||De>=1);N&&f.set(de,N,ot),ot?(N||(h[Ie]=de),b[Ie]&&delete b[Ie]):(N||h[Ie]&&delete h[Ie],Mt?b[Ie]=de:b[Ie]&&delete b[Ie])})}o.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:s}=e,{afterFullData:h,afterTreeFullData:b,checkboxReserveRowMap:C,selectCheckboxMaps:w,treeIndeterminateRowMaps:R}=c,T=Me.value,{checkField:A,checkMethod:N,showReserveStatus:z}=T,{handleGetRowId:oe}=en(y);let ce=0,fe=0,me=0;const we=s?b:h;we.forEach(N?Ie=>{const ze=oe(Ie),He=A?f.get(Ie,A):w[ze];N({row:Ie})?(He?ce++:R[ze]&&fe++,me++):He?ce++:R[ze]&&fe++}:Ie=>{const ze=oe(Ie);(A?f.get(Ie,A):w[ze])?ce++:R[ze]&&fe++,me++});const Ce=we.length>0?me>0?ce>=me:ce>=we.length:!1;let de=!Ce&&(ce>=1||fe>=1);!Ce&&!de&&z&&(de=!f.isEmpty(C)),o.isAllSelected=Ce,o.isIndeterminate=de},checkSelectionStatus(){y.updateCheckboxStatus(),y.updateAllCheckboxStatus()},handleBatchSelectRows(s,h,b){const{treeConfig:C}=e,{selectCheckboxMaps:w}=c,R=zt.value,{transform:T,mapChildrenField:A}=R,N=R.children||R.childrenField,z=Me.value,{checkField:oe,checkStrictly:ce,checkMethod:fe}=z,{handleGetRowId:me}=en(y),we=z.indeterminateField||z.halfField;if(oe){if(C&&!ce){f.eachTree(s,Ce=>{(b||!fe||fe({row:Ce}))&&(f.set(Ce,oe,h),we&&f.set(Ce,we,!1),Pn(Ce,h))},{children:T?A:N}),o.updateCheckboxFlag++;return}s.forEach(Ce=>{(b||!fe||fe({row:Ce}))&&(f.set(Ce,oe,h),Pn(Ce,h))}),o.updateCheckboxFlag++;return}if(C&&!ce){f.eachTree(s,Ce=>{const de=me(Ce);(b||!fe||fe({row:Ce}))&&(h?w[de]=Ce:w[de]&&delete w[de],Pn(Ce,h))},{children:T?A:N}),o.updateCheckboxFlag++;return}s.forEach(Ce=>{const de=me(Ce);(b||!fe||fe({row:Ce}))&&(h?w[de]||(w[de]=Ce):w[de]&&delete w[de],Pn(Ce,h),o.updateCheckboxFlag++)})},handleSelectRow({row:s},h,b){y.handleBatchSelectRows([s],h,b)},triggerHeaderTitleEvent(s,h,b){const C=h.content||h.message;if(C){const{tooltipStore:w}=o,{column:R}=b,T=ma(C);ws(!0),w.row=null,w.column=R,w.visible=!0,w.currOpts=h,ye(()=>{const A=k.value;A&&A.open&&A.open(s.currentTarget,T)})}},triggerHeaderTooltipEvent(s,h){const{tooltipStore:b}=o,{column:C}=h;ws(!0);const w=s.currentTarget;if(!w)return;const R=w.parentElement;if(!R)return;const T=R.parentElement;T&&(b.column!==C||!b.visible)&&qc(s,T,T.querySelector(".vxe-cell--wrapper"),T.querySelector(".vxe-cell--title")||R,h)},triggerBodyTooltipEvent(s,h){const{editConfig:b}=e,{editStore:C}=o,{tooltipStore:w}=o,R=Xe.value,{actived:T}=C,{row:A,column:N}=h,z=s.currentTarget;ws(w.column!==N||w.row!==A),!(N.editRender&&nr(b)&&(R.mode==="row"&&T.row===A||T.row===A&&T.column===N))&&(w.column!==N||w.row!==A||!w.visible)&&qc(s,z,z.querySelector(".vxe-cell--wrapper"),z.querySelector(".vxe-cell--label")||z.querySelector(".vxe-cell--wrapper"),h)},triggerFooterTooltipEvent(s,h){const{column:b}=h,{tooltipStore:C}=o,w=s.currentTarget;ws(C.column!==b||!!C.row),(C.column!==b||!C.visible)&&qc(s,w,w.querySelector(".vxe-cell--wrapper"),w.querySelector(".vxe-cell--label")||w.querySelector(".vxe-cell--wrapper"),h)},handleTargetLeaveEvent(){const s=ke.value;let h=k.value;h&&h.setActived&&h.setActived(!1),s.enterable?c.tooltipTimeout=setTimeout(()=>{h=k.value,h&&h.isActived&&!h.isActived()&&y.closeTooltip()},s.leaveDelay):y.closeTooltip()},triggerHeaderCellClickEvent(s,h){const{_lastResizeTime:b}=c,C=dt.value,w=W.value,R=ge.value,{column:T}=h,A=s.currentTarget,N=b&&b>Date.now()-300,z=br(s,A,"vxe-cell--sort").flag,oe=br(s,A,"vxe-cell--filter").flag;C.trigger==="cell"&&!(N||z||oe)&&y.triggerSortEvent(s,T,Qr(T)),Tr("header-cell-click",Object.assign({triggerResizable:N,triggerSort:z,triggerFilter:oe,cell:A},h),s),(w.isCurrent||e.highlightCurrentColumn)&&(!R.trigger||["header","default"].includes(R.trigger))&&y.triggerCurrentColumnEvent(s,h)},triggerHeaderCellDblclickEvent(s,h){Tr("header-cell-dblclick",Object.assign({cell:s.currentTarget},h),s)},triggerCellClickEvent(s,h){const{highlightCurrentRow:b,highlightCurrentColumn:C,editConfig:w}=e,{editStore:R,isDragResize:T}=o;if(T)return;const A=ir.value,N=Xe.value,z=zt.value,oe=ve.value,ce=Me.value,fe=Q.value,me=re.value,we=W.value,Ce=ge.value,{actived:de,focused:Ie}=R,{row:ze,column:He}=h,{type:De,treeNode:at}=He,ot=De==="radio",Mt=De==="checkbox",At=De==="expand",Nt=s.currentTarget,Yt=ot&&br(s,Nt,"vxe-cell--radio").flag,Gt=Mt&&br(s,Nt,"vxe-cell--checkbox").flag,Et=at&&br(s,Nt,"vxe-tree--btn-wrapper").flag,Ot=At&&br(s,Nt,"vxe-table--expanded").flag;h=Object.assign({cell:Nt,triggerRadio:Yt,triggerCheckbox:Gt,triggerTreeNode:Et,triggerExpandNode:Ot},h),!Gt&&!Yt&&(!Ot&&(A.trigger==="row"||At&&A.trigger==="cell")&&y.triggerRowExpandEvent(s,h),(z.trigger==="row"||at&&z.trigger==="cell")&&y.triggerTreeExpandEvent(s,h)),Et||(Ot||((me.isCurrent||b)&&!Gt&&!Yt&&y.triggerCurrentRowEvent(s,h),(we.isCurrent||C)&&(!Ce.trigger||["cell","default"].includes(Ce.trigger))&&!Gt&&!Yt&&y.triggerCurrentColumnEvent(s,h),!Yt&&(oe.trigger==="row"||ot&&oe.trigger==="cell")&&y.triggerRadioRowEvent(s,h),!Gt&&(ce.trigger==="row"||Mt&&ce.trigger==="cell")&&y.handleToggleCheckRowEvent(s,h)),nr(w)&&(fe.arrowCursorLock&&s&&N.mode==="cell"&&s.target&&/^input|textarea$/i.test(s.target.tagName)&&(Ie.column=He,Ie.row=ze),N.trigger==="manual"?de.args&&de.row===ze&&He!==de.column&&fo(s,h):(!de.args||ze!==de.row||He!==de.column)&&(N.trigger==="click"||N.trigger==="dblclick"&&N.mode==="row"&&de.row===ze)&&fo(s,h))),nr(w)&&N.trigger==="dblclick"&&de.row&&de.column&&(N.mode==="row"?y.eqRow(de.row,ze)||y.handleClearEdit(s):N.mode==="cell"&&(!y.eqRow(de.row,ze)||de.column.id!==He.id)&&y.handleClearEdit(s)),Tr("cell-click",h,s)},triggerCellDblclickEvent(s,h){const{editConfig:b}=e,{editStore:C,isDragResize:w}=o;if(w)return;const R=Xe.value,{actived:T}=C,A=s.currentTarget;h=Object.assign({cell:A},h),nr(b)&&R.trigger==="dblclick"&&(!T.args||s.currentTarget!==T.args.cell)&&(R.mode==="row"?uo("blur").catch(N=>N).then(()=>{y.handleEdit(h,s).then(()=>uo("change")).catch(N=>N)}):R.mode==="cell"&&y.handleEdit(h,s).then(()=>uo("change")).catch(N=>N)),Tr("cell-dblclick",h,s)},handleToggleCheckRowEvent(s,h){const{selectCheckboxMaps:b}=c,C=Me.value,{checkField:w,trigger:R}=C,{row:T}=h;if(R==="manual")return;let A=!1;w?A=!f.get(T,w):A=!b[Ft(y,T)],s?y.triggerCheckRowEvent(s,h,A):(y.handleBatchSelectRows([T],A),y.checkSelectionStatus())},triggerCheckRowEvent(s,h,b){const{row:C}=h,{afterFullData:w}=c,R=Me.value,{checkMethod:T,trigger:A}=R;if(A!=="manual"){if(s.stopPropagation(),R.isShiftKey&&s.shiftKey&&!e.treeConfig){const N=y.getCheckboxRecords();if(N.length){const z=N[0],oe=y.getVTRowIndex(C),ce=y.getVTRowIndex(z);if(oe!==ce){y.setAllCheckboxRow(!1);const fe=oe<ce?w.slice(oe,ce+1):w.slice(ce,oe+1);ye(()=>{Lr(fe,!0,!1)}),Tr("checkbox-range-select",Object.assign({rangeRecords:fe},h),s);return}}}(!T||T({row:C}))&&(y.handleBatchSelectRows([C],b),y.checkSelectionStatus(),Tr("checkbox-change",Object.assign({records:()=>y.getCheckboxRecords(),reserves:()=>y.getCheckboxReserveRecords(),indeterminates:()=>y.getCheckboxIndeterminateRecords(),checked:b},h),s))}},triggerCheckAllEvent(s,h){const b=Me.value,{trigger:C}=b;C!=="manual"&&(s&&s.stopPropagation(),Cs(s,h))},triggerRadioRowEvent(s,h){const{selectRadioRow:b}=o,{row:C}=h,w=ve.value,{trigger:R}=w;if(R==="manual")return;s.stopPropagation();let T=C,A=b!==T;A?cr(T):w.strict||(A=b===T,A&&(T=null,m.clearRadioRow())),A&&Tr("radio-change",Object.assign({oldValue:b,newValue:T},h),s)},triggerCurrentColumnEvent(s,h){const b=W.value,{currentMethod:C}=b,{column:w}=h;(!C||C({column:w}))&&m.setCurrentColumn(w)},triggerCurrentRowEvent(s,h){const{currentRow:b}=o,C=re.value,{currentMethod:w}=C,{row:R}=h,T=b!==R;(!w||w({row:R}))&&(m.setCurrentRow(R),T&&Tr("current-change",Object.assign({oldValue:b,newValue:R},h),s))},triggerRowExpandEvent(s,h){const{expandColumn:b}=o,{rowExpandLazyLoadedMaps:C}=c,w=ir.value,{row:R}=h,{lazy:T,trigger:A}=w;if(A==="manual")return;s.stopPropagation();const N=Ft(y,R);if(!T||!C[N]){const z=!y.isRowExpandByRow(R),oe=y.getColumnIndex(b),ce=y.getVMColumnIndex(b);y.setRowExpand(R,z),Tr("toggle-row-expand",{expanded:z,column:b,columnIndex:oe,$columnIndex:ce,row:R,rowIndex:y.getRowIndex(R),$rowIndex:y.getVMRowIndex(R)},s)}},triggerTreeExpandEvent(s,h){const{treeExpandLazyLoadedMaps:b}=c,C=zt.value,{row:w,column:R}=h,{lazy:T,trigger:A}=C;if(A==="manual")return;s.stopPropagation();const N=Ft(y,w);if(!T||!b[N]){const z=!y.isTreeExpandByRow(w),oe=y.getColumnIndex(R),ce=y.getVMColumnIndex(R);y.setTreeExpand(w,z),Tr("toggle-tree-expand",{expanded:z,column:R,columnIndex:oe,$columnIndex:ce,row:w},s)}},handleColumnSortEvent(s,h){const{mouseConfig:b}=e,C=ft.value,{field:w,sortable:R}=h;if(R){const T={$table:y,$event:s,column:h,field:w,property:w,order:h.order,sortList:m.getSortColumns(),sortTime:h.sortTime};b&&C.area&&y.handleSortEvent&&y.handleSortEvent(s,T),Tr("sort-change",T,s)}},triggerSortEvent(s,h,b){const C=dt.value,{multiple:w,allowClear:R}=C,{field:T,sortable:A}=h;A&&(!b||h.order===b?R&&m.clearSort(w?h:null):m.sort({field:T,order:b}),y.handleColumnSortEvent(s,h))},handleCellRuleUpdateStatus(s,h,b){const{validStore:C}=o,{row:w,column:R}=h;if(y.hasCellRules&&y.hasCellRules(s,w,R)){const T=y.getCellElement(w,R);if(T){const A=!f.isUndefined(b);return y.validCellRules(s,w,R,b).then(()=>{A&&C.visible&&fa(w,R,b),y.clearValidate(w,R)}).catch(({rule:N})=>{A&&fa(w,R,b),y.showValidTooltip({rule:N,row:w,column:R,cell:T})})}}return ye()},triggerHeaderCellMousedownEvent(s,h){const{mouseConfig:b}=e,C=ft.value,w=W.value,R=Je.value,{trigger:T,isCrossDrag:A,isPeerDrag:N,disabledMethod:z}=R,oe=s.currentTarget,ce=oe&&oe.tagName&&oe.tagName.toLowerCase()==="input",fe=br(s,oe,"vxe-cell--checkbox").flag,me=br(s,oe,"vxe-cell--sort").flag,we=br(s,oe,"vxe-cell--filter").flag;let Ce=!1;const de=w.drag&&T==="cell";if(!(ce||fe||me||we)){const{column:Ie}=h;de&&!Ie.fixed&&(A||N||!Ie.parentId)&&!(z&&z(h))&&(Ce=!0,y.handleHeaderCellDragMousedownEvent(s,h))}!Ce&&b&&C.area&&y.handleHeaderCellAreaEvent&&y.handleHeaderCellAreaEvent(s,Object.assign({cell:oe,triggerSort:me,triggerFilter:we},h)),y.focus(),y.closeMenu&&y.closeMenu()},triggerCellMousedownEvent(s,h){const{column:b}=h,{type:C,treeNode:w}=b,R=C==="radio",T=C==="checkbox",A=C==="expand",N=re.value,z=qe.value,{trigger:oe,isCrossDrag:ce,isPeerDrag:fe,disabledMethod:me}=z,we=s.currentTarget;h.cell=we;const Ce=we&&we.tagName&&we.tagName.toLowerCase()==="input",de=R&&br(s,we,"vxe-cell--radio").flag,Ie=T&&br(s,we,"vxe-cell--checkbox").flag,ze=w&&br(s,we,"vxe-tree--btn-wrapper").flag,He=A&&br(s,we,"vxe-table--expanded").flag;let De=!1;N.drag&&(De=oe==="row"||b.dragSort&&oe==="cell");let at=!1;Ce||de||Ie||ze||He||De&&(ce||fe||!h.level)&&!(me&&me(h))&&(at=!0,y.handleCellDragMousedownEvent(s,h)),!at&&y.handleCellMousedownEvent&&y.handleCellMousedownEvent(s,h),y.focus(),y.closeFilter(),y.closeMenu&&y.closeMenu()},triggerCellMouseupEvent(){Mx()},handleRowDragDragstartEvent(s){s.dataTransfer&&s.dataTransfer.setDragImage(kb(),0,0)},handleRowDragSwapEvent(s,h,b,C,w,R){const{treeConfig:T,dragConfig:A}=e,N=qe.value,{afterFullData:z,tableFullData:oe,fullAllDataRowIdData:ce}=c,{isPeerDrag:fe,isCrossDrag:me,isSelfToChildDrag:we,dragEndMethod:Ce,dragToChildMethod:de}=N,Ie=zt.value,{transform:ze,rowField:He,mapChildrenField:De,parentField:at}=Ie,ot=Ie.children||Ie.childrenField,Mt=Ce||(A?A.dragEndMethod:null),At=w==="bottom"?1:0,Nt={status:!1};if(C&&b&&C!==b){const Yt={oldRow:b,newRow:C,dragRow:b,dragPos:w,dragToChild:!!R,offsetIndex:At},Gt=we&&de?de(Yt):R;return Promise.resolve(Mt?Mt(Yt):!0).then(Et=>{if(!Et)return Nt;let Ot=-1,Zt=-1;if(T){if(ze){const gr=Ft(y,b),Cr=ce[gr],xr=Ft(y,C),vr=ce[xr];if(Cr&&vr){const{level:yr}=Cr,{level:Rr}=vr,Vr={};f.eachTree([b],gn=>{Vr[Ft(y,gn)]=gn},{children:De});let Nr=!1;if(yr&&Rr)if(fe&&!me){if(Cr.row[at]!==vr.row[at])return Nt}else{if(!me)return Nt;if(Vr[xr]&&(Nr=!0,!(me&&we)))return Se.modal&&Se.modal.message({status:"error",content:sa("vxe.error.treeDragChild")}),Nt}else if(yr){if(!me)return Nt}else if(Rr){if(!me)return Nt;if(Vr[xr]&&(Nr=!0,!(me&&we)))return Se.modal&&Se.modal.message({status:"error",content:sa("vxe.error.treeDragChild")}),Nt}const Xr=f.toTreeArray(c.afterTreeFullData,{key:He,parentKey:at,children:De}),pn=y.findRowIndexOf(Xr,b);Xr.splice(pn,1);const hn=y.findRowIndexOf(Xr,C)+At;Xr.splice(hn,0,b),Nr&&me&&we&&f.each(b[ot],gn=>{gn[at]=b[at]}),b[at]=Gt?C[He]:C[at],c.tableFullTreeData=f.toArrayTree(Xr,{key:He,parentKey:at,children:ot,mapChildren:De})}}}else{Ot=y.findRowIndexOf(z,b);const gr=y.findRowIndexOf(oe,b);z.splice(Ot,1),oe.splice(gr,1);const Cr=y.findRowIndexOf(z,C),xr=y.findRowIndexOf(oe,C);Zt=Cr+At;const vr=xr+At;z.splice(Zt,0,b),oe.splice(vr,0,b)}return o.isDragRowMove=!0,y.handleTableData(T&&ze),y.cacheRowMap(!1),In(),T&&ze||y.updateAfterDataIndex(),y.checkSelectionStatus(),o.scrollYLoad&&y.updateScrollYSpace(),s&&Tr("row-dragend",{oldRow:b,newRow:C,dragRow:b,dragPos:w,dragToChild:Gt,offsetIndex:At,_index:{newIndex:Zt,oldIndex:Ot}},s),ye().then(()=>{y.updateCellAreas(),y.recalculate()}).then(()=>({status:!0}))}).catch(()=>Nt)}return Promise.resolve(Nt)},handleRowDragDragendEvent(s){const{treeConfig:h}=e,{fullAllDataRowIdData:b,prevDragToChild:C}=c,{dragRow:w}=o,R=zt.value,{lazy:T}=R,A=R.hasChild||R.hasChildField,{prevDragRow:N,prevDragPos:z}=c;if(h&&T&&C){const oe=Ft(y,N),ce=b[oe];N[A]?ce&&ce.treeLoaded&&y.handleRowDragSwapEvent(s,!0,w,N,z,C):y.handleRowDragSwapEvent(s,!0,w,N,z,C)}else y.handleRowDragSwapEvent(s,!0,w,N,z,C);Nl(),_c(),c.prevDragToChild=!1,o.dragRow=null,o.dragCol=null,setTimeout(()=>{o.isDragRowMove=!1},500)},handleRowDragDragoverEvent(s){const{treeConfig:h}=e,{fullAllDataRowIdData:b}=c,{dragRow:C}=o,w=zt.value,{lazy:R,transform:T,parentField:A}=w,N=w.hasChild||w.hasChildField,z=qe.value,{isPeerDrag:oe,isCrossDrag:ce,isToChildDrag:fe}=z;if(!C){s.preventDefault();return}const me=s.ctrlKey,we=s.currentTarget,Ce=we.getAttribute("rowid")||"",de=b[Ce];if(de){const Ie=de.row,ze=Ft(y,Ie),He=b[ze];s.preventDefault();const{dragRow:De}=o,ot=s.clientY-we.getBoundingClientRect().y<we.clientHeight/2?"top":"bottom";if(c.prevDragToChild=!!(h&&T&&ce&&fe&&me),c.prevDragRow=Ie,c.prevDragPos=ot,y.eqRow(De,Ie)||me&&h&&R&&Ie[N]&&He&&!He.treeLoaded||!ce&&h&&T&&(oe?De[A]!==Ie[A]:de.level)){Es(s,we,null,!1,ot);return}Es(s,we,null,!0,ot),Tr("row-dragover",{oldRow:De,targetRow:Ie,dragPos:ot},s)}},handleCellDragMousedownEvent(s,h){var b;s.stopPropagation();const{dragConfig:C}=e,w=qe.value,{trigger:R,dragStartMethod:T}=w,{row:A}=h,N=s.currentTarget,z=R==="cell"||R==="row"?N:(b=N.parentElement)===null||b===void 0?void 0:b.parentElement,oe=z.parentElement,ce=T||(C?C.dragStartMethod:null);if(_c(),ce&&!ce(h)){oe.draggable=!1,o.dragRow=null,o.dragCol=null,Nl();return}o.dragRow=A,o.dragCol=null,oe.draggable=!0,h0(A),g0(z),Tr("row-dragstart",h,s)},handleCellDragMouseupEvent(){Mx()},handleHeaderCellDragDragstartEvent(s){s.dataTransfer&&s.dataTransfer.setDragImage(kb(),0,0)},handleColDragSwapColumn(){ar(),Ln(!1).then(()=>{y.updateCellAreas(),y.saveCustomStore("update:sort")})},handleColDragSwapEvent(s,h,b,C,w,R){const{mouseConfig:T}=e,A=Je.value,{isPeerDrag:N,isCrossDrag:z,isSelfToChildDrag:oe,isToChildDrag:ce,dragEndMethod:fe,dragToChildMethod:me}=A,{collectColumn:we}=c,Ce=w==="right"?1:0,de={status:!1};if(C&&b&&C!==b){const Ie=b,ze=C,He={oldColumn:Ie,newColumn:ze,dragColumn:Ie,dragPos:w,dragToChild:!!R,offsetIndex:Ce},De=oe&&me?me(He):R;return Promise.resolve(fe?fe(He):!0).then(at=>{if(!at)return de;let ot=-1,Mt=-1;const At={};f.eachTree([Ie],Et=>{At[Et.id]=Et});let Nt=!1;if(Ie.parentId&&ze.parentId)if(N&&!z){if(Ie.parentId!==ze.parentId)return de}else{if(!z)return de;if(At[ze.id]&&(Nt=!0,!(z&&oe)))return Se.modal&&Se.modal.message({status:"error",content:sa("vxe.error.treeDragChild")}),de}else if(Ie.parentId){if(!z)return de}else if(ze.parentId){if(!z)return de;if(At[ze.id]&&(Nt=!0,!(z&&oe)))return Se.modal&&Se.modal.message({status:"error",content:sa("vxe.error.treeDragChild")}),de}const Yt=f.findTree(we,Et=>Et.id===Ie.id);if(Nt&&z&&oe){if(Yt){const{items:Et,index:Ot}=Yt,Zt=Ie.children||[];Zt.forEach(gr=>{gr.parentId=Ie.parentId}),Et.splice(Ot,1,...Zt),Ie.children=[]}}else if(Yt){const{items:Et,index:Ot,parent:Zt}=Yt;Et.splice(Ot,1),Zt||(ot=Ot)}const Gt=f.findTree(we,Et=>Et.id===ze.id);if(Gt){const{items:Et,index:Ot,parent:Zt}=Gt;z&&ce&&De?(Ie.parentId=ze.id,ze.children=(ze.children||[]).concat([Ie])):(Ie.parentId=ze.parentId,Et.splice(Ot+Ce,0,Ie)),Zt||(Mt=Ot)}return f.eachTree(we,(Et,Ot,Zt,gr,Cr)=>{if(!Cr){const xr=Ot+1;Et.renderSortNumber=xr}}),o.isDragColMove=!0,T&&(y.clearSelected&&y.clearSelected(),y.clearCellAreas&&(y.clearCellAreas(),y.clearCopyCellArea())),s&&Tr("column-dragend",{oldColumn:Ie,newColumn:ze,dragColumn:Ie,dragPos:w,dragToChild:De,offsetIndex:Ce,_index:{newIndex:Mt,oldIndex:ot}},s),h&&y.handleColDragSwapColumn(),{status:!0}}).catch(()=>de)}return Promise.resolve(de)},handleHeaderCellDragDragendEvent(s){const{dragCol:h}=o,{prevDragCol:b,prevDragPos:C,prevDragToChild:w}=c;y.handleColDragSwapEvent(s,!0,h,b,C,w),Nl(),Ss(),c.prevDragToChild=!1,o.dragRow=null,o.dragCol=null,setTimeout(()=>{o.isDragColMove=!1,y.recalculate().then(()=>{Er()})},500)},handleHeaderCellDragDragoverEvent(s){const{dragCol:h}=o,b=Je.value,{isToChildDrag:C,isPeerDrag:w,isCrossDrag:R}=b;if(!h){s.preventDefault();return}const T=s.ctrlKey,A=s.currentTarget,N=A.getAttribute("colid"),z=y.getColumnById(N);if(z){s.preventDefault();const{clientX:oe}=s,fe=oe-A.getBoundingClientRect().x<A.clientWidth/2?"left":"right";if(c.prevDragToChild=!!(R&&C&&T),c.prevDragCol=z,c.prevDragPos=fe,z.fixed||h&&h.id===z.id||!R&&(w?h.parentId!==z.parentId:z.parentId)){Es(s,null,A,!1,fe);return}Es(s,null,A,!0,fe),Tr("column-dragover",{oldColumn:h,targetColumn:z,dragPos:fe},s);const me=x.value;if(!me)return;const we=K.value,Ce=M.value,de=Ce?Ce.$el:null,Ie=we||de;if(Ie){const ze=me.getBoundingClientRect(),He=me.clientWidth,De=Z.value,at=De?De.clientWidth:0,ot=L.value,Mt=ot?ot.clientWidth:0,At=ze.x+at,Nt=ze.x+He-Mt,Yt=28,Gt=oe-At,Et=Nt-oe;if(Gt>0&&Gt<=Yt){const Ot=Math.floor(He/(Gt>Yt/2?240:120));Ie.scrollLeft-=Ot*(Yt-Gt)}else if(Et>0&&Et<=Yt){const Ot=Math.floor(He/(Et>Yt/2?240:120));Ie.scrollLeft+=Ot*(Yt-Et)}}}},handleHeaderCellDragMousedownEvent(s,h){var b;s.stopPropagation();const C=Je.value,{trigger:w,dragStartMethod:R}=C,{column:T}=h,A=s.currentTarget,N=w==="cell"?A:(b=A.parentElement)===null||b===void 0?void 0:b.parentElement;if(o.isDragColMove=!1,Ss(),R&&!R(h)){N.draggable=!1,o.dragRow=null,o.dragCol=null,Nl();return}o.dragCol=T,o.dragRow=null,N.draggable=!0,v0(T),m0(N),Tr("column-dragstart",h,s)},handleHeaderCellDragMouseupEvent(){Ss(),Nl(),o.dragRow=null,o.dragCol=null,o.isDragColMove=!1},handleScrollEvent(s,h,b,C,w,R){const{highlightHoverRow:T}=e,{lastScrollLeft:A,lastScrollTop:N}=c,z=K.value,oe=ie.value;if(!z||!oe)return;const ce=re.value,fe=D.value,me=k.value,we=oe.clientHeight,Ce=z.clientWidth,de=oe.scrollHeight,Ie=z.scrollWidth;let ze=!1,He=!1,De=!1,at=!1,ot="",Mt=!1,At=!1,Nt=!1,Yt=!1;if(b){const Et=Ht.value;De=w<=0,De||(at=w+Ce>=Ie),w>A?(ot="right",w+Ce>=Ie-Et&&(Yt=!0)):(ot="left",w<=Et&&(Nt=!0)),y.checkScrolling(),c.lastScrollLeft=w}if(h){const Et=St.value;ze=C<=0,ze||(He=C+we>=de),C>N?(ot="bottom",C+we>=de-Et&&(At=!0)):(ot="top",C<=Et&&(Mt=!0)),c.lastScrollTop=C}o.isDragColMove=!1,o.isDragRowMove=!1,o.lastScrollTime=Date.now();const Gt=Object.assign({scrollTop:C,scrollLeft:w,bodyHeight:we,bodyWidth:Ce,scrollHeight:de,scrollWidth:Ie,isX:b,isY:h,isTop:ze,isBottom:He,isLeft:De,isRight:at,direction:ot},R);fl(),t0(b,h),(ce.isHover||T)&&y.clearHoverRow(),fe&&fe.reactData.visible&&fe.close(),me&&me.reactData.visible&&me.close(),(At||Mt||Yt||Nt)&&Tr("scroll-boundary",Gt,s),Tr("scroll",Gt,s)},triggerScrollXEvent(){Dt.value.immediate?Er():ys()},triggerScrollYEvent(){Lt.value.immediate?Pl():e0()},triggerBodyScrollEvent(s,h){const{scrollYLoad:b,scrollXLoad:C}=o,{elemStore:w,intoRunScroll:R,lastScrollTop:T,lastScrollLeft:A,inWheelScroll:N,inVirtualScroll:z,inHeaderScroll:oe,inBodyScroll:ce,scrollRenderType:fe,inFooterScroll:me}=c;if(N||z||oe||me)return;const we=K.value,Ce=ie.value,de=Xt(w["left-body-scroll"]),Ie=Xt(w["main-body-scroll"]),ze=Xt(w["right-body-scroll"]),He=Xt(w["main-header-scroll"]),De=Xt(w["main-footer-scroll"]),at=le.value;if(R||!Ie||!we||!Ce||ce&&fe!==h)return;let ot=Ce.scrollTop,Mt=we.scrollLeft;de&&h==="left"?ot=de.scrollTop:ze&&h==="right"?ot=ze.scrollTop:(ot=Ie.scrollTop,Mt=Ie.scrollLeft);const At=Mt!==A,Nt=ot!==T;c.inBodyScroll=!0,c.scrollRenderType=h,Nt&&(h==="left"?(Ar(Ie,ot),Ar(ze,ot)):h==="right"?(Ar(Ie,ot),Ar(de,ot)):(Ar(de,ot),Ar(ze,ot)),Ar(Ce,ot),Ar(at,ot),b&&y.triggerScrollYEvent(s)),At&&(_r(we,Mt),_r(He,Mt),_r(De,Mt),C&&y.triggerScrollXEvent(s)),y.handleScrollEvent(s,Nt,At,ot,Mt,{type:"body",fixed:h})},triggerHeaderScrollEvent(s,h){const{scrollXLoad:b}=o,{elemStore:C,intoRunScroll:w,inWheelScroll:R,inVirtualScroll:T,inBodyScroll:A,inFooterScroll:N}=c;if(R||T||A||N)return;const z=ie.value,oe=K.value,ce=Xt(C["main-body-scroll"]),fe=Xt(C["main-header-scroll"]),me=Xt(C["main-footer-scroll"]);if(w||!fe||!oe||!z)return;const we=z.scrollTop,Ce=fe.scrollLeft,de=!0,Ie=!1;c.inHeaderScroll=!0,_r(oe,Ce),_r(me,Ce),_r(ce,Ce),b&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,Ie,de,we,Ce,{type:"header",fixed:h})},triggerFooterScrollEvent(s,h){const{scrollXLoad:b}=o,{elemStore:C,intoRunScroll:w,inWheelScroll:R,inVirtualScroll:T,inHeaderScroll:A,inBodyScroll:N}=c;if(R||T||A||N)return;const z=ie.value,oe=K.value,ce=Xt(C["main-body-scroll"]),fe=Xt(C["main-header-scroll"]),me=Xt(C["main-footer-scroll"]);if(w||!me||!oe||!z)return;const we=z.scrollTop,Ce=me.scrollLeft,de=!0,Ie=!1;c.inFooterScroll=!0,_r(oe,Ce),_r(fe,Ce),_r(ce,Ce),b&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,Ie,de,we,Ce,{type:"footer",fixed:h})},triggerBodyWheelEvent(s){const{target:h,deltaY:b,deltaX:C,shiftKey:w}=s;if(h&&/^textarea$/i.test(h.tagName))return;const{highlightHoverRow:R}=ac,{scrollXLoad:T,scrollYLoad:A,expandColumn:N}=o,z=st.value,oe=It.value;if(!(z||oe||N))return;const{elemStore:ce,lastScrollTop:fe,lastScrollLeft:me}=c,we=re.value,Ce=K.value,de=ie.value,Ie=Xt(ce["left-body-scroll"]),ze=Xt(ce["main-header-scroll"]),He=Xt(ce["main-body-scroll"]),De=Xt(ce["main-footer-scroll"]),at=Xt(ce["right-body-scroll"]),ot=le.value;if(!Ce||!de||!He)return;const Mt=r0(o.lastScrollTime),At=w?0:Math.ceil(b*Mt),Nt=w?Math.ceil((w&&b||C)*Mt):0,Yt=At<0,Gt=He.scrollTop;if(Yt?Gt<=0:Gt>=He.scrollHeight-He.clientHeight)return;const Et=Gt+At,Ot=He.scrollLeft+Nt,Zt=Ot!==me,gr=Et!==fe;(we.isHover||R)&&y.clearHoverRow(),Zt&&(s.preventDefault(),c.inWheelScroll=!0,n0(Ot,Cr=>{c.inWheelScroll=!0;const xr=Cr;_r(Ce,xr),_r(He,xr),_r(ze,xr),_r(De,xr),T&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,gr,Zt,He.scrollTop,xr,{type:"table",fixed:""})})),gr&&(s.preventDefault(),c.inWheelScroll=!0,o0(Et-Gt,Cr=>{c.inWheelScroll=!0;const xr=He.scrollTop+Cr;Ar(de,xr),Ar(He,xr),Ar(Ie,xr),Ar(at,xr),Ar(ot,xr),A&&y.triggerScrollYEvent(s),y.handleScrollEvent(s,gr,Zt,xr,He.scrollLeft,{type:"table",fixed:""})}))},triggerVirtualScrollXEvent(s){const{scrollXLoad:h}=o,{elemStore:b,inWheelScroll:C,lastScrollTop:w,inHeaderScroll:R,inBodyScroll:T,inFooterScroll:A}=c;if(R||T||A||C)return;const N=Xt(b["main-header-scroll"]),z=Xt(b["main-body-scroll"]),oe=Xt(b["main-footer-scroll"]),ce=ie.value,fe=s.currentTarget,{scrollLeft:me}=fe,we=ce||z;let Ce=0;we&&(Ce=we.scrollTop);const de=!0,Ie=Ce!==w;c.inVirtualScroll=!0,_r(z,me),_r(N,me),_r(oe,me),h&&y.triggerScrollXEvent(s),y.handleScrollEvent(s,Ie,de,Ce,me,{type:"table",fixed:""})},triggerVirtualScrollYEvent(s){const{scrollYLoad:h}=o,{elemStore:b,inWheelScroll:C,lastScrollLeft:w,inHeaderScroll:R,inBodyScroll:T,inFooterScroll:A}=c;if(R||T||A||C)return;const N=Xt(b["left-body-scroll"]),z=Xt(b["main-body-scroll"]),oe=Xt(b["right-body-scroll"]),ce=le.value,fe=K.value,me=s.currentTarget,{scrollTop:we}=me,Ce=fe||z;let de=0;Ce&&(de=Ce.scrollLeft);const Ie=de!==w,ze=!0;c.inVirtualScroll=!0,Ar(z,we),Ar(N,we),Ar(oe,we),Ar(ce,we),h&&y.triggerScrollYEvent(s),y.handleScrollEvent(s,ze,Ie,we,de,{type:"table",fixed:""})},scrollToTreeRow(s){const{treeConfig:h}=e,{tableFullData:b}=c,C=[];if(h){const w=zt.value,R=w.children||w.childrenField,T=f.findTree(b,A=>y.eqRow(A,s),{children:R});if(T){const A=T.nodes;A.forEach((N,z)=>{z<A.length-1&&!m.isTreeExpandByRow(N)&&C.push(m.setTreeExpand(N,!0))})}}return Promise.all(C).then(()=>CO(y,s))},updateScrollYStatus:In,updateScrollXSpace(){const{isGroup:s,scrollXLoad:h,overflowX:b,scrollXWidth:C}=o,{visibleColumn:w,scrollXStore:R,elemStore:T,fullColumnIdData:A}=c,N=ft.value,z=M.value;if(z?z.$el:null){const ce=Xt(T["main-body-scroll"]),fe=Xt(T["main-body-table"]),me=Xt(T["main-header-table"]),we=Xt(T["main-footer-table"]);let Ce=0;const de=w[R.startIndex];de&&(Ce=(A[de.id]||{}).oLeft);let Ie=0;ce&&(Ie=ce.clientWidth);let ze=!1,He=C;C>Wl&&(ce&&fe&&ce.scrollLeft+Ie>=Wl?Ce=Wl-fe.clientWidth:Ce=(Wl-Ie)*(Ce/(C-Ie)),He=Wl,ze=!0);let De="";h&&b&&(De=`${Ce}px`),me&&(me.style.marginLeft=s?"":De),fe&&(fe.style.marginLeft=De),we&&(we.style.marginLeft=De),o.isScrollXBig=ze,["main"].forEach(Mt=>{["header","body","footer"].forEach(Nt=>{const Yt=Xt(T[`${Mt}-${Nt}-xSpace`]);Yt&&(Yt.style.width=h?`${He}px`:"")})});const ot=Pe.value;ot&&(ot.style.width=`${He}px`),ze&&N.area&&Bt("vxe.error.notProp",["mouse-config.area"]),ye(()=>{Hr()})}},updateScrollYSpace(){const{isAllOverflow:s,scrollYLoad:h,expandColumn:b}=o,{scrollYStore:C,elemStore:w,isResizeCellHeight:R,afterFullData:T,fullAllDataRowIdData:A,rowExpandedMaps:N}=c,{startIndex:z}=C,oe=ft.value,ce=ir.value,fe=re.value,me=be.value,we=X.value,Ce=Xt(w["main-body-scroll"]),de=Xt(w["main-body-table"]),Ie=["main","left","right"];let ze=0,He=0,De=!1;if(h)if(!(R||me.height||fe.height)&&!b&&s)He=T.length*we,He>xl&&(De=!0),ze=Math.max(0,z*we);else{const Gt=T[z];let Et=Ft(y,Gt),Ot=A[Et]||{};ze=Ot.oTop;const Zt=T[T.length-1];Et=Ft(y,Zt),Ot=A[Et]||{},He=Ot.oTop+(Ot.resizeHeight||me.height||fe.height||Ot.height||we),b&&N[Et]&&(He+=Ot.expandHeight||ce.height||0),He>xl&&(De=!0)}else de&&(He=de.clientHeight);let at=0;Ce&&(at=Ce.clientHeight);let ot=He,Mt=ze;De&&(Ce&&de&&Ce.scrollTop+at>=xl?Mt=xl-de.clientHeight:Mt=(xl-at)*(ze/(He-at)),ot=xl),Ie.forEach(Yt=>{const Gt=["header","body","footer"],Et=Xt(w[`${Yt}-body-table`]);Et&&(Et.style.marginTop=Mt?`${Mt}px`:""),Gt.forEach(Ot=>{const Zt=Xt(w[`${Yt}-${Ot}-ySpace`]);Zt&&(Zt.style.height=ot?`${ot}px`:"")})});const At=et.value;At&&(At.style.height=ot?`${ot}px`:"");const Nt=Ee.value;return Nt&&(Nt.style.height=ot?`${ot}px`:""),o.scrollYTop=Mt,o.scrollYHeight=He,o.isScrollYBig=De,De&&oe.area&&Bt("vxe.error.notProp",["mouse-config.area"]),ye().then(()=>{Hr()})},updateScrollXData(){const{isAllOverflow:s}=o;return rr(),y.updateScrollYSpace(),ye().then(()=>{rr(),y.updateScrollXSpace(),s||y.updateScrollYSpace()})},updateScrollYData(){return y.handleTableData(),y.updateScrollYSpace(),ye().then(()=>{y.handleTableData(),y.updateScrollYSpace()})},checkScrolling(){const{elemStore:s}=c,h=Xt(s["main-body-scroll"]),b=Z.value,C=L.value,R=K.value||h;R&&(b&&(R.scrollLeft>0?Go(b,"scrolling--middle"):Zn(b,"scrolling--middle")),C&&(R.clientWidth<R.scrollWidth-Math.ceil(R.scrollLeft)?Go(C,"scrolling--middle"):Zn(C,"scrolling--middle")))},updateZindex(){e.zIndex?c.tZindex=e.zIndex:c.tZindex<mF()&&(c.tZindex=vF())},handleCheckedCheckboxRow:Lr,triggerHoverEvent(s,{row:h}){v.setHoverRow(h)},setHoverRow(s){const h=Ft(y,s),b=x.value;v.clearHoverRow(),b&&f.arrayEach(b.querySelectorAll(`.vxe-body--row[rowid="${h}"]`),C=>Go(C,"row--hover")),c.hoverRow=s},clearHoverRow(){const s=x.value;s&&f.arrayEach(s.querySelectorAll(".vxe-body--row.row--hover"),h=>Zn(h,"row--hover")),c.hoverRow=null},getCell(s,h){return m.getCellElement(s,h)},findRowIndexOf(s,h){return h?f.findIndexOf(s,b=>y.eqRow(b,h)):-1},eqRow(s,h){return s&&h?s===h?!0:Ft(y,s)===Ft(y,h):!1}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(s=>{y[s]=function(){Bt("vxe.error.reqModule",["VxeTableExportModule"])}}),"clearValidate,fullValidate,validate".split(",").forEach(s=>{y[s]=function(){Bt("vxe.error.reqModule",["VxeTableValidatorModule"])}}),Object.assign(y,m,v);const Ix=s=>{const{showHeader:h,showFooter:b}=e,{tableData:C,tableColumn:w,tableGroupColumn:R,columnStore:T,footerTableData:A}=o,N=s==="left",z=N?T.leftList:T.rightList;return g("div",{ref:N?Z:L,class:`vxe-table--fixed-${s}-wrapper`},[h?g(TO,{ref:N?$:j,fixedType:s,tableData:C,tableColumn:w,tableGroupColumn:R,fixedColumn:z}):Sn(y),g(DO,{ref:N?Y:B,fixedType:s,tableData:C,tableColumn:w,fixedColumn:z}),b?g(FO,{ref:N?H:xe,footerTableData:A,tableColumn:w,fixedColumn:z,fixedType:s}):Sn(y)])},b0=()=>{const s=dr.value,h={$table:y};if(r.empty)return r.empty(h);{const b=s.name?$O.get(s.name):null,C=b?b.renderTableEmpty||b.renderTableEmptyView||b.renderEmpty:null;if(C)return Rn(C(s,h))}return ma(e.emptyText)||sa("vxe.table.emptyText")},x0=()=>{const{dragConfig:s}=e,{dragRow:h,dragCol:b,dragTipText:C}=o,w=Je.value,A=(qe.value.slots||{}).tip||(s&&s.slots?s.slots.rowTip:null),z=(w.slots||{}).tip;return h&&A?Si(A,{row:h}):b&&z?Si(z,{column:b}):[g("span",C)]},C0=()=>{const{dragRow:s,dragCol:h}=o,b=re.value,C=W.value,w=qe.value,R=Je.value;return b.drag||C.drag?g("div",{class:"vxe-table--drag-wrapper"},[g("div",{ref:se,class:["vxe-table--drag-row-line",{"is--guides":w.showGuidesStatus}]}),g("div",{ref:ae,class:["vxe-table--drag-col-line",{"is--guides":R.showGuidesStatus}]}),s&&w.showDragTip||h&&R.showDragTip?g("div",{ref:ee,class:"vxe-table--drag-sort-tip"},[g("div",{class:"vxe-table--drag-sort-tip-wrapper"},[g("div",{class:"vxe-table--drag-sort-tip-status"},[g("span",{class:["vxe-table--drag-sort-tip-normal-status",s?$s().TABLE_DRAG_STATUS_ROW:$s().TABLE_DRAG_STATUS_COLUMN]}),g("span",{class:["vxe-table--drag-sort-tip-sub-status",$s().TABLE_DRAG_STATUS_SUB_ROW]}),g("span",{class:["vxe-table--drag-sort-tip-disabled-status",$s().TABLE_DRAG_DISABLED]})]),g("div",{class:"vxe-table--drag-sort-tip-content"},x0())])]):Sn(y)]):Sn(y)},y0=()=>{const{treeConfig:s}=e,{expandColumn:h}=o,b=an.value,C=ir.value,{mode:w}=C;if(w!=="fixed")return Sn(y);const R=[g("div",{key:"repY",ref:Ee})];if(h){const{handleGetRowId:T}=en(y);b.forEach(A=>{const N=ir.value,{height:z,padding:oe}=N,{fullAllDataRowIdData:ce}=c,fe=zt.value,{transform:me,seqMode:we}=fe,Ce={},de=T(A),Ie=ce[de];let ze=0,He=-1,De=0;const at=y.getRowIndex(A),ot=y.getVMRowIndex(A);Ie&&(ze=Ie.level,s&&me&&we==="increasing"?He=Ie._index+1:He=Ie.seq,De=Ie._index),z&&(Ce.height=`${z}px`),s&&(Ce.paddingLeft=`${ze*fe.indent+30}px`);const Mt={$table:y,seq:He,column:h,fixed:"",type:"body",level:ze,row:A,rowIndex:at,$rowIndex:ot,_rowIndex:De};R.push(g("div",{key:de,class:["vxe-body--row-expanded-cell",{"is--padding":oe,"is--ellipsis":z}],rowid:de,style:Ce},h.renderData(Mt)))})}return g("div",{ref:le,class:"vxe-table--row-expanded-wrapper"},R)},Fx=()=>g("div",{key:"vsx",ref:Oe,class:"vxe-table--scroll-x-virtual"},[g("div",{ref:pe,class:"vxe-table--scroll-x-left-corner"}),g("div",{ref:_e,class:"vxe-table--scroll-x-wrapper"},[g("div",{ref:K,class:"vxe-table--scroll-x-handle",onScroll:y.triggerVirtualScrollXEvent},[g("div",{ref:Pe,class:"vxe-table--scroll-x-space"})])]),g("div",{ref:J,class:"vxe-table--scroll-x-right-corner"})]),kx=()=>g("div",{ref:Be,class:"vxe-table--scroll-y-virtual"},[g("div",{ref:Ae,class:"vxe-table--scroll-y-top-corner"}),g("div",{ref:_,class:"vxe-table--scroll-y-wrapper"},[g("div",{ref:ie,class:"vxe-table--scroll-y-handle",onScroll:y.triggerVirtualScrollYEvent},[g("div",{ref:et,class:"vxe-table--scroll-y-space"})])]),g("div",{ref:Fe,class:"vxe-table--scroll-y-bottom-corner"})]),$x=()=>{const{showHeader:s,showFooter:h}=e,{overflowX:b,tableData:C,tableColumn:w,tableGroupColumn:R,footerTableData:T,columnStore:A}=o,{leftList:N,rightList:z}=A;return g("div",{ref:F,class:"vxe-table--viewport-wrapper"},[g("div",{class:"vxe-table--main-wrapper"},[s?g(TO,{ref:O,tableData:C,tableColumn:w,tableGroupColumn:R}):Sn(y),g(DO,{ref:M,tableData:C,tableColumn:w}),h?g(FO,{ref:G,footerTableData:T,tableColumn:w}):Sn(y)]),g("div",{class:"vxe-table--fixed-wrapper"},[N&&N.length&&b?Ix("left"):Sn(y),z&&z.length&&b?Ix("right"):Sn(y)]),y0()])},Ax=()=>{const s=bt.value;return g("div",{class:"vxe-table--layout-wrapper"},s?[kx(),$x()]:[$x(),kx()])},w0=()=>{const{loading:s,stripe:h,showHeader:b,height:C,treeConfig:w,mouseConfig:R,showFooter:T,highlightCell:A,highlightHoverRow:N,highlightHoverColumn:z,editConfig:oe,editRules:ce}=e,{isGroup:fe,overflowX:me,overflowY:we,scrollXLoad:Ce,scrollYLoad:de,tableData:Ie,initStore:ze,columnStore:He,filterStore:De,customStore:at}=o,{leftList:ot,rightList:Mt}=He,At=r.loading,Nt=Ue.value,Yt=Qe.value,Gt=_t.value,Et=Me.value,Ot=zt.value,Zt=re.value,gr=W.value,Cr=p.value,xr=oo.value,vr=ft.value,yr=Rt.value,Rr=pr.value,Vr=ht.value,Nr=o.isColLoading||o.isRowLoading||s,Xr=Ct.value,pn=R&&vr.area,Yn=Je.value,hn=ct.value,gn=bt.value;return g("div",{ref:x,class:["vxe-table","vxe-table--render-default",`tid_${l}`,`border--${xr}`,`sx-pos--${hn?"top":"bottom"}`,`sy-pos--${gn?"left":"right"}`,{[`size--${Cr}`]:Cr,[`valid-msg--${Gt.msgMode}`]:!!ce,"vxe-editable":!!oe,"old-cell-valid":ce&&fr().cellVaildMode==="obsolete","cell--highlight":A,"cell--selected":R&&vr.selected,"cell--area":pn,"header-cell--area":pn&&yr.selectCellByHeader,"body-cell--area":pn&&yr.selectCellByBody,"row--highlight":Zt.isHover||N,"column--highlight":gr.isHover||z,"checkbox--range":Et.range,"col--drag-cell":gr.drag&&Yn.trigger==="cell","is--header":b,"is--footer":T,"is--group":fe,"is--tree-line":w&&(Ot.showLine||Ot.line),"is--fixed-left":ot.length,"is--fixed-right":Mt.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!w&&h,"is--loading":Nr,"is--empty":!Nr&&!Ie.length,"is--scroll-y":we,"is--scroll-x":me,"is--virtual-x":Ce,"is--virtual-y":de}],spellcheck:!1,onKeydown:c0},[g("div",{class:"vxe-table-slots"},r.default?r.default({}):[]),g("div",{ref:S,class:"vxe-table-vars"},[g("div",{class:"vxe-table-var-default"}),g("div",{class:"vxe-table-var-medium"}),g("div",{class:"vxe-table-var-small"}),g("div",{class:"vxe-table-var-mini"})]),g("div",{key:"tw",class:"vxe-table--render-wrapper"},hn?[Fx(),Ax()]:[Ax(),Fx()]),g("div",{key:"tn",ref:Le,class:"vxe-table--empty-placeholder"},[g("div",{class:"vxe-table--empty-content"},b0())]),g("div",{key:"tl",class:"vxe-table--border-line"}),g("div",{key:"tcl",ref:ne,class:"vxe-table--resizable-col-bar"},Xr.showDragTip?[g("div",{class:"vxe-table--resizable-number-tip"})]:[]),g("div",{key:"trl",ref:Ve,class:"vxe-table--resizable-row-bar"},Xr.showDragTip?[g("div",{class:"vxe-table--resizable-number-tip"})]:[]),i?g(i,{key:"lg",class:"vxe-table--loading",modelValue:Nr,icon:Rr.icon,text:Rr.text},At?{default:()=>Si(At,{$table:y,$grid:Ge,loading:Nr})}:{}):At?g("div",{class:["vxe-loading--custom-wrapper",{"is--visible":Nr}]},Si(At,{$table:y,$grid:Ge,loading:Nr})):Sn(y),ze.custom?g(WN,{key:"cs",ref:q,customStore:at}):Sn(y),ze.filter?g(GN,{key:"tf",ref:V,filterStore:De}):Sn(y),ze.import&&e.importConfig?g(jN,{key:"it",defaultOptions:o.importParams,storeData:o.importStore}):Sn(y),ze.export&&(e.exportConfig||e.printConfig)?g(YN,{key:"et",defaultOptions:o.exportParams,storeData:o.exportStore}):Sn(y),Vr?g(XN,{key:"tm",ref:P}):Sn(y),C0(),d?g("div",{},[g(d,{key:"ctp",ref:E,isArrow:!1,enterable:!1}),g(d,{key:"btp",ref:k,theme:Nt.theme,enterable:Nt.enterable,enterDelay:Nt.enterDelay,leaveDelay:Nt.leaveDelay}),e.editRules&&Gt.showMessage&&(Gt.message==="default"?!C:Gt.message==="tooltip")?g(d,{key:"vtp",ref:D,class:[{"old-cell-valid":ce&&fr().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:Yt.theme,enterable:Yt.enterable,enterDelay:Yt.enterDelay,leaveDelay:Yt.leaveDelay}):Sn(y)]):Sn(y)])},Hc=it(0);er(()=>e.data?e.data.length:-1,()=>{Hc.value++}),er(()=>e.data,()=>{Hc.value++}),er(Hc,()=>{const{initStatus:s}=c,h=e.data||[];h&&h.length>=5e4&&sr("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),$t(h,!1).then(()=>{const{scrollXLoad:b,scrollYLoad:C,expandColumn:w}=o,R=ir.value;return c.inited=!0,c.initStatus=!0,s||Ne(),(b||C)&&w&&R.mode!=="fixed"&&sr("vxe.error.scrollErrProp",["column.type=expand"]),m.recalculate()})});const Vc=it(0);er(()=>o.staticColumns.length,()=>{Vc.value++}),er(()=>o.staticColumns,()=>{Vc.value++}),er(Vc,()=>{Jr(f.clone(o.staticColumns))});const zc=it(0);er(()=>o.tableColumn.length,()=>{zc.value++}),er(()=>o.tableColumn,()=>{zc.value++}),er(zc,()=>{v.analyColumnWidth()}),er(()=>o.upDataFlag,()=>{ye(()=>{m.updateData()})}),er(()=>o.reColumnFlag,()=>{ye(()=>{m.refreshColumn()})});const _l=it(0);er(p,()=>{_l.value++}),er(()=>e.showHeader,()=>{_l.value++}),er(()=>e.showFooter,()=>{_l.value++}),er(()=>o.overflowX,()=>{_l.value++}),er(()=>o.overflowY,()=>{_l.value++}),er(_l,()=>{ye(()=>{m.recalculate(!0).then(()=>m.refreshScroll())})});const ql=it(0);er(()=>e.height,()=>{ql.value++}),er(()=>e.maxHeight,()=>{ql.value++}),er(ct,()=>{ql.value++}),er(bt,()=>{ql.value++}),er(()=>Se.getLanguage(),()=>{ql.value++}),er(ql,()=>{ye(()=>m.recalculate(!0))});const Bc=it(0);er(()=>e.footerData?e.footerData.length:-1,()=>{Bc.value++}),er(()=>e.footerData,()=>{Bc.value++}),er(Bc,()=>{m.updateFooter()}),er(()=>e.syncResize,s=>{s&&(Nc(),ye(()=>{Nc(),setTimeout(()=>Nc())}))});const Wc=it(0);er(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Wc.value++}),er(()=>e.mergeCells,()=>{Wc.value++}),er(Wc,()=>{m.clearMergeCells(),ye(()=>{e.mergeCells&&m.setMergeCells(e.mergeCells)})});const Gc=it(0);er(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{Gc.value++}),er(()=>e.mergeFooterItems,()=>{Gc.value++}),er(Gc,()=>{m.clearMergeFooterItems(),ye(()=>{e.mergeFooterItems&&m.setMergeFooterItems(e.mergeFooterItems)})}),u&&er(()=>u?u.reactData.resizeFlag:null,()=>{Tx()}),QN.forEach(s=>{const{setupTable:h}=s;if(h){const b=h(y);b&&f.isObject(b)&&Object.assign(y,b)}}),v.preventEvent(null,"created",{$table:y});let Ei;return M0(()=>{m.recalculate().then(()=>m.refreshScroll()),v.preventEvent(null,"activated",{$table:y})}),I0(()=>{c.isActivated=!1,v.preventEvent(null,"deactivated",{$table:y})}),qn(()=>{const s=W.value,h=re.value,b=$r.value;(s.drag||h.drag||b.allowSort)&&yF(),ye(()=>{const{data:w,exportConfig:R,importConfig:T,treeConfig:A,showOverflow:N,highlightCurrentRow:z,highlightCurrentColumn:oe}=e,{scrollXStore:ce,scrollYStore:fe}=c,me=Xe.value,we=zt.value,Ce=ve.value,de=Me.value,Ie=ir.value,ze=re.value,He=$r.value,De=ft.value,at=Wt.value,ot=jt.value,Mt=$e.value,At=ge.value,Nt=Dt.value,Yt=Lt.value,Gt=Q.value;if(e.rowId&&sr("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&sr("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&sr("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||ze.keyField)&&(de.reserve||de.checkRowKeys||Ce.reserve||Ce.checkRowKey||Ie.expandRowKeys||we.expandRowKeys)&&sr("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(me.showStatus||me.showUpdateStatus||me.showInsertStatus)&&!e.keepSource&&sr("vxe.error.reqProp",["keep-source"]),A&&(we.showLine||we.line)&&(!(e.rowKey||ze.useKey)||!N)&&sr("vxe.error.reqProp",["row-config.useKey | show-overflow"]),A&&!we.transform&&e.stripe&&sr("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&sr("vxe.error.reqProp",["footer-data | footer-method"]),ze.height&&sr("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&sr("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&sr("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&sr("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&sr("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),T&&ot.types&&!ot.importMethod&&!f.includeArrays(f.keys(ot._typeMaps),ot.types)&&sr("vxe.error.errProp",[`export-config.types=${ot.types.join(",")}`,ot.types.filter(Et=>f.includes(f.keys(ot._typeMaps),Et)).join(",")||f.keys(ot._typeMaps).join(",")]),R&&at.types&&!at.exportMethod&&!f.includeArrays(f.keys(at._typeMaps),at.types)&&sr("vxe.error.errProp",[`export-config.types=${at.types.join(",")}`,at.types.filter(Et=>f.includes(f.keys(at._typeMaps),Et)).join(",")||f.keys(at._typeMaps).join(",")]),e.id||(e.customConfig?nr(He):He.enabled)&&He.storage&&Bt("vxe.error.reqProp",["id"]),e.treeConfig&&de.range&&Bt("vxe.error.noTree",["checkbox-config.range"]),ze.height&&!e.showOverflow&&sr("vxe.error.notProp",["table.show-overflow"]),!y.handleCellAreaMousedownEvent&&(e.areaConfig&&sr("vxe.error.notProp",["area-config"]),e.clipConfig&&sr("vxe.error.notProp",["clip-config"]),e.fnrConfig&&sr("vxe.error.notProp",["fnr-config"]),De.area)){Bt("vxe.error.notProp",["mouse-config.area"]);return}if(A&&ze.drag&&!we.transform&&Bt("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),e.dragConfig&&sr("vxe.error.delProp",["drag-config","row-drag-config"]),e.treeConfig&&we.children&&sr("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&we.line&&sr("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),De.area&&De.selected&&sr("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),De.area&&e.treeConfig&&!we.transform&&Bt("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&me.activeMethod&&sr("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&de.isShiftKey&&Bt("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),de.halfField&&sr("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),(ze.isCurrent||z)&&e.keyboardConfig&&Gt.isArrow&&!f.isBoolean(Mt.isFollowSelected)&&sr("vxe.error.notConflictProp",["row-config.isCurrent","current-row-config.isFollowSelected"]),(s.isCurrent||oe)&&e.keyboardConfig&&Gt.isArrow&&!f.isBoolean(At.isFollowSelected)&&sr("vxe.error.notConflictProp",["column-config.isCurrent","current-column-config.isFollowSelected"]),e.spanMethod&&(Nt.enabled&&sr("vxe.error.notConflictProp",["span-method","virtual-x-config.enabled=false"]),Yt.enabled&&sr("vxe.error.notConflictProp",["span-method","virtual-y-config.enabled=false"])),e.footerSpanMethod&&Nt.enabled&&sr("vxe.error.notConflictProp",["footer-span-method","virtual-x-config.enabled=false"]),e.editConfig&&!y.insert&&Bt("vxe.error.reqModule",["Edit"]),e.editRules&&!y.validate&&Bt("vxe.error.reqModule",["Validator"]),(de.range||e.keyboardConfig||e.mouseConfig)&&!y.handleCellMousedownEvent&&Bt("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!y.exportData&&Bt("vxe.error.reqModule",["Export"]),Object.assign(fe,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(ce,{startIndex:0,endIndex:0,visibleSize:0}),$t(w||[],!0).then(()=>{w&&w.length&&(c.inited=!0,c.initStatus=!0,Ne()),kt(),Hr()}),e.autoResize){const Et=x.value,Ot=v.getParentElem();Ei=JN.create(()=>{e.autoResize&&m.recalculate(!0)}),Et&&Ei.observe(Et),Ot&&Ei.observe(Ot)}});const C=F.value;C&&C.addEventListener("wheel",y.triggerBodyWheelEvent,{passive:!1}),Ir.on(y,"paste",d0),Ir.on(y,"copy",f0),Ir.on(y,"cut",p0),Ir.on(y,"mousedown",l0),Ir.on(y,"blur",i0),Ir.on(y,"mousewheel",s0),Ir.on(y,"keydown",u0),Ir.on(y,"resize",Tx),Ir.on(y,"contextmenu",y.handleGlobalContextmenuEvent),v.preventEvent(null,"mounted",{$table:y})}),Ki(()=>{const s=F.value;s&&s.removeEventListener("wheel",y.triggerBodyWheelEvent),Ei&&Ei.disconnect(),m.closeFilter(),y.closeMenu&&y.closeMenu(),v.preventEvent(null,"beforeUnmount",{$table:y})}),Ao(()=>{Ir.off(y,"paste"),Ir.off(y,"copy"),Ir.off(y,"cut"),Ir.off(y,"mousedown"),Ir.off(y,"blur"),Ir.off(y,"mousewheel"),Ir.off(y,"keydown"),Ir.off(y,"resize"),Ir.off(y,"contextmenu"),v.preventEvent(null,"unmounted",{$table:y})}),ye(()=>{e.loading&&!i&&!r.loading&&Bt("vxe.error.reqComp",["vxe-loading"]),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(d||Bt("vxe.error.reqComp",["vxe-tooltip"]))}),Ko("$xeColgroup",null),Ko("$xeTable",y),y.renderVN=w0,y},render(){return this.renderVN()}});function t_(e){const t=ue(()=>{const{renderParams:a}=e;return a.column}),r=ue(()=>{const{renderParams:a}=e;return a.row}),n=ue(()=>{const{renderOpts:a}=e;return a.props||{}}),l=ue({get(){const{renderParams:a}=e,{row:i,column:d}=a;return f.get(i,d.field)},set(a){const{renderParams:i}=e,{row:d,column:u}=i;return f.set(d,u.field,a)}});return{currColumn:t,currRow:r,cellModel:l,cellOptions:n}}const{renderer:_O,hooks:r_}=Se,n_=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];r_.add("tableFilterModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refElem:l,refTableFilter:a}=e.getRefMaps(),{computeFilterOpts:i,computeMouseOpts:d}=e.getComputeMaps(),u=x=>{const{filterStore:S}=r;S.options.forEach(k=>{k.checked=k._checked}),e.confirmFilterEvent(x)},p=(x,S,k)=>{const{filterStore:E}=r;E.options.forEach(D=>{D._checked=!1}),k._checked=S,e.checkFilterOptions(),u(x)},o=(x,S,k)=>{k._checked=S,e.checkFilterOptions()},c=x=>{const{filterStore:S}=r;e.handleClearFilter(S.column),e.confirmFilterEvent(x)},m={checkFilterOptions(){const{filterStore:x}=r;x.isAllSelected=x.options.every(S=>S._checked),x.isIndeterminate=!x.isAllSelected&&x.options.some(S=>S._checked)},triggerFilterEvent(x,S,k){const{initStore:E,filterStore:D}=r,{elemStore:P}=n;if(D.column===S&&D.visible)D.visible=!1;else{const{clientY:V,pageX:q}=x,F=l.value,O=F.getBoundingClientRect(),M=x.target,{visibleWidth:G}=kc(),{filters:$,filterMultiple:Y,filterRender:H}=S,j=nr(H)?_O.get(H.name):null,B=S.filterRecoverMethod||(j?j.tableFilterRecoverMethod||j.filterRecoverMethod:null);n._currFilterParams=k,Object.assign(D,{multiple:Y,options:$,column:S,style:null}),D.options.forEach(xe=>{const{_checked:Z,checked:L}=xe;xe._checked=L,!L&&Z!==L&&B&&B({option:xe,column:S,$table:e})}),this.checkFilterOptions(),D.visible=!0,E.filter=!0,ye(()=>{const xe=Xt(P["main-header-scroll"]);if(!xe)return;const Z=a.value,L=Z?Z.$el:null;if(!L)return;const ne=L.offsetWidth,Ve=L.querySelector(".vxe-table--filter-header"),Le=L.querySelector(".vxe-table--filter-footer"),ee=ne/2,se=10,ae=F.clientWidth-ne-se;let le,Ee;const Oe=M.offsetParent,Be=Oe.offsetParent,K={top:`${M.offsetTop+Oe.offsetTop+M.offsetHeight}px`},pe=Math.max(40,F.clientHeight-(V-O.y)-(Ve?Ve.clientHeight:0)-(Le?Le.clientHeight:0)-14);if(S.fixed==="left"?le=M.offsetLeft+Oe.offsetLeft-ee:S.fixed==="right"?Ee=Oe.offsetWidth-M.offsetLeft+(Be.offsetWidth-Be.offsetLeft)-S.renderWidth-ee:le=M.offsetLeft+Oe.offsetLeft-ee-xe.scrollLeft,le){const J=q+ne-ee+se-G;J>0&&(le-=J),K.left=`${Math.min(ae,Math.max(se,le))}px`}else if(Ee){const J=q+ne-ee+se-G;J>0&&(Ee+=J),K.right=`${Math.max(se,Ee)}px`}D.style=K,D.maxHeight=pe})}e.dispatchEvent("filter-visible",{column:S,field:S.field,property:S.field,filterList:e.getCheckedFilters(),visible:D.visible},x)},handleClearFilter(x){if(x){const{filters:S,filterRender:k}=x;if(S){const E=nr(k)?_O.get(k.name):null,D=x.filterResetMethod||(E?E.tableFilterResetMethod||E.filterResetMethod:null);S.forEach(P=>{P._checked=!1,P.checked=!1,D||(P.data=f.clone(P.resetValue,!0))}),D&&D({options:S,column:x,$table:e})}}},handleColumnConfirmFilter(x,S){const{mouseConfig:k}=t,{scrollXLoad:E,scrollYLoad:D}=r,P=i.value,V=d.value,{field:q}=x,F=[],O=[];x.filters.forEach($=>{$.checked&&(F.push($.value),O.push($.data))});const M=e.getCheckedFilters(),G={$table:e,$event:S,column:x,field:q,property:q,values:F,datas:O,filters:M,filterList:M};return P.remote||(e.handleTableData(!0),e.checkSelectionStatus()),k&&V.area&&e.handleFilterEvent&&e.handleFilterEvent(S,G),S&&e.dispatchEvent("filter-change",G,S),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:$,scrollYLoad:Y}=r;if(E||$||D||Y)return(E||$)&&e.updateScrollXSpace(),(D||Y)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(x){const{filterStore:S}=r,{column:k}=S;e.handleColumnConfirmFilter(k,x)},handleFilterChangeRadioOption:p,handleFilterChangeMultipleOption:o,handleFilterChangeOption(x,S,k){const{filterStore:E}=r;E.multiple?o(x,S,k):p(x,S,k)},handleFilterConfirmFilter:u,handleFilterResetFilter:c};return Object.assign(Object.assign({},{openFilter(x){const S=Zr(e,x);if(S&&S.filters){const{elemStore:k}=n,{fixed:E}=S;return e.scrollToColumn(S).then(()=>{const D=Xt(k[`${E||"main"}-header-wrapper`]||k["main-header-wrapper"]);if(D){const P=D.querySelector(`.vxe-header--column.${S.id} .vxe-filter--btn`);CN(P,"click")}})}return ye()},setFilter(x,S,k){const E=Zr(e,x);return E&&E.filters&&(E.filters=OF(S||[]),k)?e.handleColumnConfirmFilter(E,new Event("click")):ye()},clearFilter(x){const{filterStore:S}=r,{tableFullColumn:k}=n,E=i.value;let D;return x?(D=Zr(e,x),D&&m.handleClearFilter(D)):k.forEach(m.handleClearFilter),(!x||D!==S.column)&&Object.assign(S,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),E.remote?ye():e.updateData()},saveFilterPanel(){return u(null),ye()},resetFilterPanel(){return c(null),ye()},getCheckedFilters(){const{tableFullColumn:x}=n,S=[];return x.forEach(k=>{const{field:E,filters:D}=k,P=[],V=[];D&&D.length&&(D.forEach(q=>{q.checked&&(P.push(q.value),V.push(q.data))}),P.length&&S.push({column:k,field:E,property:E,values:P,datas:V}))}),S},updateFilterOptionStatus(x,S){return x._checked=S,x.checked=S,ye()}}),m)},setupGrid(e){return e.extendTableMethods(n_)}});const{menus:o_,hooks:a_,globalEvents:As,GLOBAL_EVENT_KEYS:Ps}=Se,l_=["closeMenu"];a_.add("tableMenuModule",{setupTable(e){const{xID:t,props:r,reactData:n,internalData:l}=e,{refElem:a,refTableFilter:i,refTableMenu:d}=e.getRefMaps(),{computeMouseOpts:u,computeIsMenu:p,computeMenuOpts:o}=e.getComputeMaps();let c={},m={};const v=(x,S,k)=>{const{ctxMenuStore:E}=n,D=p.value,P=o.value,V=P[S],q=P.visibleMethod;if(V){const{options:F,disabled:O}=V;O?x.preventDefault():D&&F&&F.length&&(k.options=F,e.preventEvent(x,"event.showMenu",k,()=>{if(!q||q(k)){x.preventDefault(),e.updateZindex();const{scrollTop:M,scrollLeft:G,visibleHeight:$,visibleWidth:Y}=kc();let H=x.clientY+M,j=x.clientX+G;const B=()=>{l._currMenuParams=k,Object.assign(E,{visible:!0,list:F,selected:null,selectChild:null,showChild:!1,style:{zIndex:l.tZindex,top:`${H}px`,left:`${j}px`}}),ye(()=>{const Ve=d.value.getRefMaps().refElem.value,Le=Ve.clientHeight,ee=Ve.clientWidth,{boundingTop:se,boundingLeft:ae}=Qs(Ve),le=se+Le-$,Ee=ae+ee-Y;le>-10&&(E.style.top=`${Math.max(M+2,H-Le-2)}px`),Ee>-10&&(E.style.left=`${Math.max(G+2,j-ee-2)}px`)})},{keyboard:xe,row:Z,column:L}=k;xe&&Z&&L?e.scrollToRow(Z,L).then(()=>{const ne=e.getCellElement(Z,L);if(ne){const{boundingTop:Ve,boundingLeft:Le}=Qs(ne);H=Ve+M+Math.floor(ne.offsetHeight/2),j=Le+G+Math.floor(ne.offsetWidth/2)}B()}):B()}else c.closeMenu()}))}e.closeFilter()};return c={closeMenu(){return Object.assign(n.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ye()}},m={moveCtxMenu(x,S,k,E,D,P){let V;const q=f.findIndexOf(P,F=>S[k]===F);if(E)D&&ti(S.selected)?S.showChild=!0:(S.showChild=!1,S.selectChild=null);else if(As.hasKey(x,Ps.ARROW_UP)){for(let F=q-1;F>=0;F--)if(P[F].visible!==!1){V=P[F];break}S[k]=V||P[P.length-1]}else if(As.hasKey(x,Ps.ARROW_DOWN)){for(let F=q+1;F<P.length;F++)if(P[F].visible!==!1){V=P[F];break}S[k]=V||P[0]}else S[k]&&(As.hasKey(x,Ps.ENTER)||As.hasKey(x,Ps.SPACEBAR))&&e.ctxMenuLinkEvent(x,S[k])},handleOpenMenuEvent:v,handleGlobalContextmenuEvent(x){const{mouseConfig:S,menuConfig:k}=r,{editStore:E,ctxMenuStore:D}=n,{visibleColumn:P}=l,V=i.value,q=d.value,F=u.value,O=o.value,M=a.value,{selected:G}=E,$=["header","body","footer"];if(nr(k)){if(D.visible&&q&&br(x,q.getRefMaps().refElem.value).flag){x.preventDefault();return}if(l._keyCtx){const Y="body",H={type:Y,$table:e,keyboard:!0,columns:P.slice(0),$event:x};if(S&&F.area){const j=e.getActiveCellArea();if(j&&j.row&&j.column){H.row=j.row,H.column=j.column,v(x,Y,H);return}}else if(S&&F.selected&&G.row&&G.column){H.row=G.row,H.column=G.column,v(x,Y,H);return}}for(let Y=0;Y<$.length;Y++){const H=$[Y],j=br(x,M,`vxe-${H}--column`,xe=>xe.parentNode.parentNode.parentNode.getAttribute("xid")===t),B={type:H,$table:e,columns:P.slice(0),$event:x};if(j.flag){const xe=j.targetElem,Z=e.getColumnNode(xe),L=Z?Z.item:null;let ne=`${H}-`;if(L&&Object.assign(B,{column:L,columnIndex:e.getColumnIndex(L),cell:xe}),H==="body"){const Le=e.getRowNode(xe.parentNode),ee=Le?Le.item:null;ne="",ee&&(B.row=ee,B.rowIndex=e.getRowIndex(ee))}const Ve=`${ne}cell-menu`;v(x,H,B),e.dispatchEvent(Ve,B,x);return}else if(br(x,M,`vxe-table--${H}-wrapper`,xe=>xe.getAttribute("xid")===t).flag){O.trigger==="cell"?x.preventDefault():v(x,H,B);return}}}V&&!br(x,V.$el).flag&&e.closeFilter(),c.closeMenu()},ctxMenuMouseoverEvent(x,S,k){const E=x.currentTarget,{ctxMenuStore:D}=n;x.preventDefault(),x.stopPropagation(),D.selected=S,D.selectChild=k,k||(D.showChild=ti(S),D.showChild&&ye(()=>{const P=E.nextElementSibling;if(P){const{boundingTop:V,boundingLeft:q,visibleHeight:F,visibleWidth:O}=Qs(E),M=V+E.offsetHeight,G=q+E.offsetWidth;let $="",Y="";G+P.offsetWidth>O-10&&($="auto",Y=`${E.offsetWidth}px`);let H="",j="";M+P.offsetHeight>F-10&&(H="auto",j="0"),P.style.left=$,P.style.right=Y,P.style.top=H,P.style.bottom=j}}))},ctxMenuMouseoutEvent(x,S){const{ctxMenuStore:k}=n;S.children||(k.selected=null),k.selectChild=null},ctxMenuLinkEvent(x,S){const k=e.xeGrid;if(!S.disabled&&(S.code||!S.children||!S.children.length)){const E=o_.get(S.code),D=Object.assign({},l._currMenuParams,{menu:S,$table:e,$grid:k,$event:x}),P=E?E.tableMenuMethod||E.menuMethod:null;P&&P(D,x),e.dispatchEvent("menu-click",D,x),c.closeMenu()}}},Object.assign(Object.assign({},c),m)},setupGrid(e){return e.extendTableMethods(l_)}});const{getConfig:i_,renderer:s_,hooks:c_,getI18n:qO}=Se,u_=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];c_.add("tableEditModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refElem:l}=e.getRefMaps(),{computeMouseOpts:a,computeEditOpts:i,computeCheckboxOpts:d,computeTreeOpts:u,computeValidOpts:p}=e.getComputeMaps(),o=f.browse();let c={},m={};const v=(O,M)=>{const{model:G,editRender:$}=M;$&&(G.value=on(O,M),G.update=!1)},x=(O,M)=>{const{model:G,editRender:$}=M;$&&G.update&&(fa(O,M,G.value),G.update=!1,G.value=null)},S=()=>{const O=l.value;if(O){const M=O.querySelector(".col--selected");M&&Zn(M,"col--selected")}},k=()=>{const{editStore:O,tableColumn:M}=r,G=i.value,{actived:$}=O,{row:Y,column:H}=$;(Y||H)&&(G.mode==="row"?M.forEach(j=>x(Y,j)):x(Y,H))},E=(O,M)=>{const{tableFullTreeData:G,afterFullData:$,fullDataRowIdData:Y,fullAllDataRowIdData:H}=n,j=u.value,{rowField:B,parentField:xe,mapChildrenField:Z}=j,L=j.children||j.childrenField,ne=M?"push":"unshift";O.forEach(Ve=>{const Le=Ve[xe],ee=Ft(e,Ve),se=Le?f.findTree(G,ae=>Le===ae[B],{children:Z}):null;if(se){const{item:ae}=se,le=H[Ft(e,ae)],Ee=le?le.level:0;let Oe=ae[L],Be=ae[Z];f.isArray(Oe)||(Oe=ae[L]=[]),f.isArray(Be)||(Be=ae[L]=[]),Oe[ne](Ve),Be[ne](Ve);const K={row:Ve,rowid:ee,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:Oe,parent:ae,level:Ee+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};Y[ee]=K,H[ee]=K}else{$[ne](Ve),G[ne](Ve);const ae={row:Ve,rowid:ee,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:G,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Y[ee]=ae,H[ee]=ae}})},D=(O,M,G)=>{const{treeConfig:$}=t,{mergeList:Y}=r,{tableFullTreeData:H,afterFullData:j,tableFullData:B,fullDataRowIdData:xe,fullAllDataRowIdData:Z,insertRowMaps:L}=n,ne=u.value,{transform:Ve,rowField:Le,mapChildrenField:ee}=ne,se=ne.children||ne.childrenField;f.isArray(O)||(O=[O]);const ae=zr(e.defineField(O.map(le=>Object.assign($&&Ve?{[ee]:[],[se]:[]}:{},le))));if(f.eqNull(M))$&&Ve?E(ae,!1):(ae.forEach(le=>{const Ee=Ft(e,le),Oe={row:le,rowid:Ee,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:j,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};xe[Ee]=Oe,Z[Ee]=Oe,j.unshift(le),B.unshift(le)}),Y.forEach(le=>{const{row:Ee}=le;Ee>0&&(le.row=Ee+ae.length)}));else if(M===-1)$&&Ve?E(ae,!0):(ae.forEach(le=>{const Ee=Ft(e,le),Oe={row:le,rowid:Ee,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:j,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};xe[Ee]=Oe,Z[Ee]=Oe,j.push(le),B.push(le)}),Y.forEach(le=>{const{row:Ee,rowspan:Oe}=le;Ee+Oe>j.length&&(le.rowspan=Oe+ae.length)}));else if($&&Ve){const le=f.findTree(H,Ee=>M[Le]===Ee[Le],{children:ee});if(le){const{parent:Ee}=le,Oe=Ee?Ee[ee]:H,Be=Z[Ft(e,Ee)],K=Be?Be.level:0;if(ae.forEach((pe,J)=>{const ie=Ft(e,pe);Ee&&(pe[ne.parentField]=Ee[Le]);let Ae=le.index+J;G&&(Ae=Ae+1),Oe.splice(Ae,0,pe);const _e={row:pe,rowid:ie,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:Oe,parent:Ee,level:K+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};xe[ie]=_e,Z[ie]=_e}),Ee){const pe=f.findTree(H,J=>M[Le]===J[Le],{children:se});if(pe){const J=pe.items;let ie=pe.index;G&&(ie=ie+1),J.splice(ie,0,...ae)}}}else E(ae,!0)}else{if($)throw new Error(qO("vxe.error.noTree",["insert"]));let le=-1;if(f.isNumber(M)?M<j.length&&(le=M):le=e.findRowIndexOf(j,M),G&&(le=Math.min(j.length,le+1)),le===-1)throw new Error(qO("vxe.error.unableInsert"));j.splice(le,0,...ae);const Ee=e.findRowIndexOf(B,M);Ee>-1?B.splice(Ee+(G?1:0),0,...ae):B.push(...ae),Y.forEach(Oe=>{const{row:Be,rowspan:K}=Oe;Be>le?Oe.row=Be+ae.length:Be+K>le&&(Oe.rowspan=K+ae.length)})}return ae.forEach(le=>{const Ee=Ft(e,le);L[Ee]=le}),r.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData($&&Ve),$&&Ve||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),r.scrollYLoad&&e.updateScrollYSpace(),ye().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:ae.length?ae[ae.length-1]:null,rows:ae}))},P=(O,M,G,$)=>{const{treeConfig:Y}=t,H=u.value,{transform:j,rowField:B,parentField:xe}=H;return Y&&j?(f.isArray(O)||(O=[O]),D(O.map(Z=>Object.assign({},Z,{[xe]:M[B]})),G,$)):(Bt("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},V=(O,M)=>{const{editStore:G}=r,{actived:$,focused:Y}=G,{row:H,column:j}=$,B=p.value;if(H||j){if(M&&Ft(e,M)!==Ft(e,H))return ye();k(),$.args=null,$.row=null,$.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:H,rowIndex:e.getRowIndex(H),$rowIndex:e.getVMRowIndex(H),column:j,columnIndex:e.getColumnIndex(j),$columnIndex:e.getVMColumnIndex(j)},O||null)}return Y.row=null,Y.column=null,B.autoClear&&(B.msgMode!=="full"||i_().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():ye().then(()=>e.updateCellAreas())},q=(O,M,G,$)=>{const Y=e.xeGrid,{editConfig:H,mouseConfig:j}=t,{editStore:B,tableColumn:xe}=r,Z=i.value,{mode:L}=Z,{actived:ne,focused:Ve}=B,{row:Le,column:ee}=O,{editRender:se}=ee,ae=O.cell||e.getCellElement(Le,ee),le=Z.beforeEditMethod||Z.activeMethod;if(O.cell=ae,ae&&nr(H)&&nr(se)&&!e.isPendingByRow(Le)){if(ne.row!==Le||L==="cell"&&ne.column!==ee){let Ee="edit-disabled";if(!le||le(Object.assign(Object.assign({},O),{$table:e,$grid:Y}))){j&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),ne.column&&V(M),Ee="edit-activated",ee.renderHeight=ae.offsetHeight,ne.args=O,ne.row=Le,ne.column=ee,L==="row"?xe.forEach(Be=>v(Le,Be)):v(Le,ee);const Oe=Z.afterEditMethod;ye(()=>{G&&e.handleFocus(O,M),Oe&&Oe(Object.assign(Object.assign({},O),{$table:e,$grid:Y}))})}e.dispatchEvent(Ee,{row:Le,rowIndex:e.getRowIndex(Le),$rowIndex:e.getVMRowIndex(Le),column:ee,columnIndex:e.getColumnIndex(ee),$columnIndex:e.getVMColumnIndex(ee)},M),Ee==="edit-activated"&&e.dispatchEvent("edit-actived",{row:Le,rowIndex:e.getRowIndex(Le),$rowIndex:e.getVMRowIndex(Le),column:ee,columnIndex:e.getColumnIndex(ee),$columnIndex:e.getVMColumnIndex(ee)},M)}else{const{column:Ee}=ne;if(j&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),Ee!==ee){const{model:Oe}=Ee;Oe.update&&fa(Le,Ee,Oe.value),e.clearValidate&&e.clearValidate(Le,ee)}ee.renderHeight=ae.offsetHeight,ne.args=O,ne.column=ee,$&&setTimeout(()=>{e.handleFocus(O,M)})}Ve.column=null,Ve.row=null,e.focus()}return ye()},F=(O,M,G)=>{const{editConfig:$}=t,Y=f.isString(M)?e.getColumnByField(M):M;return O&&Y&&nr($)&&nr(Y.editRender)?Promise.resolve(G?e.scrollToRow(O,Y):null).then(()=>{const H=e.getCellElement(O,Y);return H&&(q({row:O,rowIndex:e.getRowIndex(O),column:Y,columnIndex:e.getColumnIndex(Y),cell:H,$table:e},null,G,G),n._lastCallTime=Date.now()),ye()}):ye()};return c={insert(O){return D(O,null)},insertAt(O,M){return D(O,M)},insertNextAt(O,M){return D(O,M,!0)},insertChild(O,M){return P(O,M,null)},insertChildAt(O,M,G){return P(O,M,G)},insertChildNextAt(O,M,G){return P(O,M,G,!0)},remove(O){const{treeConfig:M}=t,{mergeList:G,editStore:$}=r,{tableFullTreeData:Y,selectCheckboxMaps:H,afterFullData:j,tableFullData:B,pendingRowMaps:xe,insertRowMaps:Z,removeRowMaps:L}=n,ne=d.value,Ve=u.value,{transform:Le,mapChildrenField:ee}=Ve,se=Ve.children||Ve.childrenField,{actived:ae}=$,{checkField:le}=ne;let Ee=[];return O?f.isArray(O)||(O=[O]):O=B,O.forEach(Oe=>{if(!e.isInsertByRow(Oe)){const Be=Ft(e,Oe);L[Be]=Oe}}),le||(O.forEach(Oe=>{const Be=Ft(e,Oe);H[Be]&&delete H[Be]}),r.updateCheckboxFlag++),B===O?(O=Ee=B.slice(0),n.tableFullData=[],n.afterFullData=[],e.clearMergeCells()):M&&Le?O.forEach(Oe=>{const Be=Ft(e,Oe),K=f.findTree(Y,ie=>Be===Ft(e,ie),{children:ee});if(K){const ie=K.items.splice(K.index,1);Ee.push(ie[0])}const pe=f.findTree(Y,ie=>Be===Ft(e,ie),{children:se});pe&&pe.items.splice(pe.index,1);const J=e.findRowIndexOf(j,Oe);J>-1&&j.splice(J,1)}):O.forEach(Oe=>{const Be=e.findRowIndexOf(B,Oe);if(Be>-1){const pe=B.splice(Be,1);Ee.push(pe[0])}const K=e.findRowIndexOf(j,Oe);K>-1&&(G.forEach(pe=>{const{row:J,rowspan:ie}=pe;J>K?pe.row=J-1:J+ie>K&&(pe.rowspan=ie-1)}),j.splice(K,1))}),ae.row&&e.findRowIndexOf(O,ae.row)>-1&&c.clearEdit(),O.forEach(Oe=>{const Be=Ft(e,Oe);Z[Be]&&delete Z[Be],xe[Be]&&delete xe[Be]}),r.removeRowFlag++,r.insertRowFlag++,r.pendingRowFlag++,e.updateFooter(),e.cacheRowMap(!1),e.handleTableData(M&&Le),M&&Le||e.updateAfterDataIndex(),e.checkSelectionStatus(),r.scrollYLoad&&e.updateScrollYSpace(),ye().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:Ee.length?Ee[Ee.length-1]:null,rows:Ee}))},removeCheckboxRow(){return c.remove(e.getCheckboxRecords()).then(O=>(e.clearCheckboxRow(),O))},removeRadioRow(){const O=e.getRadioRecord();return c.remove(O||[]).then(M=>(e.clearRadioRow(),M))},removeCurrentRow(){const O=e.getCurrentRecord();return c.remove(O||[]).then(M=>(e.clearCurrentRow(),M))},getRecordset(){const O=c.getRemoveRecords(),M=e.getPendingRecords(),G=O.concat(M),$=c.getUpdateRecords().filter(Y=>!G.some(H=>e.eqRow(H,Y)));return{insertRecords:c.getInsertRecords(),removeRecords:O,updateRecords:$,pendingRecords:M}},getInsertRecords(){const{fullAllDataRowIdData:O,insertRowMaps:M}=n,G=[];return f.each(M,($,Y)=>{O[Y]&&G.push($)}),G},getRemoveRecords(){const{removeRowMaps:O}=n,M=[];return f.each(O,G=>{M.push(G)}),M},getUpdateRecords(){const{keepSource:O,treeConfig:M}=t,{tableFullData:G}=n,$=u.value;return O?(k(),M?f.filterTree(G,Y=>e.isUpdateByRow(Y),$):G.filter(Y=>e.isUpdateByRow(Y))):[]},getActiveRecord(){return e.getEditRecord()},getEditRecord(){const{editStore:O}=r,{afterFullData:M}=n,G=l.value,{args:$,row:Y}=O.actived;return $&&e.findRowIndexOf(M,Y)>-1&&G.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},$):null},getSelectedCell(){const{editStore:O}=r,{args:M,column:G}=O.selected;return M&&G?Object.assign({},M):null},clearActived(O){return e.clearEdit(O)},clearEdit(O){return V(null,O)},clearSelected(){const{editStore:O}=r,{selected:M}=O;return M.row=null,M.column=null,S(),ye()},isActiveByRow(O){return e.isEditByRow(O)},isEditByRow(O){const{editStore:M}=r;return M.actived.row===O},setActiveRow(O){return c.setEditRow(O)},setEditRow(O,M){const{visibleColumn:G}=n;let $=f.find(G,H=>nr(H.editRender)),Y=!1;return M&&(Y=!0,M!==!0&&($=f.isString(M)?e.getColumnByField(M):M)),F(O,$,Y)},setActiveCell(O,M){return c.setEditCell(O,M)},setEditCell(O,M){return F(O,M,!0)},setSelectCell(O,M){const{tableData:G}=r,$=i.value,Y=f.isString(M)?e.getColumnByField(M):M;if(O&&Y&&$.trigger!=="manual"){const H=e.findRowIndexOf(G,O);if(H>-1&&Y){const j=e.getCellElement(O,Y),B={row:O,rowIndex:H,column:Y,columnIndex:e.getColumnIndex(Y),cell:j};e.handleSelected(B,{})}}return ye()}},m={handleEdit(O,M){return q(O,M,!0,!0)},handleActived(O,M){return m.handleEdit(O,M)},handleClearEdit:V,handleFocus(O){const{row:M,column:G,cell:$}=O,{editRender:Y}=G,H=i.value;if(nr(Y)){const j=s_.get(Y.name);let B=Y.autofocus||Y.autoFocus,xe=Y.autoSelect||Y.autoselect,Z;if(H.autoFocus&&(!B&&j&&(B=j.tableAutoFocus||j.tableAutofocus||j.autofocus),!xe&&j&&(xe=j.tableAutoSelect||j.autoselect),f.isFunction(B)?Z=B(O):B&&(B===!0?Z=$.querySelector("input,textarea"):Z=$.querySelector(B),Z&&Z.focus())),Z){if(xe)Z.select();else if(o.msie){const L=Z.createTextRange();L.collapse(!1),L.select()}}else H.autoPos&&(G.fixed||e.scrollToRow(M,G))}},handleSelected(O,M){const{mouseConfig:G}=t,{editStore:$}=r,Y=a.value,H=i.value,{actived:j,selected:B}=$,{row:xe,column:Z}=O,L=G&&Y.selected;return L&&(B.row!==xe||B.column!==Z)&&(j.row!==xe||H.mode==="cell"&&j.column!==Z)&&(V(M),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),B.args=O,B.row=xe,B.column=Z,L&&m.addCellSelectedClass(),e.focus(),M&&e.dispatchEvent("cell-selected",O,M)),ye()},addCellSelectedClass(){const{editStore:O}=r,{selected:M}=O,{row:G,column:$}=M;if(S(),G&&$){const Y=e.getCellElement(G,$);Y&&Go(Y,"col--selected")}}},Object.assign(Object.assign({},c),m)},setupGrid(e){return e.extendTableMethods(u_)}});const d_='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",,"MicrosoftJhengHei",,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function f_(e,t){return new Blob([e],{type:`text/${t.type};charset=utf-8;`})}function p_(e,t){const{style:r}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${d_}</style>`,r?`<style>${r}</style>`:"","</head>",`<body>${t}</body>`,"</html>"].join("")}const{getI18n:ca,hooks:h_,renderer:bb}=Se;let Gl;const g_="\uFEFF",yl=`\r
`;function Ls(e){return e.field||["seq","checkbox","radio"].indexOf(e.type)>-1}const _F=e=>{const t=[];return e.forEach(r=>{r.childNodes&&r.childNodes.length?(t.push(r),t.push(..._F(r.childNodes))):t.push(r)}),t},v_=e=>{let t=1;const r=(a,i)=>{if(i&&(a._level=i._level+1,t<a._level&&(t=a._level)),a.childNodes&&a.childNodes.length){let d=0;a.childNodes.forEach(u=>{r(u,a),d+=u._colSpan}),a._colSpan=d}else a._colSpan=1};e.forEach(a=>{a._level=1,r(a)});const n=[];for(let a=0;a<t;a++)n.push([]);return _F(e).forEach(a=>{a.childNodes&&a.childNodes.length?a._rowSpan=1:a._rowSpan=t-a._level+1,n[a._level-1].push(a)}),n};function m_(e){return e===!0?"full":e||"default"}function Ul(e){return e==="TRUE"||e==="true"||e===!0}function Ns(e,t){const{footerFilterMethod:r}=e;return r?t.filter((n,l)=>r({items:n,$rowIndex:l})):t}function b_(e,t){if(t){if(e.type==="seq")return`	${t}`;switch(e.cellType){case"string":if(!isNaN(t))return`	${t}`;break;case"number":break;default:if(t.length>=12&&!isNaN(t))return`	${t}`;break}}return t}function jl(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function Co(e,t){return e.getElementsByTagName(t)}function HO(e){return`#${e}@${f.uniqueId()}`}function qF(e,t){return e.replace(/#\d+@\d+/g,r=>f.hasOwnProp(t,r)?t[r]:r)}function VO(e,t){return qF(e,t).replace(/^"+$/g,n=>'"'.repeat(Math.ceil(n.length/2)))}function wx(e,t){const{fieldMaps:r,titleMaps:n}=e;if(!r[t]){const l=n[t];l&&l.field&&(t=l.field)}return t}function HF(e,t,r){const n=t.split(yl),l=[];let a=[];if(n.length){const i={},d=Date.now();n.forEach(u=>{if(u){const p={};u=u.replace(/("")|(\n)/g,(c,m)=>{const v=HO(d);return i[v]=m?'"':`
`,v}).replace(/"(.*?)"/g,(c,m)=>{const v=HO(d);return i[v]=qF(m,i),v});const o=u.split(r);a.length?(o.forEach((c,m)=>{m<a.length&&(p[a[m]]=VO(c.trim(),i))}),l.push(p)):a=o.map(c=>wx(e,VO(c.trim(),i)))}})}return{fields:a,rows:l}}function x_(e,t){return HF(e,t,",")}function C_(e,t){return HF(e,t,"	")}function y_(e,t){const n=new DOMParser().parseFromString(t,"text/html"),l=Co(n,"body"),a=[],i=[];if(l.length){const d=Co(l[0],"table");if(d.length){const u=Co(d[0],"thead");if(u.length){f.arrayEach(Co(u[0],"tr"),o=>{f.arrayEach(Co(o,"th"),c=>{i.push(wx(e,c.textContent||""))})});const p=Co(d[0],"tbody");p.length&&f.arrayEach(Co(p[0],"tr"),o=>{const c={};f.arrayEach(Co(o,"td"),(m,v)=>{i[v]&&(c[i[v]]=m.textContent||"")}),a.push(c)})}}}return{fields:i,rows:a}}function w_(e,t){const n=new DOMParser().parseFromString(t,"application/xml"),l=Co(n,"Worksheet"),a=[],i=[];if(l.length){const d=Co(l[0],"Table");if(d.length){const u=Co(d[0],"Row");u.length&&(f.arrayEach(Co(u[0],"Cell"),p=>{i.push(wx(e,p.textContent||""))}),f.arrayEach(u,(p,o)=>{if(o){const c={},m=Co(p,"Cell");f.arrayEach(m,(v,x)=>{i[x]&&(c[i[x]]=v.textContent)}),a.push(c)}}))}}return{fields:i,rows:a}}function zO(e){f.eachTree(e,t=>{delete t._level,delete t._colSpan,delete t._rowSpan,delete t._children,delete t.childNodes},{children:"children"})}const S_=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];h_.add("tableExportModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{computeTreeOpts:l,computePrintOpts:a,computeExportOpts:i,computeImportOpts:d,computeCustomOpts:u,computeSeqOpts:p,computeRadioOpts:o,computeCheckboxOpts:c,computeColumnOpts:m}=e.getComputeMaps(),v=or("$xeGrid",null),x=ee=>{const se=l.value,ae=se.children||se.childrenField;return ee[ae]&&ee[ae].length},S=(ee,se,ae,le,Ee)=>{const Be=p.value.seqMethod||le.seqMethod;return Be?Be({row:se,rowIndex:e.getRowIndex(se),$rowIndex:ae,column:le,columnIndex:e.getColumnIndex(le),$columnIndex:Ee}):ee};function k(ee,se){const ae=m.value,le=se.headerExportMethod||ae.headerExportMethod;return le?le({column:se,options:ee,$table:e}):(ee.isTitle?se.getTitle():se.field)||""}const E=ee=>f.isBoolean(ee)?ee?"TRUE":"FALSE":ee,D=ee=>ga(ee)?"":`${ee}`,P=(ee,se,ae)=>{const{isAllExpand:le,mode:Ee}=ee,{treeConfig:Oe}=t,Be=o.value,K=c.value,pe=l.value,J=m.value;if(Gl||(Gl=document.createElement("div")),Oe){const ie=pe.children||pe.childrenField,Ae=[],_e=new Map;return f.eachTree(ae,(_,Fe,Pe,et,Ge,ut)=>{const gt=_._row||_,_t=Ge&&Ge._row?Ge._row:Ge;if(le||!_t||_e.has(_t)&&e.isTreeExpandByRow(_t)){const qt=x(gt),Ht={_row:gt,_level:ut.length-1,_hasChild:qt,_expand:qt&&e.isTreeExpandByRow(gt)};se.forEach((Tt,Dt)=>{let Lt="";const wt=Tt.editRender||Tt.cellRender;let ct=Tt.exportMethod||J.exportMethod;if(!ct&&wt&&wt.name){const bt=bb.get(wt.name);bt&&(ct=bt.tableExportMethod||bt.exportMethod)}if(ct||(ct=J.exportMethod),ct)Lt=ct({$table:e,row:gt,column:Tt,options:ee});else switch(Tt.type){case"seq":{const bt=et.map((St,Ye)=>Ye%2===0?Number(St)+1:".").join("");Lt=Ee==="all"?bt:S(bt,gt,Fe,Tt,Dt);break}case"checkbox":Lt=E(e.isCheckedByCheckboxRow(gt)),Ht._checkboxLabel=K.labelField?f.get(gt,K.labelField):"",Ht._checkboxDisabled=K.checkMethod&&!K.checkMethod({row:gt});break;case"radio":Lt=E(e.isCheckedByRadioRow(gt)),Ht._radioLabel=Be.labelField?f.get(gt,Be.labelField):"",Ht._radioDisabled=Be.checkMethod&&!Be.checkMethod({row:gt});break;default:if(ee.original)Lt=on(gt,Tt);else if(Lt=e.getCellLabel(gt,Tt),Tt.type==="html")Gl.innerHTML=Lt,Lt=Gl.innerText.trim();else{const bt=e.getCellElement(gt,Tt);bt&&!va(bt,"is--progress")&&(Lt=bt.innerText.trim())}}Ht[Tt.id]=D(Lt)}),_e.set(gt,1),Ae.push(Object.assign(Ht,gt))}},{children:ie}),Ae}return ae.map((ie,Ae)=>{const _e={_row:ie};return se.forEach((_,Fe)=>{let Pe="";const et=_.editRender||_.cellRender;let Ge=_.exportMethod||J.exportMethod;if(!Ge&&et&&et.name){const ut=bb.get(et.name);ut&&(Ge=ut.tableExportMethod||ut.exportMethod)}if(Ge)Pe=Ge({$table:e,row:ie,column:_,options:ee});else switch(_.type){case"seq":{const ut=Ae+1;Pe=Ee==="all"?ut:S(ut,ie,Ae,_,Fe);break}case"checkbox":Pe=E(e.isCheckedByCheckboxRow(ie)),_e._checkboxLabel=K.labelField?f.get(ie,K.labelField):"",_e._checkboxDisabled=K.checkMethod&&!K.checkMethod({row:ie});break;case"radio":Pe=E(e.isCheckedByRadioRow(ie)),_e._radioLabel=Be.labelField?f.get(ie,Be.labelField):"",_e._radioDisabled=Be.checkMethod&&!Be.checkMethod({row:ie});break;default:if(ee.original)Pe=on(ie,_);else if(Pe=e.getCellLabel(ie,_),_.type==="html")Gl.innerHTML=Pe,Pe=Gl.innerText.trim();else{const ut=e.getCellElement(ie,_);ut&&!va(ut,"is--progress")&&(Pe=ut.innerText.trim())}}_e[_.id]=D(Pe)}),_e})},V=ee=>{const{columns:se,dataFilterMethod:ae}=ee;let le=ee.data;return ae&&(le=le.filter((Ee,Oe)=>ae({row:Ee,$rowIndex:Oe}))),P(ee,se,le)},q=(ee,se,ae)=>{const le=m.value,Ee=ae.editRender||ae.cellRender;let Oe=ae.footerExportMethod;if(!Oe&&Ee&&Ee.name){const K=bb.get(Ee.name);K&&(Oe=K.tableFooterExportMethod||K.footerExportMethod)}Oe||(Oe=le.footerExportMethod);const Be=e.getVTColumnIndex(ae);return Oe?Oe({$table:e,items:se,itemIndex:Be,row:se,_columnIndex:Be,column:ae,options:ee}):f.isArray(se)?f.toValueString(se[Be]):f.get(se,ae.field)},F=(ee,se,ae)=>{let le=g_;if(ee.isHeader&&(le+=se.map(Ee=>jl(k(ee,Ee))).join(",")+yl),ae.forEach(Ee=>{le+=se.map(Oe=>jl(b_(Oe,Ee[Oe.id]))).join(",")+yl}),ee.isFooter){const{footerTableData:Ee}=r;Ns(ee,Ee).forEach(Be=>{le+=se.map(K=>jl(q(ee,Be,K))).join(",")+yl})}return le},O=(ee,se,ae)=>{let le="";if(ee.isHeader&&(le+=se.map(Ee=>jl(k(ee,Ee))).join("	")+yl),ae.forEach(Ee=>{le+=se.map(Oe=>jl(Ee[Oe.id])).join("	")+yl}),ee.isFooter){const{footerTableData:Ee}=r;Ns(ee,Ee).forEach(Be=>{le+=se.map(K=>jl(q(ee,Be,K))).join("	")+yl})}return le},M=(ee,se,ae)=>{const le=ee[se],Ee=f.isUndefined(le)||f.isNull(le)?ae:le;let pe=Ee==="title"||(Ee===!0||Ee==="tooltip")||Ee==="ellipsis";const{scrollXLoad:J,scrollYLoad:ie}=r;return(J||ie)&&!pe&&(pe=!0),pe},G=(ee,se,ae)=>{const{id:le,border:Ee,treeConfig:Oe,headerAlign:Be,align:K,footerAlign:pe,showOverflow:J,showHeaderOverflow:ie}=t,{isAllSelected:Ae,isIndeterminate:_e,mergeList:_}=r,Fe=l.value,{print:Pe,isHeader:et,isFooter:Ge,isColgroup:ut,isMerge:gt,colgroups:_t,original:qt}=ee,Ht="check-all",Dt=[`<table class="${["vxe-table",`border--${m_(Ee)}`,Pe?"is--print":"",et?"is--header":""].filter(wt=>wt).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${se.map(wt=>`<col style="width:${wt.renderWidth}px">`).join("")}</colgroup>`];if(et&&(Dt.push("<thead>"),ut&&!qt?_t.forEach(wt=>{Dt.push(`<tr>${wt.map(ct=>{const bt=ct.headerAlign||ct.align||Be||K,St=M(ct,"showHeaderOverflow",ie)?["col--ellipsis"]:[],Ye=k(ee,ct);let X=0,W=0;f.eachTree([ct],be=>{(!be.childNodes||!ct.childNodes.length)&&W++,X+=be.renderWidth},{children:"childNodes"});const ge=X-W;return bt&&St.push(`col--${bt}`),ct.type==="checkbox"?`<th class="${St.join(" ")}" colspan="${ct._colSpan}" rowspan="${ct._rowSpan}"><div ${Pe?"":`style="width: ${ge}px"`}><input type="checkbox" class="${Ht}" ${Ae?"checked":""}><span>${Ye}</span></div></th>`:`<th class="${St.join(" ")}" colspan="${ct._colSpan}" rowspan="${ct._rowSpan}" title="${Ye}"><div ${Pe?"":`style="width: ${ge}px"`}><span>${nn(Ye,!0)}</span></div></th>`}).join("")}</tr>`)}):Dt.push(`<tr>${se.map(wt=>{const ct=wt.headerAlign||wt.align||Be||K,bt=M(wt,"showHeaderOverflow",ie)?["col--ellipsis"]:[],St=k(ee,wt);return ct&&bt.push(`col--${ct}`),wt.type==="checkbox"?`<th class="${bt.join(" ")}"><div ${Pe?"":`style="width: ${wt.renderWidth}px"`}><input type="checkbox" class="${Ht}" ${Ae?"checked":""}><span>${St}</span></div></th>`:`<th class="${bt.join(" ")}" title="${St}"><div ${Pe?"":`style="width: ${wt.renderWidth}px"`}><span>${nn(St,!0)}</span></div></th>`}).join("")}</tr>`),Dt.push("</thead>")),ae.length&&(Dt.push("<tbody>"),Oe?ae.forEach(wt=>{Dt.push("<tr>"+se.map(ct=>{const bt=ct.align||K,St=M(ct,"showOverflow",J)?["col--ellipsis"]:[],Ye=wt[ct.id];if(bt&&St.push(`col--${bt}`),ct.treeNode){let X="";return wt._hasChild&&(X=`<i class="${wt._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),St.push("vxe-table--tree-node"),ct.type==="radio"?`<td class="${St.join(" ")}" title="${Ye}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${wt._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${X}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${le}" ${wt._radioDisabled?"disabled ":""}${Ul(Ye)?"checked":""}><span>${wt._radioLabel}</span></div></div></div></td>`:ct.type==="checkbox"?`<td class="${St.join(" ")}" title="${Ye}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${wt._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${X}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${wt._checkboxDisabled?"disabled ":""}${Ul(Ye)?"checked":""}><span>${wt._checkboxLabel}</span></div></div></div></td>`:`<td class="${St.join(" ")}" title="${Ye}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${wt._level*Fe.indent}px"><div class="vxe-table--tree-icon-wrapper">${X}</div><div class="vxe-table--tree-cell">${Ye}</div></div></div></td>`}return ct.type==="radio"?`<td class="${St.join(" ")}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}><input type="radio" name="radio_${le}" ${wt._radioDisabled?"disabled ":""}${Ul(Ye)?"checked":""}><span>${wt._radioLabel}</span></div></td>`:ct.type==="checkbox"?`<td class="${St.join(" ")}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}><input type="checkbox" ${wt._checkboxDisabled?"disabled ":""}${Ul(Ye)?"checked":""}><span>${wt._checkboxLabel}</span></div></td>`:`<td class="${St.join(" ")}" title="${Ye}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}>${nn(Ye,!0)}</div></td>`}).join("")+"</tr>")}):ae.forEach(wt=>{Dt.push("<tr>"+se.map(ct=>{const bt=ct.align||K,St=M(ct,"showOverflow",J)?["col--ellipsis"]:[],Ye=wt[ct.id];let X=1,W=1;if(gt&&_.length){const ge=e.getVTRowIndex(wt._row),be=e.getVTColumnIndex(ct),U=AF(_,ge,be);if(U){const{rowspan:te,colspan:re}=U;if(!te||!re)return"";te>1&&(X=te),re>1&&(W=re)}}return bt&&St.push(`col--${bt}`),ct.type==="radio"?`<td class="${St.join(" ")}" rowspan="${X}" colspan="${W}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}><input type="radio" name="radio_${le}" ${wt._radioDisabled?"disabled ":""}${Ul(Ye)?"checked":""}><span>${wt._radioLabel}</span></div></td>`:ct.type==="checkbox"?`<td class="${St.join(" ")}" rowspan="${X}" colspan="${W}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}><input type="checkbox" ${wt._checkboxDisabled?"disabled ":""}${Ul(Ye)?"checked":""}><span>${wt._checkboxLabel}</span></div></td>`:`<td class="${St.join(" ")}" rowspan="${X}" colspan="${W}" title="${Ye}"><div ${Pe?"":`style="width: ${ct.renderWidth}px"`}>${nn(Ye,!0)}</div></td>`}).join("")+"</tr>")}),Dt.push("</tbody>")),Ge){const{footerTableData:wt}=r,ct=Ns(ee,wt);ct.length&&(Dt.push("<tfoot>"),ct.forEach(bt=>{Dt.push(`<tr>${se.map(St=>{const Ye=St.footerAlign||St.align||pe||K,X=M(St,"showOverflow",J)?["col--ellipsis"]:[],W=q(ee,bt,St);return Ye&&X.push(`col--${Ye}`),`<td class="${X.join(" ")}" title="${W}"><div ${Pe?"":`style="width: ${St.renderWidth}px"`}>${nn(W,!0)}</div></td>`}).join("")}</tr>`)}),Dt.push("</tfoot>"))}const Lt=!Ae&&_e?`<script>(function(){var a=document.querySelector(".${Ht}");if(a){a.indeterminate=true}})()<\/script>`:"";return Dt.push("</table>",Lt),Pe?Dt.join(""):p_(ee,Dt.join(""))},$=(ee,se,ae)=>{let le=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${ee.sheetName}">`,"<Table>",se.map(Ee=>`<Column ss:Width="${Ee.renderWidth}"/>`).join("")].join("");if(ee.isHeader&&(le+=`<Row>${se.map(Ee=>`<Cell><Data ss:Type="String">${k(ee,Ee)}</Data></Cell>`).join("")}</Row>`),ae.forEach(Ee=>{le+="<Row>"+se.map(Oe=>`<Cell><Data ss:Type="String">${Ee[Oe.id]}</Data></Cell>`).join("")+"</Row>"}),ee.isFooter){const{footerTableData:Ee}=r;Ns(ee,Ee).forEach(Be=>{le+=`<Row>${se.map(K=>`<Cell><Data ss:Type="String">${q(ee,Be,K)}</Data></Cell>`).join("")}</Row>`})}return`${le}</Table></Worksheet></Workbook>`},Y=(ee,se,ae)=>{if(se.length)switch(ee.type){case"csv":return F(ee,se,ae);case"txt":return O(ee,se,ae);case"html":return G(ee,se,ae);case"xml":return $(ee,se,ae)}return""},H=(ee,se)=>{const{filename:ae,type:le,download:Ee}=ee;if(!Ee){const Oe=f_(se,ee);return Promise.resolve({type:le,content:se,blob:Oe})}Se.saveFile&&Se.saveFile({filename:ae,type:le,content:se}).then(()=>{ee.message!==!1&&Se.modal&&Se.modal.message({content:ca("vxe.table.expSuccess"),status:"success"})})},j=ee=>{const{remote:se,columns:ae,colgroups:le,exportMethod:Ee,afterExportMethod:Oe}=ee;return new Promise(Be=>{if(se){const K={options:ee,$table:e,$grid:v};Be(Ee?Ee(K):K)}else{const K=V(ee);Be(e.preventEvent(null,"event.export",{options:ee,columns:ae,colgroups:le,datas:K},()=>H(ee,Y(ee,ae,K))))}}).then(Be=>(zO(ae),ee.print||Oe&&Oe({status:!0,options:ee,$table:e,$grid:v}),Object.assign({status:!0},Be))).catch(()=>{zO(ae),ee.print||Oe&&Oe({status:!1,options:ee,$table:e,$grid:v});const Be={status:!1};return Promise.reject(Be)})},B=(ee,se)=>{const{tableFullColumn:ae,_importResolve:le,_importReject:Ee}=n;let Oe={fields:[],rows:[]};const Be={},K={};ae.forEach(_e=>{const _=_e.field,Fe=_e.getTitle();_&&(Be[_]=_e),Fe&&(K[_e.getTitle()]=_e)});const pe={fieldMaps:Be,titleMaps:K};switch(se.type){case"csv":Oe=x_(pe,ee);break;case"txt":Oe=C_(pe,ee);break;case"html":Oe=y_(pe,ee);break;case"xml":Oe=w_(pe,ee);break}const{fields:J,rows:ie}=Oe;J.some(_e=>Be[_e]||K[_e])?e.createData(ie).then(_e=>{let _;return(se.mode==="insert"||se.mode==="insertBottom")&&(_=e.insertAt(_e,-1)),se.mode==="insertTop"?_=e.insert(_e):_=e.reloadData(_e),se.message!==!1&&Se.modal&&Se.modal.message({content:ca("vxe.table.impSuccess",[ie.length]),status:"success"}),_.then(()=>{le&&le({status:!0})})}):se.message!==!1&&(Se.modal&&Se.modal.message({content:ca("vxe.error.impFields"),status:"error"}),Ee&&Ee({status:!1}))},xe=(ee,se)=>{const{importMethod:ae,afterImportMethod:le}=se,{type:Ee,filename:Oe}=gF(ee),Be=d.value;if(!ae&&!f.includes(f.keys(Be._typeMaps),Ee)){se.message!==!1&&Se.modal&&Se.modal.message({content:ca("vxe.error.notType",[Ee]),status:"error"});const pe={status:!1};return Promise.reject(pe)}return new Promise((pe,J)=>{const ie=_e=>{pe(_e),n._importResolve=null,n._importReject=null},Ae=_e=>{J(_e),n._importResolve=null,n._importReject=null};if(n._importResolve=ie,n._importReject=Ae,window.FileReader){const _e=Object.assign({mode:"insertTop"},se,{type:Ee,filename:Oe});if(_e.remote)ae?Promise.resolve(ae({file:ee,options:_e,$table:e})).then(()=>{ie({status:!0})}).catch(()=>{ie({status:!0})}):ie({status:!0});else{const{tableFullColumn:_}=n;e.preventEvent(null,"event.import",{file:ee,options:_e,columns:_},()=>{const Fe=new FileReader;Fe.onerror=()=>{Bt("vxe.error.notType",[Ee]),Ae({status:!1})},Fe.onload=Pe=>{B(Pe.target.result,_e)},Fe.readAsText(ee,_e.encoding||"UTF-8")})}}else Bt("vxe.error.notExp"),ie({status:!0})}).then(()=>{le&&le({status:!0,options:se,$table:e})}).catch(pe=>(le&&le({status:!1,options:se,$table:e}),Promise.reject(pe)))},Z=(ee,se,ae)=>ae.some(le=>{if(ec(le))return se.id===le.id;if(f.isString(le))return se.field===le;{const Ee=le.id||le.colId,Oe=le.type,Be=le.field;if(Ee)return se.id===Ee;if(Be&&Oe)return se.field===Be&&se.type===Oe;if(Be)return se.field===Be;if(Oe)return se.type===Oe}return!1}),L=(ee,se,ae,le)=>le&&f.includes(le,se.field)?!1:ae?!!f.includes(ae,se.field):ee.original?se.field:Ls(se),ne=(ee,se)=>{const{treeConfig:ae,showHeader:le,showFooter:Ee}=t,{initStore:Oe,mergeList:Be,mergeFooterList:K,isGroup:pe,footerTableData:J,exportStore:ie,exportParams:Ae}=r,{collectColumn:_e}=n,_=i.value,Fe=ae,Pe=u.value,et=e.getCheckboxRecords(),Ge=v?v.getComputeMaps().computeProxyOpts.value:{},ut=!!J.length,gt=!!(Be.length||K.length),_t=Object.assign({message:!0,isHeader:le,isTitle:le,isFooter:Ee,isColgroup:pe,isMerge:gt,useStyle:!0,current:"current",modes:(Ge.ajax&&Ge.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},ee),qt=_t.types||f.keys(_._typeMaps),Ht=_t.modes||[],Tt=Pe.checkMethod,Dt=_e.slice(0),{columns:Lt,excludeFields:wt,includeFields:ct}=_t,bt=qt.map(be=>({value:be,label:ca(`vxe.export.types.${be}`)})),St=Ht.map(be=>be&&be.value?{value:be.value,label:be.label||be.value}:{value:be,label:ca(`vxe.export.modes.${be}`)});f.eachTree(Dt,(be,U,te,re,$e)=>{const qe=be.children&&be.children.length;let Je=!1;Lt&&Lt.length?Je=Z(_t,be,Lt):wt||ct?Je=L(_t,be,ct,wt):Je=be.visible&&(qe||Ls(be)),be.checked=Je,be.halfChecked=!1,be.disabled=$e&&$e.disabled||(Tt?!Tt({column:be}):!1)}),Object.assign(ie,{columns:Dt,typeList:bt,modeList:St,hasFooter:ut,hasMerge:gt,hasTree:Fe,isPrint:se,hasColgroup:pe,visible:!0}),Object.assign(Ae,{mode:et.length?"selected":"current"},_t);const{filename:Ye,sheetName:X,mode:W,type:ge}=Ae;return Ye&&(f.isFunction(Ye)?Ae.filename=Ye({options:_t,$table:e,$grid:v}):Ae.filename=`${Ye}`),X&&(f.isFunction(X)?Ae.sheetName=X({options:_t,$table:e,$grid:v}):Ae.sheetName=`${X}`),St.some(be=>be.value===W)||(Ae.mode=St[0].value),bt.some(be=>be.value===ge)||(Ae.type=bt[0].value),Oe.export=!0,ye()},Ve=()=>Se.modal?Se.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),Le={exportData(ee){const{treeConfig:se,showHeader:ae,showFooter:le}=t,{mergeList:Ee,mergeFooterList:Oe,isGroup:Be}=r,{tableFullColumn:K,afterFullData:pe,collectColumn:J}=n,ie=i.value,Ae=l.value,_e=v?v.getComputeMaps().computeProxyOpts.value:{},_=!!(Ee.length||Oe.length),Fe=Object.assign({message:!0,isHeader:ae,isTitle:ae,isFooter:le,isColgroup:Be,isMerge:_,useStyle:!0,current:"current",modes:(_e.ajax&&_e.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},ie,ee);let{filename:Pe,sheetName:et,type:Ge,mode:ut,columns:gt,original:_t,columnFilterMethod:qt,beforeExportMethod:Ht,includeFields:Tt,excludeFields:Dt}=Fe,Lt=[];const wt=e.getCheckboxRecords();ut||(ut=wt.length?"selected":"current");const ct=gt&&gt.length?gt:f.searchTree(J,Ye=>{const X=Ye.children&&Ye.children.length;let W=!1;return gt&&gt.length?W=Z(Fe,Ye,gt):Dt||Tt?W=L(Fe,Ye,Tt,Dt):W=Ye.visible&&(X||Ls(Ye)),W},{children:"children",mapChildren:"childNodes",original:!0}),bt=Object.assign({},Fe,{filename:"",sheetName:""});!ct&&!qt&&(bt.columnFilterMethod=({column:Ye})=>Dt&&f.includes(Dt,Ye.field)?!1:Tt?!!f.includes(Tt,Ye.field):_t?Ye.field:Ls(Ye)),ct?(bt._isCustomColumn=!0,Lt=f.searchTree(f.mapTree(ct,Ye=>{let X;if(Ye){if(ec(Ye))X=Ye;else if(f.isString(Ye))X=e.getColumnByField(Ye);else{const W=Ye.id||Ye.colId,ge=Ye.type,be=Ye.field;W?X=e.getColumnById(W):be&&ge?X=K.find(U=>U.field===be&&U.type===ge):be?X=e.getColumnByField(be):ge&&(X=K.find(U=>U.type===ge))}return X||{}}},{children:"childNodes",mapChildren:"_children"}),(Ye,X)=>ec(Ye)&&(!qt||qt({column:Ye,$columnIndex:X})),{children:"_children",mapChildren:"childNodes",original:!0})):Lt=f.searchTree(Be?J:K,(Ye,X)=>Ye.visible&&(!qt||qt({column:Ye,$columnIndex:X})),{children:"children",mapChildren:"childNodes",original:!0});const St=[];if(f.eachTree(Lt,Ye=>{Ye.children&&Ye.children.length||St.push(Ye)},{children:"childNodes"}),bt.columns=St,bt.colgroups=v_(Lt),Pe&&(f.isFunction(Pe)?bt.filename=Pe({options:Fe,$table:e,$grid:v}):bt.filename=`${Pe}`),bt.filename||(bt.filename=ca(bt.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[f.toDateString(Date.now(),"yyyyMMddHHmmss")])),et&&(f.isFunction(et)?bt.sheetName=et({options:Fe,$table:e,$grid:v}):bt.sheetName=`${et}`),bt.sheetName||(bt.sheetName=document.title||""),!bt.exportMethod&&!f.includes(f.keys(ie._typeMaps),Ge)){Bt("vxe.error.notType",[Ge]);const Ye={status:!1};return Promise.reject(Ye)}if(bt.print||Ht&&Ht({options:bt,$table:e,$grid:v}),!bt.data){if(bt.data=[],ut==="selected")["html","pdf"].indexOf(Ge)>-1&&se?bt.data=f.searchTree(e.getTableData().fullData,Ye=>e.findRowIndexOf(wt,Ye)>-1,Object.assign({},Ae,{data:"_row"})):bt.data=wt;else if(ut==="all"&&v&&!bt.remote){const Ye=v.reactData,{computeProxyOpts:X}=v.getComputeMaps(),W=X.value,{sortData:ge}=Ye,{beforeQueryAll:be,afterQueryAll:U,ajax:te={}}=W,re=W.response||W.props||{},$e=te.queryAll,qe=te.queryAllSuccess,Je=te.queryAllError;if($e){const lt={$table:e,$grid:v,sort:ge.length?ge[0]:{},sorts:ge,filters:Ye.filterData,form:Ye.formData,options:bt};return Promise.resolve((be||$e)(lt)).then(Ct=>{const rt=re.list;return bt.data=(rt?f.isFunction(rt)?rt({data:Ct,$grid:v}):f.get(Ct,rt):Ct)||[],U&&U(lt),qe&&qe(Object.assign(Object.assign({},lt),{response:Ct})),j(bt)}).catch(Ct=>{Je&&Je(Object.assign(Object.assign({},lt),{response:Ct}))})}}ut==="current"&&(bt.data=pe)}return j(bt)},importByFile(ee,se){const ae=Object.assign({},se),{beforeImportMethod:le}=ae;return le&&le({options:ae,$table:e}),xe(ee,ae)},importData(ee){const se=d.value,ae=Object.assign({types:f.keys(se._typeMaps)},se,ee),{beforeImportMethod:le,afterImportMethod:Ee}=ae;return le&&le({options:ae,$table:e}),Se.readFile(ae).catch(Oe=>(Ee&&Ee({status:!1,options:ae,$table:e}),Promise.reject(Oe))).then(Oe=>{const{file:Be}=Oe;return xe(Be,ae)})},saveFile(ee){return Se.saveFile(ee)},readFile(ee){return Se.readFile(ee)},print(ee){const se=a.value,ae=Object.assign({original:!1},se,ee,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:le}=ae;let Ee="";le&&(f.isFunction(le)?Ee=le({options:ae,$table:e,$grid:v}):Ee=`${le}`),Ee||(Ee=document.title||"");const Oe=ae.beforePrintMethod,Be=ae.html||ae.content;return new Promise((K,pe)=>{Se.print?K(Be?Se.print({title:Ee,html:Be,customStyle:ae.style,beforeMethod:Oe?({html:J})=>Oe({html:J,content:J,options:ae,$table:e}):void 0}):Le.exportData(ae).then(({content:J})=>Se.print({title:Ee,html:J,customStyle:ae.style,beforeMethod:Oe?({html:ie})=>Oe({html:ie,content:ie,options:ae,$table:e}):void 0}))):pe({status:!1})})},getPrintHtml(ee){const se=a.value,ae=Object.assign({original:!1},se,ee,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(ae).then(({content:le})=>({html:le}))},closeImport(){return Se.modal?Se.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(ee){const{treeConfig:se,importConfig:ae}=t,{initStore:le,importStore:Ee,importParams:Oe}=r,Be=d.value,K=Object.assign({mode:"insertTop",message:!0,types:f.keys(Be._typeMaps),modes:["insertTop","covering"]},Be,ee),pe=K.types||[],J=K.modes||[];if(!!se){K.message&&Se.modal&&Se.modal.message({content:ca("vxe.error.treeNotImp"),status:"error"});return}ae||Bt("vxe.error.reqProp",["import-config"]);const Ae=pe.map(_=>({value:_,label:ca(`vxe.export.types.${_}`)})),_e=J.map(_=>_&&_.value?{value:_.value,label:_.label||_.value}:{value:_,label:ca(`vxe.import.modes.${_}`)});Object.assign(Ee,{file:null,type:"",filename:"",modeList:_e,typeList:Ae,visible:!0}),Object.assign(Oe,K),_e.some(_=>_.value===Oe.mode)||(Oe.mode=_e[0].value),le.import=!0},closeExport:Ve,openExport(ee){const se=i.value,ae=Object.assign({message:!0,types:f.keys(se._typeMaps)},se,ee);t.exportConfig||Bt("vxe.error.reqProp",["export-config"]),ne(ae)},closePrint:Ve,openPrint(ee){const se=a.value,ae=Object.assign({message:!0},se,ee);t.printConfig||Bt("vxe.error.reqProp",["print-config"]),ne(ae,!0)}};return Le},setupGrid(e){return e.extendTableMethods(S_)}});const{hooks:E_}=Se,R_=f.browse();function D_(e,t){let r=0,n=0;const l=!R_.firefox&&va(e,"vxe-checkbox--label");if(l){const a=getComputedStyle(e);r-=f.toNumber(a.paddingTop),n-=f.toNumber(a.paddingLeft)}for(;e&&e!==t;)if(r+=e.offsetTop,n+=e.offsetLeft,e=e.offsetParent,l){const a=getComputedStyle(e);r-=f.toNumber(a.paddingTop),n-=f.toNumber(a.paddingLeft)}return{offsetTop:r,offsetLeft:n}}E_.add("tableKeyboardModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refElem:l}=e.getRefMaps(),{computeEditOpts:a,computeCheckboxOpts:i,computeMouseOpts:d,computeTreeOpts:u,computeRowOpts:p,computeColumnOpts:o,computeCellOpts:c,computeDefaultRowHeight:m,computeCurrentRowOpts:v,computeCurrentColumnOpts:x}=e.getComputeMaps();function S(V,q,F,O,M,G){const{showOverflow:$}=t,{fullAllDataRowIdData:Y,isResizeCellHeight:H}=n,j=p.value,B=c.value,xe=m.value,{row:Z}=q;let L=0,ne=[],Ve=0;const Le=G>0,{scrollYLoad:ee}=r,{afterFullData:se}=n;if(Le?Ve=M+G:Ve=O.height-M+Math.abs(G),ee){const ae=e.getVTRowIndex(Z);if(!(H||B.height||j.height)&&$)Le?ne=se.slice(ae,ae+Math.ceil(Ve/xe)):ne=se.slice(ae-Math.floor(Ve/xe),ae+1);else if(Le)for(let Ee=ae;Ee<se.length;Ee++){const Oe=se[Ee],Be=e.getRowid(Oe),K=Y[Be]||{};if(L+=K.resizeHeight||B.height||j.height||K.height||xe,ne.push(Oe),L>Ve)return ne}else for(let Ee=ae;Ee>=0;Ee--){const Oe=se[Ee],Be=e.getRowid(Oe),K=Y[Be]||{};if(L+=K.resizeHeight||B.height||j.height||K.height||xe,ne.push(Oe),L>Ve)return ne}}else{const ae=Le?"next":"previous";for(;F&&L<Ve;){const le=e.getRowNode(F);le&&(ne.push(le.item),L+=F.offsetHeight,F=F[`${ae}ElementSibling`])}}return ne}const k=(V,q)=>{const{elemStore:F}=n,O=Xt(F["main-body-scroll"]),M=Xt(F["left-body-scroll"]),G=Xt(F["right-body-scroll"]),{column:$,cell:Y}=q;if($.type==="checkbox"){let H=O;if(M&&$.fixed==="left"?H=M:G&&$.fixed==="right"&&(H=G),!H)return;const j=l.value,B=V.clientX,xe=V.clientY,Z=H.querySelector(".vxe-table--checkbox-range"),L=Y.parentElement,ne=e.getCheckboxRecords();let Ve=[];const Le=1,ee=D_(V.target,H),se=ee.offsetTop+V.offsetY,ae=ee.offsetLeft+V.offsetX,le=H.scrollTop,Ee=L.offsetHeight,Oe=L.getBoundingClientRect(),Be=xe-Oe.y;let K=null,pe=!1,J=1;const ie=(Fe,Pe)=>{e.dispatchEvent(`checkbox-range-${Fe}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},Pe)},Ae=Fe=>{const{clientX:Pe,clientY:et}=Fe,Ge=Pe-B,ut=et-xe+(H.scrollTop-le);let gt=Math.abs(ut),_t=Math.abs(Ge),qt=se,Ht=ae;ut<Le?(qt+=ut,qt<Le&&(qt=Le,gt=se)):gt=Math.min(gt,H.scrollHeight-se-Le),Ge<Le?(Ht+=Ge,_t>ae&&(Ht=Le,_t=ae)):_t=Math.min(_t,H.clientWidth-ae-Le),Z.style.height=`${gt}px`,Z.style.width=`${_t}px`,Z.style.left=`${Ht}px`,Z.style.top=`${qt}px`,Z.style.display="block";const Tt=S(Fe,q,L,Oe,Be,ut<Le?-gt:gt);gt>10&&Tt.length!==Ve.length&&(Ve=Tt,Fe.ctrlKey?Tt.forEach(Dt=>{e.handleBatchSelectRows([Dt],ne.indexOf(Dt)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(Tt,!0,!1)),ie("change",Fe))},_e=()=>{clearTimeout(K),K=null},_=Fe=>{_e(),K=setTimeout(()=>{if(K){const{scrollLeft:Pe,scrollTop:et,clientHeight:Ge,scrollHeight:ut}=H,gt=Math.ceil(J*50/Ee);pe?et+Ge<ut?(e.scrollTo(Pe,et+gt),_(Fe),Ae(Fe)):_e():et?(e.scrollTo(Pe,et-gt),_(Fe),Ae(Fe)):_e()}},50)};Go(j,"drag--range"),document.onmousemove=Fe=>{Fe.preventDefault(),Fe.stopPropagation();const{clientY:Pe}=Fe,{boundingTop:et}=Qs(H);Pe<et?(pe=!1,J=et-Pe,K||_(Fe)):Pe>et+H.clientHeight?(pe=!0,J=Pe-et-H.clientHeight,K||_(Fe)):K&&_e(),Ae(Fe)},document.onmouseup=Fe=>{_e(),Zn(j,"drag--range"),Z.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,ie("end",Fe)},ie("start",V)}},E=(V,q)=>{const{editConfig:F,checkboxConfig:O,mouseConfig:M}=t,G=i.value,$=d.value,Y=a.value;if(M&&$.area&&e.handleCellAreaMousedownEvent)return e.handleCellAreaMousedownEvent(V,q);O&&G.range&&k(V,q),M&&$.selected&&(!F||Y.mode==="cell")&&e.handleSelected(q,V)},D=(V,q,F,O,M,G)=>{const{afterFullData:$,visibleColumn:Y}=n,H=Object.assign({},q),j=e.getVTRowIndex(H.row),B=e.getVTColumnIndex(H.column);return V.preventDefault(),O&&j>0?(H.rowIndex=j-1,H.row=$[H.rowIndex]):G&&j<$.length-1?(H.rowIndex=j+1,H.row=$[H.rowIndex]):F&&B?(H.columnIndex=B-1,H.column=Y[H.columnIndex]):M&&B<Y.length-1&&(H.columnIndex=B+1,H.column=Y[H.columnIndex]),e.scrollToRow(H.row,H.column).then(()=>{H.cell=e.getCellElement(H.row,H.column),e.handleSelected(H,V)}),H};return{moveTabSelected(V,q,F){const{editConfig:O}=t,{afterFullData:M,visibleColumn:G}=n,$=a.value,Y=p.value,H=v.value,j=o.value,B=x.value;let xe,Z,L;const ne=Object.assign({},V),Ve=e.getVTRowIndex(ne.row),Le=e.getVTColumnIndex(ne.column);F.preventDefault(),q?Le<=0?Ve>0&&(Z=Ve-1,xe=M[Z],L=G.length-1):L=Le-1:Le>=G.length-1?Ve<M.length-1&&(Z=Ve+1,xe=M[Z],L=0):L=Le+1;const ee=G[L];ee&&(xe?(ne.rowIndex=Z,ne.row=xe):ne.rowIndex=Ve,ne.columnIndex=L,ne.column=ee,ne.cell=e.getCellElement(ne.row,ne.column),Y.isCurrent&&H.isFollowSelected&&e.triggerCurrentRowEvent(F,ne),j.isCurrent&&B.isFollowSelected&&e.triggerCurrentColumnEvent(F,ne),O?($.trigger==="click"||$.trigger==="dblclick")&&($.mode==="row"?e.handleEdit(ne,F):e.scrollToRow(ne.row,ne.column).then(()=>{e.handleSelected(ne,F)})):e.scrollToRow(ne.row,ne.column).then(()=>{e.handleSelected(ne,F)}))},moveCurrentRow(V,q,F){const{treeConfig:O}=t,{currentRow:M}=r,{afterFullData:G}=n,$=u.value,Y=$.children||$.childrenField;let H;if(M)if(O){const{index:j,items:B}=f.findTree(G,xe=>xe===M,{children:Y});V&&j>0?H=B[j-1]:q&&j<B.length-1&&(H=B[j+1])}else{const j=e.getVTRowIndex(M);V&&j>0?H=G[j-1]:q&&j<G.length-1&&(H=G[j+1])}else H=G[0];if(H){F.preventDefault();const j={$table:e,row:H,rowIndex:e.getRowIndex(H),$rowIndex:e.getVMRowIndex(H)};e.scrollToRow(H).then(()=>e.triggerCurrentRowEvent(F,j))}},moveCurrentColumn(V,q,F){const{currentColumn:O}=r,{visibleColumn:M}=n;let G=null;if(O){const $=e.getVTColumnIndex(O);V&&$>0?G=M[$-1]:q&&$<M.length-1&&(G=M[$+1])}else G=M[0];if(G){F.preventDefault();const $={$table:e,column:G,columnIndex:e.getColumnIndex(G),$columnIndex:e.getVMColumnIndex(G)};e.scrollToColumn(G).then(()=>e.triggerCurrentColumnEvent(F,$))}},moveArrowSelected(V,q,F,O,M,G){const{highlightCurrentRow:$,highlightCurrentColumn:Y}=t,H=p.value,j=v.value,B=o.value,xe=x.value,Z=D(G,V,q,F,O,M);(H.isCurrent||$)&&(j.isFollowSelected?e.triggerCurrentRowEvent(G,Z):(F||M)&&(H.isCurrent||$)&&e.moveCurrentRow(F,M,G)),(B.isCurrent||Y)&&(xe.isFollowSelected?e.triggerCurrentColumnEvent(G,Z):(q||O)&&(B.isCurrent||Y)&&e.moveCurrentColumn(q,O,G))},moveEnterSelected(V,q,F,O,M,G){const{highlightCurrentRow:$,highlightCurrentColumn:Y}=t,H=p.value,j=v.value,B=o.value,xe=x.value,Z=D(G,V,q,F,O,M);(H.isCurrent||$)&&j.isFollowSelected&&e.triggerCurrentRowEvent(G,Z),(B.isCurrent||Y)&&xe.isFollowSelected&&e.triggerCurrentColumnEvent(G,Z)},moveSelected(V,q,F,O,M,G){D(G,V,q,F,O,M)},handleCellMousedownEvent:E}}});const{getConfig:O_,validators:T_,hooks:M_}=Se;class Li{constructor(t){Object.assign(this,{$options:t,required:t.required,min:t.min,max:t.max,type:t.type,pattern:t.pattern,validator:t.validator,trigger:t.trigger,maxWidth:t.maxWidth})}get content(){return ma(this.$options.content||this.$options.message)}get message(){return this.content}}const I_=["fullValidate","validate","fullValidateField","validateField","clearValidate"];M_.add("tableValidatorModule",{setupTable(e){const{props:t,reactData:r,internalData:n}=e,{refValidTooltip:l}=e.getRefMaps(),{computeValidOpts:a,computeTreeOpts:i,computeEditOpts:d}=e.getComputeMaps();let u={},p={},o;const c=S=>new Promise(k=>{a.value.autoPos===!1?(e.dispatchEvent("valid-error",S,null),k()):e.handleEdit(S,{type:"valid-error",trigger:"call"}).then(()=>{k(p.showValidTooltip(S))})}),m=S=>{if(a.value.msgMode==="single"){const E=Object.keys(S),D={};if(E.length){const P=E[0];D[P]=S[P]}return D}return S},v=(S,k,E,D)=>{const P={},{editRules:V,treeConfig:q}=t,{afterFullData:F,pendingRowMaps:O,removeRowMaps:M}=n,G=i.value,$=G.children||G.childrenField,Y=a.value;let H;S===!0?H=F:S&&(f.isFunction(S)?E=S:H=f.isArray(S)?S:[S]),H||(e.getInsertRecords?H=e.getInsertRecords().concat(e.getUpdateRecords()):H=[]);const j=[];n._lastCallTime=Date.now(),o=!1,u.clearValidate();const B={};if(V){const xe=k&&k.length?k:e.getColumns(),Z=L=>{const ne=Ft(e,L);if(!M[ne]&&!O[ne]&&(D||!o)){const Ve=[];xe.forEach(Le=>{const ee=f.isString(Le)?Le:Le.field;(D||!o)&&f.has(V,ee)&&Ve.push(p.validCellRules("all",L,Le).catch(({rule:se,rules:ae})=>{const le={rule:se,rules:ae,rowIndex:e.getRowIndex(L),row:L,columnIndex:e.getColumnIndex(Le),column:Le,field:ee,$table:e};if(P[ee]||(P[ee]=[]),B[`${Ft(e,L)}:${Le.id}`]={column:Le,row:L,rule:se,content:se.content},P[ee].push(le),!D)return o=!0,Promise.reject(le)}))}),j.push(Promise.all(Ve))}};return q?f.eachTree(H,Z,{children:$}):H.forEach(Z),Promise.all(j).then(()=>{const L=Object.keys(P);return r.validErrorMaps=m(B),ye().then(()=>{if(L.length)return Promise.reject(P[L[0]][0]);E&&E()})}).catch(L=>new Promise((ne,Ve)=>{const Le=()=>{ye(()=>{E?(E(P),ne()):O_().validToReject==="obsolete"?Ve(P):ne(P)})},ee=()=>{L.cell=e.getCellElement(L.row,L.column),xN(L.cell),c(L).then(Le)};if(Y.autoPos===!1)Le();else{const se=L.row,ae=L.column;e.scrollToRow(se,ae).then(ee)}}))}else r.validErrorMaps={};return ye().then(()=>{E&&E()})};u={fullValidate(S,k){return v(S,null,k,!0)},validate(S,k){return v(S,null,k)},fullValidateField(S,k){const E=(f.isArray(k)?k:k?[k]:[]).map(D=>Zr(e,D));return E.length?v(S,E,null,!0):ye()},validateField(S,k){const E=(f.isArray(k)?k:k?[k]:[]).map(D=>Zr(e,D));return E.length?v(S,E,null):ye()},clearValidate(S,k){const{validErrorMaps:E}=r,D=l.value,P=a.value,V=f.isArray(S)?S:S?[S]:[],q=(f.isArray(k)?k:k?[k]:[]).map(O=>Zr(e,O));let F={};if(D&&D.reactData.visible&&D.close(),P.msgMode==="single")return r.validErrorMaps={},ye();if(V.length&&q.length)F=Object.assign({},E),V.forEach(O=>{q.forEach(M=>{const G=`${Ft(e,O)}:${M.id}`;F[G]&&delete F[G]})});else if(V.length){const O=V.map(M=>`${Ft(e,M)}`);f.each(E,(M,G)=>{O.indexOf(G.split(":")[0])>-1&&(F[G]=M)})}else if(q.length){const O=q.map(M=>`${M.id}`);f.each(E,(M,G)=>{O.indexOf(G.split(":")[1])>-1&&(F[G]=M)})}return r.validErrorMaps=F,ye()}};const x=(S,k)=>{const{type:E,min:D,max:P,pattern:V}=S,q=E==="number",F=q?f.toNumber(k):f.getSize(k);return!!(q&&isNaN(k)||!f.eqNull(D)&&F<f.toNumber(D)||!f.eqNull(P)&&F>f.toNumber(P)||V&&!(f.isRegExp(V)?V:new RegExp(V)).test(k))};return p={validCellRules(S,k,E,D){const P=e.xeGrid,{editRules:V}=t,{field:q}=E,F=[],O=[];if(q&&V){const M=f.get(V,q);if(M){const G=f.isUndefined(D)?f.get(k,q):D;M.forEach($=>{const{type:Y,trigger:H,required:j,validator:B}=$;if(S==="all"||!H||S===H)if(B){const xe={cellValue:G,rule:$,rules:M,row:k,rowIndex:e.getRowIndex(k),column:E,columnIndex:e.getColumnIndex(E),field:E.field,$table:e,$grid:P};let Z;if(f.isString(B)){const L=T_.get(B);if(L){const ne=L.tableCellValidatorMethod||L.cellValidatorMethod;ne&&(Z=ne(xe))}else Bt("vxe.error.notValidators",[B])}else Z=B(xe);Z&&(f.isError(Z)?(o=!0,F.push(new Li({type:"custom",trigger:H,content:Z.message,rule:new Li($)}))):Z.catch&&O.push(Z.catch(L=>{o=!0,F.push(new Li({type:"custom",trigger:H,content:L&&L.message?L.message:$.content||$.message,rule:new Li($)}))})))}else{const xe=Y==="array",Z=f.isArray(G);let L=!0;xe||Z?L=!Z||!G.length:f.isString(G)?L=ga(G.trim()):L=ga(G),(j?L||x($,G):!L&&x($,G))&&(o=!0,F.push(new Li($)))}})}}return Promise.all(O).then(()=>{if(F.length){const M={rules:F,rule:F[0]};return Promise.reject(M)}})},hasCellRules(S,k,E){const{editRules:D}=t,{field:P}=E;if(P&&D){const V=f.get(D,P);return V&&!!f.find(V,q=>S==="all"||!q.trigger||S===q.trigger)}return!1},triggerValidate(S){const{editConfig:k,editRules:E}=t,{editStore:D}=r,{actived:P}=D,V=d.value,q=a.value;if(E&&q.msgMode==="single"&&(r.validErrorMaps={}),k&&E&&P.row){const{row:F,column:O,cell:M}=P.args;if(p.hasCellRules(S,F,O))return p.validCellRules(S,F,O).then(()=>{V.mode==="row"&&u.clearValidate(F,O)}).catch(({rule:G})=>{if(!G.trigger||S===G.trigger){const $={rule:G,row:F,column:O,cell:M};return p.showValidTooltip($),Promise.reject($)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(S){const{height:k}=t,{tableData:E,validStore:D,validErrorMaps:P}=r,{rule:V,row:q,column:F,cell:O}=S,M=a.value,G=l.value,$=V.content;return D.visible=!0,M.msgMode==="single"?r.validErrorMaps={[`${Ft(e,q)}:${F.id}`]:{column:F,row:q,rule:V,content:$}}:r.validErrorMaps=Object.assign({},P,{[`${Ft(e,q)}:${F.id}`]:{column:F,row:q,rule:V,content:$}}),e.dispatchEvent("valid-error",S,null),G&&G&&(M.message==="tooltip"||M.message==="default"&&!k&&E.length<2)?G.open(O,$):ye()}},Object.assign(Object.assign({},u),p)},setupGrid(e){return e.extendTableMethods(I_)}});const F_=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];Se.hooks.add("tableCustomModule",{setupTable(e){const{reactData:t,internalData:r}=e,{computeCustomOpts:n}=e.getComputeMaps(),{refElem:l}=e.getRefMaps(),a=e.xeGrid,i=()=>{const{customStore:E}=t,D=l.value;let P=0;D&&(P=D.clientHeight-28),E.maxHeight=Math.max(88,P)},d=()=>{const{initStore:E,customStore:D}=t;return D.visible=!0,E.custom=!0,u(),x(),i(),ye().then(()=>i())},u=()=>{const{customStore:E}=t,{collectColumn:D}=r;if(E.visible){const P={},V={},q={};f.eachTree(D,F=>{const O=F.getKey();F.renderFixed=F.fixed,F.renderVisible=F.visible,F.renderResizeWidth=F.renderWidth,P[O]=F.renderSortNumber,V[O]=F.fixed,q[O]=F.visible}),E.oldSortMaps=P,E.oldFixedMaps=V,E.oldVisibleMaps=q,t.customColumnList=D.slice(0)}},p=()=>{const{customStore:E}=t,D=n.value;return E.visible&&(E.visible=!1,D.immediate||e.handleCustom()),ye()},o=()=>{const{customColumnList:E}=t,D=n.value,{allowVisible:P,allowSort:V,allowFixed:q,allowResizable:F}=D;return f.eachTree(E,(O,M,G,$,Y)=>{if(Y)O.fixed=Y.fixed;else{if(V){const H=M+1;O.renderSortNumber=H}q&&(O.fixed=O.renderFixed)}F&&O.renderVisible&&(!O.children||O.children.length)&&O.renderResizeWidth!==O.renderWidth&&(O.resizeWidth=O.renderResizeWidth,O.renderWidth=O.renderResizeWidth),P&&(O.visible=O.renderVisible)}),t.isCustomStatus=!0,t.isDragColMove=!0,setTimeout(()=>{t.isDragColMove=!1},1e3),e.saveCustomStore("confirm")},c=()=>{const{customColumnList:E,customStore:D}=t,{oldSortMaps:P,oldFixedMaps:V,oldVisibleMaps:q}=D,F=n.value,{allowVisible:O,allowSort:M,allowFixed:G,allowResizable:$}=F;return f.eachTree(E,Y=>{const H=Y.getKey(),j=!!q[H],B=V[H]||"";O&&(Y.renderVisible=j,Y.visible=j),G&&(Y.renderFixed=B,Y.fixed=B),M&&(Y.renderSortNumber=P[H]||0),$&&(Y.renderResizeWidth=Y.renderWidth)},{children:"children"}),ye()},m=E=>{const{customStore:D}=t,{customColumnList:P}=t,V=n.value,{checkMethod:q,visibleMethod:F}=V,O=!!E;return V.immediate?(f.eachTree(P,M=>{F&&!F({column:M})||q&&!q({column:M})||(M.visible=O,M.renderVisible=O,M.halfVisible=!1)}),D.isAll=O,t.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(f.eachTree(P,M=>{F&&!F({column:M})||q&&!q({column:M})||(M.renderVisible=O,M.halfVisible=!1)}),D.isAll=O),e.checkCustomStatus(),ye()},v={openCustom:d,closeCustom:p,saveCustom:o,cancelCustom:c,resetCustom(E){const{collectColumn:D}=r,P=n.value,{checkMethod:V}=P,q=Object.assign({visible:!0,resizable:E===!0,fixed:E===!0,sort:E===!0},E);return f.eachTree(D,F=>{q.resizable&&(F.resizeWidth=0),q.fixed&&(F.fixed=F.defaultFixed),q.sort&&(F.renderSortNumber=F.sortNumber),(!V||V({column:F}))&&(F.visible=F.defaultVisible),F.renderResizeWidth=F.renderWidth}),t.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom()},toggleCustomAllCheckbox(){const{customStore:E}=t,D=!E.isAll;return m(D)},setCustomAllCheckbox:m},x=()=>{const{customStore:E}=t,{collectColumn:D}=r,P=n.value,{checkMethod:V}=P;E.isAll=D.every(q=>(V?!V({column:q}):!1)||q.renderVisible),E.isIndeterminate=!E.isAll&&D.some(q=>(!V||V({column:q}))&&(q.renderVisible||q.halfVisible))},S=(E,D)=>{(a||e).dispatchEvent("custom",{type:E},D)},k={checkCustomStatus:x,emitCustomEvent:S,triggerCustomEvent(E){const{customStore:D}=e.reactData;D.visible?(p(),S("close",E)):(D.btnEl=E.target,d(),S("open",E))},customOpenEvent(E){const{customStore:D}=t;D.visible||(D.activeBtn=!0,D.btnEl=E.target,e.openCustom(),e.emitCustomEvent("open",E))},customCloseEvent(E){const{customStore:D}=t;D.visible&&(D.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",E))},handleUpdateCustomColumn:u};return Object.assign(Object.assign({},v),k)},setupGrid(e){return e.extendTableMethods(F_)}});const{getConfig:tc,renderer:k_,getI18n:Sx,getComponent:VF}=Se,zF="modelValue",BF={};function pa(e,t,r){return f.eqNull(e)?f.eqNull(t)?r:t:e}function $_(e,t){return e&&t.valueFormat?f.toStringDate(e,t.valueFormat):e}function A_(e,t,r){const{dateConfig:n={}}=t;return f.toDateString($_(e,t),n.labelFormat||r)}function xb(e,t){return A_(e,t,Sx(`vxe.input.date.labelFormat.${t.type||"date"}`))}function P_(e){return`vxe-${e.replace("$","")}`}function yo({name:e}){return VF(e)}function $c({name:e}){return Rb(P_(e))}function lc(e,t,r){const{$panel:n}=e;n.changeOption({},t,r)}function Ac(e){let{name:t,attrs:r}=e;return t==="input"&&(r=Object.assign({type:"text"},r)),r}function WF(e){const{name:t,immediate:r,props:n}=e;if(!r){if(t==="VxeInput"||t==="$input"){const{type:l}=n||{};return!(!l||l==="text"||l==="number"||l==="integer"||l==="float")}return!(t==="input"||t==="textarea"||t==="$textarea")}return r}function Yo(e,t,r,n){return f.assign({immediate:WF(e)},BF,n,e.props,{[zF]:r})}function ic(e,t,r,n){return f.assign({},BF,n,e.props,{[zF]:r})}function Pc(e,t){return t.$type==="cell"||WF(e)}function Xn(e,t,r,n){const{placeholder:l}=e;return[g("span",{class:["vxe-cell--label",n?n.class:""]},l&&bx(r)?[g("span",{class:"vxe-cell--placeholder"},nn(ma(l),1))]:nn(r,1))]}function GF(e,t,r){const{events:n}=e,l=PF(e),a=LF(e),{model:i,change:d,blur:u}=r||{},p=a===l,o={};return n&&f.objectEach(n,(c,m)=>{o[el(m)]=function(...v){c(t,...v)}}),i&&(o[el(l)]=function(c){i(c),p&&d&&d(c),n&&n[l]&&n[l](t,c)}),!p&&d&&(o[el(a)]=function(c){d(c),n&&n[a]&&n[a](t,c)}),u&&(o[el(si)]=function(c){u(c),n&&n[si]&&n[si](t,c)}),o}const si="blur";function xs(e,t,r){const{events:n}=e,l=PF(e),a=LF(e),{model:i,change:d,blur:u}=r||{},p={};return f.objectEach(n,(o,c)=>{p[el(c)]=function(...m){f.isFunction(o)||Bt("vxe.error.errFunc",[o]),o(t,...m)}}),i&&(p[el(l)]=function(o){i(o),n&&n[l]&&n[l](t,o)}),d&&(p[el(a)]=function(...o){d(...o),n&&n[a]&&n[a](t,...o)}),u&&(p[el(si)]=function(...o){u(...o),n&&n[si]&&n[si](t,...o)}),p}function jo(e,t){const{$table:r,row:n,column:l}=t,{name:a}=e,{model:i}=l,d=Pc(e,t);return xs(e,t,{model(u){i.update=!0,i.value=u,d&&fa(n,l,u)},change(u){if(!d&&a&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(a)){const p=u.value;i.update=!0,i.value=p,r.updateStatus(t,p)}else r.updateStatus(t)},blur(){d?r.handleCellRuleUpdateStatus("blur",t):r.handleCellRuleUpdateStatus("blur",t,i.value)}})}function sc(e,t,r){return xs(e,t,{model(n){r.data=n},change(){lc(t,!f.eqNull(r.data),r)},blur(){lc(t,!f.eqNull(r.data),r)}})}function UF(e,t){const{$table:r,row:n,column:l}=t,{model:a}=l;return GF(e,t,{model(i){const d=i.target;if(d){const u=d.value;Pc(e,t)?fa(n,l,u):(a.update=!0,a.value=u)}},change(i){const d=i.target;if(d){const u=d.value;r.updateStatus(t,u)}},blur(i){const d=i.target;if(d){const u=d.value;r.updateStatus(t,u)}}})}function jF(e,t,r){return GF(e,t,{model(n){const l=n.target;l&&(r.data=l.value)},change(){lc(t,!f.eqNull(r.data),r)},blur(){lc(t,!f.eqNull(r.data),r)}})}function Cb(e,t){const{row:r,column:n}=t,{name:l}=e,a=Pc(e,t)?on(r,n):n.model.value;return[g(l,Object.assign(Object.assign(Object.assign({class:`vxe-default-${l}`},Ac(e)),{value:a}),UF(e,t)))]}function L_(e,t){return[g(yo(e),Object.assign(Object.assign({},Yo(e,t,null)),xs(e,t)))]}function Kn(e,t){const{row:r,column:n}=t,l=on(r,n);return[g(yo(e),Object.assign(Object.assign({},Yo(e,t,l)),jo(e,t)))]}function BO(e,t){const{options:r}=e,{row:n,column:l}=t,a=on(n,l);return[g(yo(e),Object.assign(Object.assign({options:r},Yo(e,t,a)),jo(e,t)))]}function _s(e,t){const{row:r,column:n}=t,l=on(r,n);return[g($c(e),Object.assign(Object.assign({},Yo(e,t,l)),jo(e,t)))]}function YF(e,t){return[g(VF("vxe-button"),Object.assign(Object.assign({},Yo(e,t,null)),xs(e,t)))]}function N_(e,t){return e.children.map(r=>YF(r,t)[0])}function KF(e,t,r){const{optionGroups:n,optionGroupProps:l={}}=e,a=l.options||"options",i=l.label||"label";return n.map((d,u)=>g("optgroup",{key:u,label:d[i]},r(d[a],e,t)))}function cc(e,t,r){const{optionProps:n={}}=t,{row:l,column:a}=r,i=n.label||"label",d=n.value||"value",u=n.disabled||"disabled",p=Pc(t,r)?on(l,a):a.model.value;return e.map((o,c)=>g("option",{key:c,value:o[d],disabled:o[u],selected:o[d]==p},o[i]))}function __(e,t){const{column:r}=t,{name:n}=e,l=Ac(e);return r.filters.map((a,i)=>g(n,Object.assign(Object.assign(Object.assign({key:i,class:`vxe-default-${n}`},l),{value:a.data}),jF(e,t,a))))}function yb(e,t){const{column:r}=t;return r.filters.map((n,l)=>{const a=n.data;return g(yo(e),Object.assign(Object.assign({key:l},ic(e,e,a)),sc(e,t,n)))})}function q_(e,t){const{column:r}=t;return r.filters.map((n,l)=>{const a=n.data;return g($c(e),Object.assign(Object.assign({key:l},ic(e,e,a)),sc(e,t,n)))})}function Ni({option:e,row:t,column:r}){const{data:n}=e;return f.get(t,r.field)==n}function _i({option:e,row:t,column:r}){const{data:n}=e,l=f.get(t,r.field);return f.toValueString(l).indexOf(n)>-1}function WO(e,t){return[g("select",Object.assign(Object.assign({class:"vxe-default-select"},Ac(e)),UF(e,t)),e.optionGroups?KF(e,t,cc):cc(e.options,e,t))]}function GO(e,t){const{row:r,column:n}=t,{options:l,optionProps:a,optionGroups:i,optionGroupProps:d}=e,u=on(r,n);return[g(yo(e),Object.assign(Object.assign({},Yo(e,t,u,{options:l,optionProps:a,optionGroups:i,optionGroupProps:d})),jo(e,t)))]}function UO(e,t){const{row:r,column:n}=t,{options:l,optionProps:a}=e,i=on(r,n);return[g(yo(e),Object.assign(Object.assign({},Yo(e,t,i,{options:l,optionProps:a})),jo(e,t)))]}function jO(e,t){const{row:r,column:n}=t,{options:l,optionProps:a,optionGroups:i,optionGroupProps:d}=e,u=on(r,n);return[g($c(e),Object.assign(Object.assign({},Yo(e,t,u,{options:l,optionProps:a,optionGroups:i,optionGroupProps:d})),jo(e,t)))]}function Jl(e,{row:t,column:r}){const{options:n,optionGroups:l,optionProps:a={},optionGroupProps:i={}}=e,d=f.get(t,r.field);let u;const p=a.label||"label",o=a.value||"value";return d!=null?f.map(f.isArray(d)?d:[d],l?c=>{const m=i.options||"options";for(let v=0;v<l.length&&(u=f.find(l[v][m],x=>x[o]==c),!u);v++);return u?u[p]:c}:c=>(u=f.find(n,m=>m[o]==c),u?u[p]:c)).join(", "):""}function qs(e){const{row:t,column:r,options:n}=e;return n.original?on(t,r):Jl(r.editRender||r.cellRender,e)}function zi(e,{row:t,column:r}){const{options:n,optionProps:l={}}=e,a=f.get(t,r.field),i=l.label||"label",d=l.value||"value",u=l.children||"children";if(a!=null){const p={};return f.eachTree(n,o=>{p[f.get(o,d)]=o},{children:u}),f.map(f.isArray(a)?a:[a],o=>{const c=p[o];return c&&f.get(c,i)}).join(", ")}return""}function wb(e){const{row:t,column:r,options:n}=e;return n.original?on(t,r):zi(r.editRender||r.cellRender,e)}function YO(e,t){const{props:r={},showNegativeStatus:n}=e,{row:l,column:a}=t,{type:i}=r;let d=f.get(l,a.field),u=!1;if(!bx(d)){const p=tc().numberInput||{};if(i==="float"){const o=pa(r.autoFill,p.autoFill,!0),c=pa(r.digits,p.digits,1);d=f.toFixed(f.floor(d,c),c),o||(d=f.toNumber(d)),n&&d<0&&(u=!0)}else if(i==="amount"){const o=pa(r.autoFill,p.autoFill,!0),c=pa(r.digits,p.digits,2),m=pa(r.showCurrency,p.showCurrency,!1);if(d=f.toNumber(d),n&&d<0&&(u=!0),d=f.commafy(d,{digits:c}),!o){const[v,x]=d.split(".");if(x){const S=x.replace(/0+$/,"");d=S?[v,".",S].join(""):v}}m&&(d=`${r.currencySymbol||p.currencySymbol||Sx("vxe.numberInput.currencySymbol")||""}${d}`)}else n&&f.toNumber(d)<0&&(u=!0)}return Xn(e,t,d,u?{class:"is--negative"}:{})}k_.mixin({input:{tableAutoFocus:"input",renderTableEdit:Cb,renderTableDefault:Cb,renderTableFilter:__,tableFilterDefaultMethod:_i},textarea:{tableAutoFocus:"textarea",renderTableEdit:Cb},select:{renderTableEdit:WO,renderTableDefault:WO,renderTableCell(e,t){return Xn(e,t,Jl(e,t))},renderTableFilter(e,t){const{column:r}=t;return r.filters.map((n,l)=>g("select",Object.assign(Object.assign({key:l,class:"vxe-default-select"},Ac(e)),jF(e,t,n)),e.optionGroups?KF(e,t,cc):cc(e.options,e,t)))},tableFilterDefaultMethod:Ni,tableExportMethod:qs},VxeInput:{tableAutoFocus:"input",renderTableEdit:Kn,renderTableCell(e,t){const{props:r={}}=e,{row:n,column:l}=t,a=tc().input||{},i=r.digits||a.digits||2;let d=f.get(n,l.field);if(d)switch(r.type){case"date":case"week":case"month":case"quarter":case"year":d=xb(d,r);break;case"float":d=f.toFixed(f.floor(d,i),i);break}return Xn(e,t,d)},renderTableDefault:Kn,renderTableFilter:yb,tableFilterDefaultMethod:_i},FormatNumberInput:{renderTableDefault:YO,tableFilterDefaultMethod:_i,tableExportMethod(e){const{row:t,column:r}=e;return f.get(t,r.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:Kn,renderTableCell:YO,renderTableFooter(e,t){const{props:r={}}=e,{row:n,column:l,_columnIndex:a}=t,{type:i}=r,d=f.isArray(n)?n[a]:f.get(n,l.field);if(f.isNumber(d)){const u=tc().numberInput||{};if(i==="float"){const p=pa(r.autoFill,u.autoFill,!0),o=pa(r.digits,u.digits,1);let c=f.toFixed(f.floor(d,o),o);return p||(c=f.toNumber(c)),c}else if(i==="amount"){const p=pa(r.autoFill,u.autoFill,!0),o=pa(r.digits,u.digits,2),c=pa(r.showCurrency,u.showCurrency,!1);let m=f.commafy(f.toNumber(d),{digits:o});if(!p){const[v,x]=m.split(".");if(x){const S=x.replace(/0+$/,"");m=S?[v,".",S].join(""):v}}return c&&(m=`${r.currencySymbol||u.currencySymbol||Sx("vxe.numberInput.currencySymbol")||""}${m}`),m}}return ma(d,1)},renderTableDefault:Kn,renderTableFilter:yb,tableFilterDefaultMethod:_i,tableExportMethod(e){const{row:t,column:r}=e;return f.get(t,r.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:Kn,renderTableCell(e,t){const{props:r={}}=e,{row:n,column:l}=t;let a=f.get(n,l.field);return a&&r.type!=="time"&&(a=xb(a,r)),Xn(e,t,a)},renderTableDefault:Kn,renderTableFilter:yb,tableFilterDefaultMethod:Ni},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:Kn,renderTableCell(e,t){const{row:r,column:n}=t,l=f.get(r,n.field);return Xn(e,t,l)}},VxeButton:{renderTableDefault:L_},VxeButtonGroup:{renderTableDefault(e,t){const{options:r}=e;return[g(yo(e),Object.assign(Object.assign({options:r},Yo(e,t,null)),xs(e,t)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:GO,renderTableDefault:GO,renderTableCell(e,t){return Xn(e,t,Jl(e,t))},renderTableFilter(e,t){const{column:r}=t,{options:n,optionProps:l,optionGroups:a,optionGroupProps:i}=e;return r.filters.map((d,u)=>{const p=d.data;return g(yo(e),Object.assign(Object.assign({key:u},ic(e,t,p,{options:n,optionProps:l,optionGroups:a,optionGroupProps:i})),sc(e,t,d)))})},tableFilterDefaultMethod:Ni,tableExportMethod:qs},formatOption:{renderTableDefault(e,t){return Xn(e,t,Jl(e,t))}},FormatSelect:{renderTableDefault(e,t){return Xn(e,t,Jl(e,t))},tableFilterDefaultMethod:Ni,tableExportMethod:qs},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:UO,renderTableCell(e,t){return Xn(e,t,zi(e,t))},tableExportMethod:wb},formatTree:{renderTableDefault(e,t){return Xn(e,t,zi(e,t))}},FormatTreeSelect:{renderTableDefault(e,t){return Xn(e,t,zi(e,t))},tableExportMethod:wb},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:UO,renderTableCell(e,t){return Xn(e,t,zi(e,t))},tableExportMethod:wb},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:r,column:n}=t,{options:l}=e,a=on(r,n);return[g(yo(e),Object.assign(Object.assign({},Yo(e,t,a,{colors:l})),jo(e,t)))]},renderTableCell(e,t){const{row:r,column:n}=t,l=f.get(r,n.field);return g("span",{class:"vxe-color-picker--readonly"},[g("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:l}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,t){const{row:r,column:n}=t,{options:l}=e,a=on(r,n);return[g(yo(e),Object.assign(Object.assign({},Yo(e,t,a,{icons:l})),jo(e,t)))]},renderTableCell(e,t){const{row:r,column:n}=t,l=f.get(r,n.field);return g("i",{class:l})}},VxeRadioGroup:{renderTableDefault:BO},VxeCheckboxGroup:{renderTableDefault:BO},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:Kn,renderTableDefault:Kn},VxeUpload:{renderTableEdit:Kn,renderTableCell:Kn,renderTableDefault:Kn},VxeImage:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:l}=e,a=on(r,n);return[g(yo(e),Object.assign(Object.assign(Object.assign({},l),{src:a}),jo(e,t)))]}},VxeImageGroup:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:l}=e,a=on(r,n);return[g(yo(e),Object.assign(Object.assign(Object.assign({},l),{urlList:a}),jo(e,t)))]}},VxeTextEllipsis:{renderTableDefault(e,t){const{row:r,column:n}=t,{props:l}=e,a=on(r,n);return[g(yo(e),Object.assign(Object.assign(Object.assign({},l),{content:a}),jo(e,t)))]}},VxeRate:{renderTableDefault:Kn},VxeSlider:{renderTableDefault:Kn},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:_s,renderTableCell(e,t){var r;const{props:n={}}=e,{row:l,column:a}=t,i=n.digits||((r=tc().input)===null||r===void 0?void 0:r.digits)||2;let d=f.get(l,a.field);if(d)switch(n.type){case"date":case"week":case"month":case"year":d=xb(d,n);break;case"float":d=f.toFixed(f.floor(d,i),i);break}return Xn(e,t,d)},renderTableDefault:_s,renderTableFilter:q_,tableFilterDefaultMethod:_i},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:YF},$buttons:{renderTableDefault:N_},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:jO,renderTableDefault:jO,renderTableCell(e,t){return Xn(e,t,Jl(e,t))},renderTableFilter(e,t){const{column:r}=t,{options:n,optionProps:l,optionGroups:a,optionGroupProps:i}=e;return r.filters.map((d,u)=>{const p=d.data;return g($c(e),Object.assign(Object.assign({key:u},ic(e,t,p,{options:n,optionProps:l,optionGroups:a,optionGroupProps:i})),sc(e,t,d)))})},tableFilterDefaultMethod:Ni,tableExportMethod:qs},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:_s,renderTableDefault:_s}});const XF=Object.assign({},ii,{install(e){e.component(ii.name,ii)}}),H_={useCellView:t_};Se.dynamicApp&&Se.dynamicApp.component(ii.name,ii);Se.component(ii);Se.tableHandle=H_;const{getConfig:Wo,getIcon:Ya,getI18n:Yl,renderer:KO,commands:XO,createEvent:V_,useFns:z_}=Se,ci=Sr({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>Wo().toolbar.buttons},tools:{type:Array,default:()=>Wo().toolbar.tools},perfect:{type:Boolean,default:()=>Wo().toolbar.perfect},size:{type:String,default:()=>Wo().toolbar.size||Wo().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,t){const{slots:r,emit:n}=t,l=f.uniqueId(),a=Se.getComponent("VxeButton"),{computeSize:i}=z_.useSize(e),d=zr({isRefresh:!1,connectFlag:0,columns:[]}),u={connectTable:null},p=it(),o={refElem:p},c={xID:l,props:e,context:t,reactData:d,internalData:u,getRefMaps:()=>o};let m={};const v=or("$xeGrid",null),x=ue(()=>Object.assign({},f.clone(Wo().toolbar.refresh,!0),e.refresh)),S=ue(()=>Object.assign({},f.clone(Wo().toolbar.import,!0),e.import)),k=ue(()=>Object.assign({},f.clone(Wo().toolbar.export,!0),e.export)),E=ue(()=>Object.assign({},f.clone(Wo().toolbar.print,!0),e.print)),D=ue(()=>Object.assign({},f.clone(Wo().toolbar.zoom,!0),e.zoom)),P=ue(()=>Object.assign({},f.clone(Wo().toolbar.custom,!0),e.custom)),V=ue(()=>{const{connectTable:K}=u,pe=K;if((d.connectFlag||pe)&&pe){const{computeCustomOpts:J}=pe.getComputeMaps();return J.value}return{trigger:""}}),q=ue(()=>V.value.trigger),F=()=>{const{connectTable:K}=u;if(K)return!0;Bt("vxe.error.barUnableLink")},O=({$event:K})=>{const{connectTable:pe}=u,J=pe;J&&(J.triggerCustomEvent?J.triggerCustomEvent(K):Bt("vxe.error.reqModule",["VxeTableCustomModule"]))},M=({$event:K})=>{const{connectTable:pe}=u,J=pe;J?J.customOpenEvent(K):Bt("vxe.error.reqModule",["VxeTableCustomModule"])},G=({$event:K})=>{const{connectTable:pe}=u,J=pe;if(J){const{customStore:ie}=J.reactData;ie.activeBtn=!1,setTimeout(()=>{!ie.activeBtn&&!ie.activeWrapper&&J.customCloseEvent(K)},350)}},$=({$event:K})=>{const{isRefresh:pe}=d,J=x.value;if(!pe){const ie=J.queryMethod||J.query;if(ie){d.isRefresh=!0;try{Promise.resolve(ie({})).catch(Ae=>Ae).then(()=>{d.isRefresh=!1})}catch(Ae){d.isRefresh=!1}}else v&&(d.isRefresh=!0,v.triggerToolbarCommitEvent({code:J.code||"reload"},K).catch(Ae=>Ae).then(()=>{d.isRefresh=!1}))}},Y=({$event:K})=>{v&&v.triggerZoomEvent(K)},H=(K,pe)=>{const{connectTable:J}=u,ie=J,{code:Ae}=pe;if(Ae)if(v)v.triggerToolbarBtnEvent(pe,K);else{const _e=XO.get(Ae),_={code:Ae,button:pe,$table:ie,$grid:v,$event:K};if(_e){const Fe=_e.tableCommandMethod||_e.commandMethod;Fe?Fe(_):Bt("vxe.error.notCommands",[Ae])}c.dispatchEvent("button-click",_,K)}},j=(K,pe)=>{const{connectTable:J}=u,ie=J,{code:Ae}=pe;if(Ae)if(v)v.triggerToolbarTolEvent(pe,K);else{const _e=XO.get(Ae),_={code:Ae,tool:pe,$table:ie,$grid:v,$event:K};if(_e){const Fe=_e.tableCommandMethod||_e.commandMethod;Fe?Fe(_):Bt("vxe.error.notCommands",[Ae])}c.dispatchEvent("tool-click",_,K)}},B=()=>{if(F()){const{connectTable:K}=u,pe=K;pe&&pe.openImport()}},xe=()=>{if(F()){const{connectTable:K}=u,pe=K;pe&&pe.openExport()}},Z=()=>{if(F()){const{connectTable:K}=u,pe=K;pe&&pe.openPrint()}};m={dispatchEvent:(K,pe,J)=>{n(K,V_(J,{$toolbar:c},pe))},syncUpdate(K){u.connectTable=K.$table,d.columns=K.collectColumn,d.connectFlag++}},Object.assign(c,m);const ne=(K,pe)=>{const{dropdowns:J}=K,ie=[];return J?J.map((Ae,_e)=>Ae.visible===!1?Ze():a?g(a,{key:_e,disabled:Ae.disabled,loading:Ae.loading,type:Ae.type,mode:Ae.mode,icon:Ae.icon,circle:Ae.circle,round:Ae.round,status:Ae.status,content:Ae.name,title:Ae.title,routerLink:Ae.routerLink,permissionCode:Ae.permissionCode,prefixTooltip:Ae.prefixTooltip,suffixTooltip:Ae.suffixTooltip,onClick:({$event:_})=>pe?H(_,Ae):j(_,Ae)}):Ze()):ie},Ve=()=>{const{buttons:K}=e,{connectTable:pe}=u,J=pe,ie=r.buttonPrefix||r["button-prefix"],Ae=r.buttonSuffix||r["button-suffix"],_e=[];return ie&&_e.push(...Rn(ie({buttons:K||[],$grid:v,$table:J}))),K&&K.forEach((_,Fe)=>{const{dropdowns:Pe,buttonRender:et}=_;if(_.visible!==!1){const Ge=et?KO.get(et.name):null;if(et&&Ge&&Ge.renderToolbarButton){const ut=Ge.toolbarButtonClassName,gt={$grid:v,$table:J,button:_};_e.push(g("span",{key:`br${_.code||Fe}`,class:["vxe-button--item",ut?f.isFunction(ut)?ut(gt):ut:""]},Rn(Ge.renderToolbarButton(et,gt))))}else a&&_e.push(g(a,{key:`bd${_.code||Fe}`,disabled:_.disabled,loading:_.loading,type:_.type,mode:_.mode,icon:_.icon,circle:_.circle,round:_.round,status:_.status,content:_.name,title:_.title,routerLink:_.routerLink,permissionCode:_.permissionCode,prefixTooltip:_.prefixTooltip,suffixTooltip:_.suffixTooltip,destroyOnClose:_.destroyOnClose,placement:_.placement,transfer:_.transfer,onClick:({$event:ut})=>H(ut,_)},Pe&&Pe.length?{dropdowns:()=>ne(_,!0)}:{}))}}),Ae&&_e.push(...Rn(Ae({buttons:K||[],$grid:v,$table:J}))),_e},Le=()=>{const{tools:K}=e,{connectTable:pe}=u,J=pe,ie=r.toolPrefix||r["tool-prefix"],Ae=r.toolSuffix||r["tool-suffix"],_e=[];return ie&&_e.push(...Rn(ie({tools:K||[],$grid:v,$table:J}))),K&&K.forEach((_,Fe)=>{const{dropdowns:Pe,toolRender:et}=_;if(_.visible!==!1){const Ge=et?et.name:null,ut=et?KO.get(Ge):null;if(et&&ut&&ut.renderToolbarTool){const gt=ut.toolbarToolClassName,_t={$grid:v,$table:J,tool:_};_e.push(g("span",{key:Ge,class:["vxe-tool--item",gt?f.isFunction(gt)?gt(_t):gt:""]},Rn(ut.renderToolbarTool(et,_t))))}else a&&_e.push(g(a,{key:Fe,disabled:_.disabled,loading:_.loading,type:_.type,mode:_.mode,icon:_.icon,circle:_.circle,round:_.round,status:_.status,content:_.name,title:_.title,routerLink:_.routerLink,permissionCode:_.permissionCode,prefixTooltip:_.prefixTooltip,suffixTooltip:_.suffixTooltip,destroyOnClose:_.destroyOnClose,placement:_.placement,transfer:_.transfer,onClick:({$event:gt})=>j(gt,_)},Pe&&Pe.length?{dropdowns:()=>ne(_,!1)}:{}))}}),Ae&&_e.push(...Rn(Ae({tools:K||[],$grid:v,$table:J}))),_e},ee=()=>{const K=S.value;return a?g(a,{key:"import",circle:!0,icon:K.icon||Ya().TOOLBAR_TOOLS_IMPORT,title:Yl("vxe.toolbar.import"),onClick:B}):Ze()},se=()=>{const K=k.value;return a?g(a,{key:"export",circle:!0,icon:K.icon||Ya().TOOLBAR_TOOLS_EXPORT,title:Yl("vxe.toolbar.export"),onClick:xe}):Ze()},ae=()=>{const K=E.value;return a?g(a,{key:"print",circle:!0,icon:K.icon||Ya().TOOLBAR_TOOLS_PRINT,title:Yl("vxe.toolbar.print"),onClick:Z}):Ze()},le=()=>{const K=x.value;return a?g(a,{key:"refresh",circle:!0,icon:d.isRefresh?K.iconLoading||Ya().TOOLBAR_TOOLS_REFRESH_LOADING:K.icon||Ya().TOOLBAR_TOOLS_REFRESH,title:Yl("vxe.toolbar.refresh"),onClick:$}):Ze()},Ee=()=>{const K=D.value;return v&&a?g(a,{key:"zoom",circle:!0,icon:v.isMaximized()?K.iconOut||Ya().TOOLBAR_TOOLS_MINIMIZE:K.iconIn||Ya().TOOLBAR_TOOLS_FULLSCREEN,title:Yl(`vxe.toolbar.zoom${v.isMaximized()?"Out":"In"}`),onClick:Y}):Ze()},Oe=()=>{const K=P.value,pe=q.value,J={};return pe==="manual"||(pe==="hover"?(J.onMouseenter=M,J.onMouseleave=G):J.onClick=O),a?g(a,Object.assign({key:"custom",circle:!0,icon:K.icon||Ya().TOOLBAR_TOOLS_CUSTOM,title:Yl("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},J)):Ze()},Be=()=>{const{perfect:K,loading:pe,refresh:J,zoom:ie,custom:Ae,className:_e}=e,{connectTable:_}=u,Fe=i.value,Pe=r.tools,et=r.buttons,Ge=_;return g("div",{ref:p,class:["vxe-toolbar",_e?f.isFunction(_e)?_e({$toolbar:c}):_e:"",{[`size--${Fe}`]:Fe,"is--perfect":K,"is--loading":pe}]},[g("div",{class:"vxe-buttons--wrapper"},et?et({$grid:v,$table:Ge}):Ve()),g("div",{class:"vxe-tools--wrapper"},Pe?Pe({$grid:v,$table:Ge}):Le()),g("div",{class:"vxe-tools--operate"},[e.import?ee():Ze(),e.export?se():Ze(),e.print?ae():Ze(),J?le():Ze(),ie&&v?Ee():Ze(),Ae?Oe():Ze()])])};return c.renderVN=Be,ye(()=>{const{refresh:K}=e,pe=x.value,J=pe.queryMethod||pe.query;K&&!v&&!J&&sr("vxe.error.notFunc",["queryMethod"]);const ie=P.value;ie.isFooter&&sr("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),ie.showFooter&&sr("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),ie.immediate&&sr("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),ie.trigger&&sr("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(a||Bt("vxe.error.reqComp",["vxe-button"]))}),c},render(){return this.renderVN()}}),ZF=Object.assign({},ci,{install(e){e.component(ci.name,ci)}});Se.dynamicApp&&Se.dynamicApp.component(ci.name,ci);Se.component(ci);const{getConfig:Ma,getI18n:Kl,commands:B_,hooks:W_,useFns:G_,createEvent:U_,globalEvents:Sb,GLOBAL_EVENT_KEYS:j_,renderEmptyElement:ua}=Se,Y_=Object.keys(ac),ZO=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"],K_=[...yx,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],ui=Sr({name:"VxeGrid",props:Object.assign(Object.assign({},ac),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>Ma().grid.size||Ma().size}}),emits:K_,setup(e,t){var r;const{slots:n,emit:l}=t,a=f.uniqueId(),i=Se.getComponent("VxeForm"),d=Se.getComponent("VxePager"),u=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:p}=G_.useSize(e),o=zr({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((r=Ma().pager)===null||r===void 0?void 0:r.pageSize)||10,currentPage:1}}),c=it(),m=it(),v=it(),x=it(),S=it(),k=it(),E=it(),D=it(),P=it(),V=it(),q=U=>{const te={};return U.forEach(re=>{te[re]=(...$e)=>{const qe=m.value;if(qe&&qe[re])return qe[re](...$e)}}),te},F=q(ZO);ZO.forEach(U=>{F[U]=(...te)=>{const re=m.value;if(re&&re[U])return re&&re[U](...te)}});const O=ue(()=>f.merge({},f.clone(Ma().grid.proxyConfig,!0),e.proxyConfig)),M=ue(()=>{const U=O.value;return f.isBoolean(U.message)?U.message:U.showResponseMsg}),G=ue(()=>O.value.showActiveMsg),$=ue(()=>Object.assign({},Ma().grid.pagerConfig,e.pagerConfig)),Y=ue(()=>Object.assign({},Ma().grid.formConfig,e.formConfig)),H=ue(()=>Object.assign({},Ma().grid.toolbarConfig,e.toolbarConfig)),j=ue(()=>Object.assign({},Ma().grid.zoomConfig,e.zoomConfig)),B=ue(()=>{const{height:U,maxHeight:te}=e,{isZMax:re,tZindex:$e}=o,qe={};return re?qe.zIndex=$e:(U&&(qe.height=U==="auto"||U==="100%"?"100%":Ab(U)),te&&(qe.maxHeight=te==="auto"||te==="100%"?"100%":Ab(te))),qe}),xe=ue(()=>{const U={},te=e;return Y_.forEach(re=>{U[re]=te[re]}),U}),Z=ue(()=>{const{seqConfig:U,pagerConfig:te,loading:re,editConfig:$e,proxyConfig:qe}=e,{isZMax:Je,tableLoading:lt,tablePage:Ct}=o,rt=xe.value,ve=O.value,Me=$.value,ke=Object.assign({},rt);return Je&&(rt.maxHeight?ke.maxHeight="100%":ke.height="100%"),qe&&nr(ve)&&(ke.loading=re||lt,te&&ve.seq&&nr(Me)&&(ke.seqConfig=Object.assign({},U,{startIndex:(Ct.currentPage-1)*Ct.pageSize}))),$e&&(ke.editConfig=Object.assign({},$e)),ke}),L=ue(()=>{const{layouts:U}=e;let te=[];U&&U.length?te=U:te=Ma().grid.layouts||u;let re=[],$e=[],qe=[];return te.length&&(f.isArray(te[0])?(re=te[0],$e=te[1]||[],qe=te[2]||[]):$e=te),{headKeys:re,bodyKeys:$e,footKeys:qe}}),ne=ue(()=>{const U=$.value;return`${U.currentPage}${U.pageSize}`}),Ve={refElem:c,refTable:m,refForm:v,refToolbar:x,refPager:S},Le={computeProxyOpts:O,computePagerOpts:$,computeFormOpts:Y,computeToolbarOpts:H,computeZoomOpts:j},ee={xID:a,props:e,context:t,reactData:o,getRefMaps:()=>Ve,getComputeMaps:()=>Le},se=()=>{const U=H.value;e.toolbarConfig&&nr(U)&&ye(()=>{const te=m.value,re=x.value;te&&re&&te.connect(re)})},ae=()=>{const{proxyConfig:U}=e,{formData:te}=o,re=O.value,$e=Y.value;return U&&nr(re)&&re.form?te:$e.data},le=()=>{const{tablePage:U}=o,{pagerConfig:te}=e,re=$.value,{currentPage:$e,pageSize:qe}=re;te&&nr(re)&&($e&&(U.currentPage=$e),qe&&(U.pageSize=qe))},Ee=U=>{const te=G.value,re=m.value,$e=re.getCheckboxRecords();$e.length?(re.togglePendingRow($e),F.clearCheckboxRow()):te&&Se.modal&&Se.modal.message({id:U,content:Kl("vxe.grid.selectOneRecord"),status:"warning"})},Oe=(U,te)=>{const re=O.value,qe=(re.response||re.props||{}).message;let Je;return U&&qe&&(Je=f.isFunction(qe)?qe({data:U,$grid:ee}):f.get(U,qe)),Je||Kl(te)},Be=(U,te,re)=>{const $e=G.value,qe=F.getCheckboxRecords();if($e)if(qe.length){if(Se.modal)return Se.modal.confirm({id:`cfm_${U}`,content:Kl(te),escClosable:!0}).then(Je=>{if(Je==="confirm")return re()})}else Se.modal&&Se.modal.message({id:`msg_${U}`,content:Kl("vxe.grid.selectOneRecord"),status:"warning"});else qe.length&&re();return Promise.resolve()},K=U=>{const{proxyConfig:te}=e,{tablePage:re}=o,{$event:$e,currentPage:qe,pageSize:Je}=U,lt=O.value;re.currentPage=qe,re.pageSize=Je,ee.dispatchEvent("page-change",U,$e),te&&nr(lt)&&ee.commitProxy("query").then(Ct=>{ee.dispatchEvent("proxy-query",Ct,$e)})},pe=U=>{const te=m.value,{proxyConfig:re}=e,{computeSortOpts:$e}=te.getComputeMaps(),qe=O.value;$e.value.remote&&(o.sortData=U.sortList,re&&nr(qe)&&(o.tablePage.currentPage=1,X.commitProxy("query").then(lt=>{X.dispatchEvent("proxy-query",lt,U.$event)}))),X.dispatchEvent("sort-change",U,U.$event)},J=U=>{const te=m.value,{proxyConfig:re}=e,{computeFilterOpts:$e}=te.getComputeMaps(),qe=O.value;$e.value.remote&&(o.filterData=U.filterList,re&&nr(qe)&&(o.tablePage.currentPage=1,X.commitProxy("query").then(lt=>{X.dispatchEvent("proxy-query",lt,U.$event)}))),X.dispatchEvent("filter-change",U,U.$event)},ie=U=>{const{proxyConfig:te}=e,re=O.value;o.tableLoading||(te&&nr(re)&&X.commitProxy("reload").then($e=>{X.dispatchEvent("proxy-query",Object.assign(Object.assign({},$e),{isReload:!0}),U.$event)}),X.dispatchEvent("form-submit",U,U.$event))},Ae=U=>{const{proxyConfig:te}=e,{$event:re}=U,$e=O.value,qe=m.value;te&&nr($e)&&(qe.clearScroll(),X.commitProxy("reload").then(Je=>{X.dispatchEvent("proxy-query",Object.assign(Object.assign({},Je),{isReload:!0}),re)})),X.dispatchEvent("form-reset",U,re)},_e=U=>{X.dispatchEvent("form-submit-invalid",U,U.$event)},_=U=>{const{$event:te}=U;ye(()=>F.recalculate(!0)),X.dispatchEvent("form-toggle-collapse",U,te),X.dispatchEvent("form-collapse",U,te)},Fe=U=>{const{isZMax:te}=o;return(U?!te:te)&&(o.isZMax=!te,o.tZindex<mF()&&(o.tZindex=vF())),ye().then(()=>F.recalculate(!0)).then(()=>(setTimeout(()=>F.recalculate(!0),15),o.isZMax))},Pe=(U,te)=>{const re=U[te];if(re)if(f.isString(re)){if(n[re])return n[re];Bt("vxe.error.notSlot",[re])}else return re;return null},et=U=>{const te={};return f.objectMap(U,(re,$e)=>{re&&(f.isString(re)?n[re]?te[$e]=n[re]:Bt("vxe.error.notSlot",[re]):te[$e]=re)}),te},Ge=()=>{const{formConfig:U,proxyConfig:te}=e,{formData:re}=o,$e=O.value,qe=Y.value;if(U&&nr(qe)||n.form){let Je=[];if(n.form)Je=n.form({$grid:ee});else if(qe.items){const lt={};if(!qe.inited){qe.inited=!0;const Ct=$e.beforeItem;$e&&Ct&&qe.items.forEach(rt=>{Ct({$grid:ee,item:rt})})}qe.items.forEach(Ct=>{f.each(Ct.slots,rt=>{f.isFunction(rt)||n[rt]&&(lt[rt]=n[rt])})}),i&&Je.push(g(i,Object.assign(Object.assign({ref:v},Object.assign({},qe,{data:te&&nr($e)&&$e.form?re:qe.data})),{onSubmit:ie,onReset:Ae,onSubmitInvalid:_e,onCollapse:_}),lt))}return g("div",{ref:k,key:"form",class:"vxe-grid--form-wrapper"},Je)}return ua(ee)},ut=()=>{const{toolbarConfig:U}=e,te=H.value;if(U&&nr(te)||n.toolbar){let re=[];if(n.toolbar)re=n.toolbar({$grid:ee});else{const $e=te.slots;let qe,Je;const lt={};$e&&(qe=Pe($e,"buttons"),Je=Pe($e,"tools"),qe&&(lt.buttons=qe),Je&&(lt.tools=Je)),re.push(g(ZF,Object.assign({ref:x},te),lt))}return g("div",{ref:E,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},re)}return ua(ee)},gt=()=>n.top?g("div",{ref:D,key:"top",class:"vxe-grid--top-wrapper"},n.top({$grid:ee})):ua(ee),_t=()=>{const U=n.left;return U?g("div",{class:"vxe-grid--left-wrapper"},U({$grid:ee})):ua(ee)},qt=()=>{const U=n.right;return U?g("div",{class:"vxe-grid--right-wrapper"},U({$grid:ee})):ua(ee)},Ht=()=>{const{proxyConfig:U}=e,te=Z.value,re=O.value,$e=Object.assign({},ct),qe=n.empty,Je=n.loading,lt=n.rowDragIcon||n["row-drag-icon"],Ct=n.columnDragIcon||n["column-drag-icon"];U&&nr(re)&&(re.sort&&($e.onSortChange=pe),re.filter&&($e.onFilterChange=J));const rt={};return qe&&(rt.empty=qe),Je&&(rt.loading=Je),lt&&(rt.rowDragIcon=lt),Ct&&(rt.columnDragIcon=Ct),g("div",{class:"vxe-grid--table-wrapper"},[g(XF,Object.assign(Object.assign({ref:m},te),$e),rt)])},Tt=()=>n.bottom?g("div",{ref:P,key:"bottom",class:"vxe-grid--bottom-wrapper"},n.bottom({$grid:ee})):ua(ee),Dt=()=>{const{proxyConfig:U,pagerConfig:te}=e,re=O.value,$e=$.value,qe=n.pager;return te&&nr($e)||n.pager?g("div",{ref:V,key:"pager",class:"vxe-grid--pager-wrapper"},qe?qe({$grid:ee}):[d?g(d,Object.assign(Object.assign(Object.assign({ref:S},$e),U&&nr(re)?o.tablePage:{}),{onPageChange:K}),et($e.slots)):ua(ee)]):ua(ee)},Lt=U=>{const te=[];return U.forEach(re=>{switch(re){case"Form":te.push(Ge());break;case"Toolbar":te.push(ut());break;case"Top":te.push(gt());break;case"Table":te.push(g("div",{key:"table",class:"vxe-grid--table-container"},[_t(),Ht(),qt()]));break;case"Bottom":te.push(Tt());break;case"Pager":te.push(Dt());break;default:Bt("vxe.error.notProp",[`layouts -> ${re}`]);break}}),te},wt=()=>{const U=L.value,{headKeys:te,bodyKeys:re,footKeys:$e}=U,qe=n.asideLeft||n["aside-left"],Je=n.asideRight||n["aside-right"];return[g("div",{class:"vxe-grid--layout-header-wrapper"},Lt(te)),g("div",{class:"vxe-grid--layout-body-wrapper"},[qe?g("div",{class:"vxe-grid--layout-aside-left-wrapper"},qe({})):ua(ee),g("div",{class:"vxe-grid--layout-body-content-wrapper"},Lt(re)),Je?g("div",{class:"vxe-grid--layout-aside-right-wrapper"},Je({})):ua(ee)]),g("div",{class:"vxe-grid--layout-footer-wrapper"},Lt($e))]},ct={};yx.forEach(U=>{const te=f.camelCase(`on-${U}`);ct[te]=(...re)=>l(U,...re)});const bt=()=>{const{proxyConfig:U,formConfig:te}=e,{proxyInited:re}=o,$e=O.value,qe=Y.value;if(U&&nr($e)){if(te&&nr(qe)&&$e.form&&qe.items){const Je={};qe.items.forEach(lt=>{const{field:Ct,itemRender:rt}=lt;if(Ct){let ve=null;if(rt){const{defaultValue:Me}=rt;f.isFunction(Me)?ve=Me({item:lt}):f.isUndefined(Me)||(ve=Me)}Je[Ct]=ve}}),o.formData=Je}re||(o.proxyInited=!0,$e.autoLoad!==!1&&ye().then(()=>X.commitProxy("_init")).then(Je=>{X.dispatchEvent("proxy-query",Object.assign(Object.assign({},Je),{isInited:!0}),new Event("init"))}))}},St=U=>{const te=j.value;Sb.hasKey(U,j_.ESCAPE)&&o.isZMax&&te.escRestore!==!1&&W.triggerZoomEvent(U)},X={dispatchEvent:(U,te,re)=>{l(U,U_(re,{$grid:ee},te))},getEl(){return c.value},commitProxy(U,...te){const{toolbarConfig:re,pagerConfig:$e,editRules:qe,validConfig:Je}=e,{tablePage:lt}=o,Ct=G.value,rt=M.value,ve=O.value,Me=$.value,ke=H.value,{beforeQuery:Ue,afterQuery:Qe,beforeDelete:Xe,afterDelete:dt,beforeSave:Ke,afterSave:ft,ajax:Rt={}}=ve,Q=ve.response||ve.props||{},Re=m.value,nt=ae();let vt=null,st=null;if(f.isString(U)){const{buttons:pt}=ke,Pt=re&&nr(ke)&&pt?f.findTree(pt,yt=>yt.code===U,{children:"dropdowns"}):null;vt=Pt?Pt.item:null,st=U}else vt=U,st=vt.code;const It=vt?vt.params:null;switch(st){case"insert":return Re.insert({});case"insert_edit":return Re.insert({}).then(({row:pt})=>Re.setEditRow(pt));case"insert_actived":return Re.insert({}).then(({row:pt})=>Re.setEditRow(pt));case"mark_cancel":Ee(st);break;case"remove":return Be(st,"vxe.grid.removeSelectRecord",()=>Re.removeCheckboxRow());case"import":Re.importData(It);break;case"open_import":Re.openImport(It);break;case"export":Re.exportData(It);break;case"open_export":Re.openExport(It);break;case"reset_custom":return Re.resetCustom(!0);case"_init":case"reload":case"query":{const pt=Rt.query,Pt=Rt.querySuccess,yt=Rt.queryError;if(pt){const ht=st==="_init",Ut=st==="reload";if(!ht&&o.tableLoading)return ye();let Wt=[],jt=[],Qt={};if($e&&((ht||Ut)&&(lt.currentPage=1),nr(Me)&&(Qt=Object.assign({},lt))),ht){let zt=null;if(Re){const{computeSortOpts:dr}=Re.getComputeMaps();zt=dr.value.defaultSort}zt&&(f.isArray(zt)||(zt=[zt]),Wt=zt.map(dr=>({field:dr.field,property:dr.field,order:dr.order}))),Re&&(jt=Re.getCheckedFilters())}else Re&&(Ut?Re.clearAll():(Wt=Re.getSortColumns(),jt=Re.getCheckedFilters()));const ir={code:st,button:vt,isInited:ht,isReload:Ut,$grid:ee,page:Qt,sort:Wt.length?Wt[0]:{},sorts:Wt,filters:jt,form:nt,options:pt};return o.sortData=Wt,o.filterData=jt,o.tableLoading=!0,Promise.resolve((Ue||pt)(ir,...te)).then(zt=>{let dr=[];if(o.tableLoading=!1,zt)if($e&&nr(Me)){const pr=Q.total,Wr=(f.isFunction(pr)?pr({data:zt,$grid:ee}):f.get(zt,pr||"page.total"))||0;lt.total=f.toNumber(Wr);const $r=Q.result;dr=(f.isFunction($r)?$r({data:zt,$grid:ee}):f.get(zt,$r||"result"))||[];const an=Math.max(Math.ceil(Wr/lt.pageSize),1);lt.currentPage>an&&(lt.currentPage=an)}else{const pr=Q.list;dr=(pr?f.isFunction(pr)?pr({data:zt,$grid:ee}):f.get(zt,pr):zt)||[]}return Re?Re.loadData(dr):ye(()=>{Re&&Re.loadData(dr)}),Qe&&Qe(ir,...te),Pt&&Pt(Object.assign(Object.assign({},ir),{response:zt})),{status:!0}}).catch(zt=>(o.tableLoading=!1,yt&&yt(Object.assign(Object.assign({},ir),{response:zt})),{status:!1}))}else Bt("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const pt=Rt.delete,Pt=Rt.deleteSuccess,yt=Rt.deleteError;if(pt){const ht=F.getCheckboxRecords(),Ut=ht.filter(Qt=>!Re.isInsertByRow(Qt)),jt={$grid:ee,code:st,button:vt,body:{removeRecords:Ut},form:nt,options:pt};if(ht.length)return Be(st,"vxe.grid.deleteSelectRecord",()=>Ut.length?(o.tableLoading=!0,Promise.resolve((Xe||pt)(jt,...te)).then(Qt=>(o.tableLoading=!1,Re.setPendingRow(Ut,!1),rt&&Se.modal&&Se.modal.message({content:Oe(Qt,"vxe.grid.delSuccess"),status:"success"}),dt?dt(jt,...te):X.commitProxy("query"),Pt&&Pt(Object.assign(Object.assign({},jt),{response:Qt})),{status:!0})).catch(Qt=>(o.tableLoading=!1,rt&&Se.modal&&Se.modal.message({id:st,content:Oe(Qt,"vxe.grid.operError"),status:"error"}),yt&&yt(Object.assign(Object.assign({},jt),{response:Qt})),{status:!1}))):Re.remove(ht));Ct&&Se.modal&&Se.modal.message({id:st,content:Kl("vxe.grid.selectOneRecord"),status:"warning"})}else Bt("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const pt=Rt.save,Pt=Rt.saveSuccess,yt=Rt.saveError;if(pt){const ht=Re.getRecordset(),{insertRecords:Ut,removeRecords:Wt,updateRecords:jt,pendingRecords:Qt}=ht,ir={$grid:ee,code:st,button:vt,body:ht,form:nt,options:pt};Ut.length&&(ht.pendingRecords=Qt.filter(dr=>Re.findRowIndexOf(Ut,dr)===-1)),Qt.length&&(ht.insertRecords=Ut.filter(dr=>Re.findRowIndexOf(Qt,dr)===-1));let zt=Promise.resolve();return qe&&(zt=Re[Je&&Je.msgMode==="full"?"fullValidate":"validate"](ht.insertRecords.concat(jt))),zt.then(dr=>{if(!dr){if(ht.insertRecords.length||Wt.length||jt.length||ht.pendingRecords.length)return o.tableLoading=!0,Promise.resolve((Ke||pt)(ir,...te)).then(pr=>(o.tableLoading=!1,Re.clearPendingRow(),rt&&Se.modal&&Se.modal.message({content:Oe(pr,"vxe.grid.saveSuccess"),status:"success"}),ft?ft(ir,...te):X.commitProxy("query"),Pt&&Pt(Object.assign(Object.assign({},ir),{response:pr})),{status:!0})).catch(pr=>(o.tableLoading=!1,rt&&Se.modal&&Se.modal.message({id:st,content:Oe(pr,"vxe.grid.operError"),status:"error"}),yt&&yt(Object.assign(Object.assign({},ir),{response:pr})),{status:!1}));Ct&&Se.modal&&Se.modal.message({id:st,content:Kl("vxe.grid.dataUnchanged"),status:"info"})}})}else Bt("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const pt=B_.get(st);if(pt){const Pt=pt.tableCommandMethod||pt.commandMethod;Pt?Pt({code:st,button:vt,$grid:ee,$table:Re},...te):Bt("vxe.error.notCommands",[st])}}}return ye()},zoom(){return o.isZMax?X.revert():X.maximize()},isMaximized(){return o.isZMax},maximize(){return Fe(!0)},revert(){return Fe()},getFormData:ae,getFormItems(U){const te=Y.value,{formConfig:re}=e,{items:$e}=te,qe=[];return f.eachTree(re&&nr(te)&&$e?$e:[],Je=>{qe.push(Je)},{children:"children"}),f.isUndefined(U)?qe:qe[U]},getProxyInfo(){const U=m.value;if(e.proxyConfig){const{sortData:te}=o;return{data:U?U.getFullData():[],filter:o.filterData,form:ae(),sort:te.length?te[0]:{},sorts:te,pager:o.tablePage,pendingRecords:U?U.getPendingRecords():[]}}return null}},W={extendTableMethods:q,callSlot(U,te){return U&&(f.isString(U)&&(U=n[U]||null),f.isFunction(U))?Rn(U(te)):[]},getExcludeHeight(){const{isZMax:U}=o,te=c.value;if(te){const re=k.value,$e=E.value,qe=D.value,Je=P.value,lt=V.value,Ct=te.parentElement;return(U?0:Ct?Pb(Ct):0)+Pb(te)+Ai(re)+Ai($e)+Ai(qe)+Ai(Je)+Ai(lt)}return 0},getParentHeight(){const U=c.value;if(U){const te=U.parentElement;return(o.isZMax?kc().visibleHeight:te?f.toNumber(getComputedStyle(te).height):0)-W.getExcludeHeight()}return 0},triggerToolbarCommitEvent(U,te){const{code:re}=U;return X.commitProxy(U,te).then($e=>{re&&$e&&$e.status&&["query","reload","delete","save"].includes(re)&&X.dispatchEvent(re==="delete"||re==="save"?`proxy-${re}`:"proxy-query",Object.assign(Object.assign({},$e),{isReload:re==="reload"}),te)})},triggerToolbarBtnEvent(U,te){W.triggerToolbarCommitEvent(U,te),X.dispatchEvent("toolbar-button-click",{code:U.code,button:U},te)},triggerToolbarTolEvent(U,te){W.triggerToolbarCommitEvent(U,te),X.dispatchEvent("toolbar-tool-click",{code:U.code,tool:U},te)},triggerZoomEvent(U){X.zoom(),X.dispatchEvent("zoom",{type:o.isZMax?"max":"revert"},U)}};Object.assign(ee,F,X,W);const ge=it(0);er(()=>e.columns?e.columns.length:-1,()=>{ge.value++}),er(()=>e.columns,()=>{ge.value++}),er(ge,()=>{ye(()=>ee.loadColumn(e.columns||[]))}),er(()=>e.toolbarConfig,()=>{se()}),er(ne,()=>{le()}),er(()=>e.proxyConfig,()=>{bt()}),W_.forEach(U=>{const{setupGrid:te}=U;if(te){const re=te(ee);re&&f.isObject(re)&&Object.assign(ee,re)}}),le(),qn(()=>{ye(()=>{const{columns:U}=e;e.formConfig&&(i||Bt("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(d||Bt("vxe.error.reqComp",["vxe-pager"])),U&&U.length&&ee.loadColumn(U),se(),bt()}),Sb.on(ee,"keydown",St)}),Ao(()=>{Sb.off(ee,"keydown")});const be=()=>{const U=p.value,te=B.value;return g("div",{ref:c,class:["vxe-grid",{[`size--${U}`]:U,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":o.isZMax,"is--loading":e.loading||o.tableLoading}],style:te},wt())};return ee.renderVN=be,Ko("$xeGrid",ee),ee},render(){return this.renderVN()}}),JF=Object.assign({},ui,{install(e){e.component(ui.name,ui)}});Se.dynamicApp&&Se.dynamicApp.component(ui.name,ui);Se.component(ui);function X_(e,t,r){["query","querySuccess","queryError","queryAll","queryAllSuccess","queryAllError"].forEach(n=>{Z_(n,e,t,r)})}function Z_(e,t,r,n){var d;const{proxyConfig:l}=r,a=(d=l==null?void 0:l.ajax)==null?void 0:d[e];if(!Sl(a))return r;const i=(u,p,...o)=>Ba(this,null,function*(){const c=n();return yield a(u,Dr(Dr({},p instanceof PointerEvent?{}:p),c),...o)});t.setState({gridOptions:{proxyConfig:{ajax:{[e]:i}}}})}function J_(e){e.formats.add("formatDate",{tableCellFormatMethod({cellValue:t}){return F0(t)}}),e.formats.add("formatDateTime",{tableCellFormatMethod({cellValue:t}){return k0(t)}})}let JO=!1,QF;const Q_=(e="")=>Sr({name:e});function eq(){JO||(Se.component(XF),Se.component(qN),Se.component(_N),Se.component(JF),Se.component(ZF),Se.component(vx),Se.component(nF),Se.component(Q_("VxeForm")),Se.component(oF),Se.component(aF),Se.component(mx),Se.component(iF),Se.component(sF),Se.component(cF),Se.component(uF),Se.component(dF),Se.component(fF),Se.component(hF),JO=!0)}function tq(e){const{configVxeTable:t,useVbenForm:r}=e;eq(),QF=r;const n=cT(),l={"zh-CN":fN,"en-US":cN};er([()=>n.theme.value,()=>n.locale.value],([a,i])=>{Se.setTheme(a==="dark"?"dark":"light"),Se.setI18n(i,l[i]),Se.setLanguage(i)},{immediate:!0}),J_(Se),t(Se)}function rq(){return{class:"",gridClass:"",gridOptions:{},gridEvents:{},formOptions:void 0,showSearchForm:!0}}class nq{constructor(t={}){vl(this,"isMounted",!1);vl(this,"stateHandler");vl(this,"formApi",{});vl(this,"grid",{});vl(this,"state",null);vl(this,"store");const r=Dr({},t),n=rq();this.store=new G0(El(r,n),{onUpdate:()=>{this.state=this.store.state}}),this.state=this.store.state,this.stateHandler=new $0,A0(this)}mount(t,r){!this.isMounted&&t&&(this.grid=t,this.formApi=r,this.stateHandler.setConditionTrue(),this.isMounted=!0)}query(){return Ba(this,arguments,function*(t={}){try{yield this.grid.commitProxy("query",ka(t))}catch(r){console.error("Error occurred while querying:",r)}})}reload(){return Ba(this,arguments,function*(t={}){try{yield this.grid.commitProxy("reload",ka(t))}catch(r){console.error("Error occurred while reloading:",r)}})}setGridOptions(t){this.setState({gridOptions:t})}setLoading(t){this.setState({gridOptions:{loading:t}})}setState(t){Sl(t)?this.store.setState(r=>El(t(r),r)):this.store.setState(r=>El(t,r))}toggleSearchForm(t){var r,n;return this.setState({showSearchForm:Lb(t)?t:!((r=this.state)!=null&&r.showSearchForm)}),(n=this.state)==null?void 0:n.showSearchForm}unmount(){this.isMounted=!1,this.stateHandler.reset()}}const oq={class:"mr-1 pl-1 text-[1rem]"},aq={class:"mt-2"},Eb="form-",Hs="toolbar-actions",Vs="toolbar-tools",lq=Sr({__name:"use-vxe-grid",props:{api:{},tableTitle:{},tableTitleHelp:{},class:{},gridClass:{},gridOptions:{},gridEvents:{},formOptions:{},showSearchForm:{type:Boolean},separator:{type:[Boolean,Object]}},setup(e){var B,xe;const t=e,r=P0("gridRef"),n=(xe=(B=t.api)==null?void 0:B.useStore)==null?void 0:xe.call(B),{gridOptions:l,class:a,gridClass:i,gridEvents:d,formOptions:u,tableTitle:p,tableTitleHelp:o,showSearchForm:c,separator:m}=sk(t,n),{isMobile:v}=cT(),x=ue(()=>!u.value||c.value===!1||m.value===!1?!1:m.value===!0||m.value===void 0?!0:m.value.show!==!1),S=ue(()=>!m.value||Lb(m.value)||!m.value.backgroundColor?void 0:m.value.backgroundColor),k=L0(),[E,D]=QF({compact:!0,handleSubmit:()=>Ba(this,null,function*(){const Z=yield D.getValues();Object.keys(Z).forEach(ne=>{Z[ne]===""&&(Z[ne]=void 0)}),D.setLatestSubmissionValues(ka(Z)),t.api.reload(Z)}),handleReset:()=>Ba(this,null,function*(){var ne;const Z=yield D.getValues();yield D.resetForm();const L=yield D.getValues();D.setLatestSubmissionValues(L),(N0(Z,L)||!((ne=u.value)!=null&&ne.submitOnChange))&&t.api.reload(L)}),commonConfig:{componentProps:{class:"w-full"}},showCollapseButton:!0,submitButtonOptions:{content:ue(()=>xo("common.search"))},wrapperClass:"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}),P=ue(()=>{var Z;return!!((Z=k.tableTitle)!=null&&Z.call(k))||p.value}),V=ue(()=>{var Z,L;return!!((Z=k[Hs])!=null&&Z.call(k))||!!((L=k[Vs])!=null&&L.call(k))||P.value}),q=ue(()=>{var Le,ee,se,ae,le,Ee,Oe;const Z=(Le=k[Hs])==null?void 0:Le.call(k),L=(ee=k[Vs])==null?void 0:ee.call(k),ne={code:"search",icon:"vxe-icon-search",circle:!0,status:c.value?"primary":void 0,title:xo("common.search")},Ve={tools:(le=(ae=(se=l.value)==null?void 0:se.toolbarConfig)==null?void 0:ae.tools)!=null?le:[]};return(Oe=(Ee=l.value)==null?void 0:Ee.toolbarConfig)!=null&&Oe.search&&u.value&&(Ve.tools=Array.isArray(Ve.tools)?[...Ve.tools,ne]:[ne]),V.value?(Ve.slots=Dr(Dr({},Z||P.value?{buttons:Hs}:{}),L?{tools:Vs}:{}),{toolbarConfig:Ve}):{toolbarConfig:Ve}}),F=ue(()=>{var ne,Ve;const Z=(Ve=(ne=Se==null?void 0:Se.getConfig())==null?void 0:ne.grid)!=null?Ve:{},L=_0(El({},ka(q.value),ka(l.value),Z));if(L.proxyConfig){const{ajax:Le}=L.proxyConfig;L.proxyConfig.enabled=!!Le,L.proxyConfig.autoLoad=!1}if(L.pagerConfig){const Le=["PrevJump","PrevPage","Number","NextPage","NextJump"],ee=["Total","Sizes","Home",...Le,"End"];L.pagerConfig=El({},L.pagerConfig,{pageSize:20,background:!0,pageSizes:[10,20,30,50,100,200],className:"mt-2 w-full",layouts:v.value?Le:ee,size:"mini"})}return L.formConfig&&(L.formConfig.enabled=!1),L});function O(Z){var L,ne;Z.code==="search"&&M(),(ne=(L=d.value)==null?void 0:L.toolbarToolClick)==null||ne.call(L,Z)}function M(){var Z,L;(L=(Z=t.api)==null?void 0:Z.toggleSearchForm)==null||L.call(Z)}const G=ue(()=>la(Dr({},d.value),{toolbarToolClick:O})),$=ue(()=>{const Z=[];for(const L of Object.keys(k))["empty","form","loading",Hs,Vs].includes(L)||Z.push(L);return Z}),Y=ue(()=>{const Z=[];for(const L of Object.keys(k))L.startsWith(Eb)&&Z.push(L);return Z.map(L=>L.replace(Eb,""))});function H(){return Ba(this,null,function*(){var ee,se,ae,le,Ee,Oe,Be,K,pe,J;yield ye();const Z=(se=(ee=Se==null?void 0:Se.getConfig())==null?void 0:ee.grid)!=null?se:{},L=El({},ka(l.value),ka(Z)),ne=(ae=L.proxyConfig)==null?void 0:ae.autoLoad;((le=F.value.proxyConfig)==null?void 0:le.enabled)&&ne&&((Be=(Oe=t.api.grid).commitProxy)==null||Be.call(Oe,"_init",u.value?(Ee=yield D.getValues())!=null?Ee:{}:{}));const Le=(K=l.value)==null?void 0:K.formConfig;Le&&Le.enabled&&console.warn("[Vben Vxe Table]: The formConfig in the grid is not supported, please use the `formOptions` props"),(J=(pe=t.api)==null?void 0:pe.setState)==null||J.call(pe,{gridOptions:L}),X_(t.api,L,()=>D.getLatestSubmissionValues())})}er(u,()=>{D.setState(Z=>{const L=El({},u.value,Z);return la(Dr({},L),{collapseTriggerResize:!!L.showCollapseButton})})},{immediate:!0});const j=ue(()=>{var Z;return(Z=D.getState())==null?void 0:Z.compact});return qn(()=>{var Z,L;(L=(Z=t.api)==null?void 0:Z.mount)==null||L.call(Z,r.value,D),H()}),Ao(()=>{var Z,L,ne;(Z=D==null?void 0:D.unmount)==null||Z.call(D),(ne=(L=t.api)==null?void 0:L.unmount)==null||ne.call(L)}),(Z,L)=>(En(),Za("div",{class:Nx(hr(Yc)("bg-card h-full rounded-md",hr(a)))},[kr(hr(JF),Hi({ref_key:"gridRef",ref:r,class:hr(Yc)("p-2",{"pt-0":V.value&&!hr(u)},hr(i))},F.value,V0(G.value)),Ql({"toolbar-tools":Pr(ne=>{var Ve,Le;return[bo(Z.$slots,"toolbar-tools",Wa(Ga(ne))),(Le=(Ve=hr(l))==null?void 0:Ve.toolbarConfig)!=null&&Le.search&&hr(u)?(En(),Ia(hr(vx),{key:0,icon:"vxe-icon-search",circle:"",class:"ml-2",status:hr(c)?"primary":void 0,title:hr(xo)("common.search"),onClick:M},null,8,["status","title"])):Ze("",!0)]}),form:Pr(()=>[hr(u)?q0((En(),Za("div",{key:0,class:Nx(hr(Yc)("relative rounded py-3",j.value?x.value?"pb-8":"pb-4":x.value?"pb-4":"pb-0"))},[bo(Z.$slots,"form",{},()=>[kr(hr(E),null,Ql({"reset-before":Pr(ne=>[bo(Z.$slots,"reset-before",Wa(Ga(ne)))]),"submit-before":Pr(ne=>[bo(Z.$slots,"submit-before",Wa(Ga(ne)))]),"expand-before":Pr(ne=>[bo(Z.$slots,"expand-before",Wa(Ga(ne)))]),"expand-after":Pr(ne=>[bo(Z.$slots,"expand-after",Wa(Ga(ne)))]),_:2},[rc(Y.value,ne=>({name:ne,fn:Pr(Ve=>[bo(Z.$slots,`${Eb}${ne}`,Wa(Ga(Ve)))])}))]),1024)]),x.value?(En(),Za("div",{key:0,style:H0(Dr({},S.value?{backgroundColor:S.value}:void 0)),class:"bg-background-deep z-100 absolute -left-2 bottom-1 h-2 w-[calc(100%+1rem)] overflow-hidden md:bottom-2 md:h-3"},null,4)):Ze("",!0)],2)),[[dk,hr(c)!==!1]]):Ze("",!0)]),loading:Pr(()=>[bo(Z.$slots,"loading",{},()=>[kr(hr(uk),{spinning:!0})])]),empty:Pr(()=>[bo(Z.$slots,"empty",{},()=>[kr(hr(ck),{class:"mx-auto"}),nc("div",aq,Rl(hr(xo)("common.noData")),1)])]),_:2},[V.value?{name:"toolbar-actions",fn:Pr(ne=>[P.value?bo(Z.$slots,"table-title",{key:0},()=>[nc("div",oq,[Bi(Rl(hr(p))+" ",1),hr(o)?(En(),Ia(hr(U0),{key:0,"trigger-class":"pb-1"},{default:Pr(()=>[Bi(Rl(hr(o)),1)]),_:1})):Ze("",!0)])]):Ze("",!0),bo(Z.$slots,"toolbar-actions",Wa(Ga(ne)))]),key:"0"}:void 0,rc($.value,ne=>({name:ne,fn:Pr(Ve=>[bo(Z.$slots,ne,Wa(Ga(Ve)))])}))]),1040,["class"])],2))}});function mq(e){const t=new nq(e),r=t;return r.useStore=l=>j0(t.store,l),[Sr((l,{attrs:a,slots:i})=>(Ki(()=>{t.unmount()}),t.setState(Dr(Dr({},l),a)),()=>g(lq,la(Dr(Dr({},l),a),{api:r}),i)),{inheritAttrs:!1,name:"VbenVxeGrid"}),r]}tq({configVxeTable:e=>{e.setConfig({grid:{align:"center",border:!1,columnConfig:{resizable:!0},formConfig:{enabled:!1},minHeight:180,rowConfig:{isHover:!0},proxyConfig:{autoLoad:!0,response:{result:"data",total:"total",list:"data"},showActiveMsg:!0,showResponseMsg:!1},round:!0,showOverflow:!0,size:"small"}}),e.renderer.forEach((t,r)=>{r.startsWith("Cell")&&e.renderer.delete(r)}),e.renderer.add("CellImage",{renderTableDefault(t,r){const{column:n,row:l}=r;return l[n.field].endsWith("png")||l[n.field].endsWith("jpg")||l[n.field].endsWith("jpeg")||l[n.field].endsWith("svg")?g(mk,{src:l[n.field]}):""}}),e.renderer.add("CellLink",{renderTableDefault(t){const{props:r}=t;return g(oi,{size:"small",type:"link"},{default:()=>r==null?void 0:r.text})}}),e.renderer.add("CellTag",{renderTableDefault({options:t,props:r},{column:n,row:l}){const a=z0(l,n.field),d=(t!=null?t:[{color:"success",label:xo("common.enabled"),value:1},{color:"error",label:xo("common.disabled"),value:0}]).find(u=>u.value===a);return g(fk,Dr(Dr({},r),B0(d!=null?d:{},["label"])),{default:()=>{var u;return(u=d==null?void 0:d.label)!=null?u:a}})}}),e.renderer.add("CellSwitch",{renderTableDefault({attrs:t,props:r},{column:n,row:l}){var u;const a=`__loading_${n.field}`,i=la(Dr({checkedChildren:xo("common.enabled"),checkedValue:1,unCheckedChildren:xo("common.disabled"),unCheckedValue:0},r),{checked:l[n.field],loading:(u=l[a])!=null?u:!1,"onUpdate:checked":d});function d(p){return Ba(this,null,function*(){var o;l[a]=!0;try{(yield(o=t==null?void 0:t.beforeChange)==null?void 0:o.call(t,p,l))!==!1&&(l[n.field]=p)}finally{l[a]=!1}})}return g(bk,i)}}),e.renderer.add("CellOperation",{renderTableDefault({attrs:t,options:r,props:n},{column:l,row:a}){const i=Dr({size:"small",type:"link"},n);let d="end";switch(l.align){case"center":{d="center";break}case"left":{d="start";break}default:{d="end";break}}const u={delete:{danger:!0,text:xo("common.delete")},edit:{text:xo("common.edit")}},p=(r||["edit","delete"]).map(v=>W0(v)?u[v]?Dr(Dr({code:v},u[v]),i):Dr({code:v,text:pk(`common.${v}`)?xo(`common.${v}`):v},i):Dr(Dr(Dr({},i),u[v.code]),v)).map(v=>{const x={};return Object.keys(v).forEach(S=>{x[S]=Sl(v[S])?v[S](a):v[S]}),x}).filter(v=>v.show!==!1);function o(v,x=!0){return g(oi,la(Dr(Dr({},n),v),{icon:void 0,onClick:x?()=>{var S;return(S=t==null?void 0:t.onClick)==null?void 0:S.call(t,{code:v.code,row:a})}:void 0}),{default:()=>{const S=[];return v.icon&&S.push(g(Ka,{class:"size-5",icon:v.icon})),S.push(v.text),S}})}function c(v){return g(Db,la(Dr(Dr({getPopupContainer(x){return x.closest("tbody")||document.body},placement:"topLeft",title:xo("ui.actionTitle.delete",[(t==null?void 0:t.nameTitle)||""])},n),v),{icon:void 0,onConfirm:()=>{var x;(x=t==null?void 0:t.onClick)==null||x.call(t,{code:v.code,row:a})}}),{default:()=>o(Dr({},v),!1),description:()=>g("div",{class:"truncate"},xo("ui.actionMessage.deleteConfirm",[a[(t==null?void 0:t.nameField)||"name"]]))})}const m=p.map(v=>v.code==="delete"?c(v):o(v));return g("div",{class:"flex table-operations",style:{justifyContent:d}},m)}})},useVbenForm:vk});const iq={class:"m-table-action"},sq={class:"ml-1"},bq=Sr({__name:"TableAction",props:{actions:{type:Array,default(){return[]}},dropDownActions:{type:Array,default(){return[]}},divider:{type:Boolean,default:!0}},setup(e){const t=e,r=Vx.Item,{hasAccessByCodes:n}=hk();function l(o){const c=o.ifShow;let m=!0;return Lb(c)&&(m=c),Sl(c)&&(m=c(o)),m}const a=ue(()=>(ka(t.actions)||[]).filter(o=>(n(o.auth||[])||(o.auth||[]).length===0)&&l(o)).map(o=>{const{popConfirm:c}=o;return la(Dr(Dr({type:"link"},o),c),{onConfirm:c==null?void 0:c.confirm,onCancel:c==null?void 0:c.cancel,enable:!!c})})),i=ue(()=>(ka(t.dropDownActions)||[]).filter(o=>(n(o.auth||[])||(o.auth||[]).length===0)&&l(o)).map((o,c)=>{const{label:m,popConfirm:v}=o;return la(Dr(Dr({},o),v),{onConfirm:v==null?void 0:v.confirm,onCancel:v==null?void 0:v.cancel,text:m,divider:c<t.dropDownActions.length-1?t.divider:!1})})),d=o=>{const c=o;return delete c.icon,o.confirm&&Sl(o.confirm)&&(c.onConfirm=o.confirm,delete c.confirm),o.cancel&&Sl(o.cancel)&&(c.onCancel=o.cancel,delete c.cancel),delete c.tooltip,c},u=o=>{let c="";switch(o.color){case"error":{c="text-red-500 hover:!text-red-400";break}case"success":{c="text-green-500 hover:!text-green-400";break}case"warning":{c="text-yellow-500 hover:!text-yellow-400";break}default:{c="text-blue-500 hover:!text-blue-400";break}}const m=la(Dr({type:o.type||"primary"},o),{class:c});return delete m.icon,delete m.tooltip,m},p=o=>{const c=i.value[o.key];c.onClick&&Sl(c.onClick)&&c.onClick()};return(o,c)=>(En(),Za("div",iq,[kr(hr(xk),{size:2},{default:Pr(()=>[(En(!0),Za(qi,null,rc(a.value,(m,v)=>(En(),Za(qi,{key:v},[m.popConfirm?(En(),Ia(hr(Db),Hi({key:0,ref_for:!0},d(m.popConfirm)),Ql({default:Pr(()=>[kr(hr(zs),{title:m.tooltip},{default:Pr(()=>[kr(hr(oi),Hi({style:{},title:"",ref_for:!0},u(m)),Ql({default:Pr(()=>[Bi(" "+Rl(m.label),1)]),_:2},[m.icon?{name:"icon",fn:Pr(()=>[kr(hr(Ka),{icon:m.icon},null,8,["icon"])]),key:"0"}:void 0]),1040)]),_:2},1032,["title"])]),_:2},[m.popConfirm.icon?{name:"icon",fn:Pr(()=>[kr(hr(zs),{title:m.tooltip},{default:Pr(()=>[kr(hr(Ka),{icon:m.popConfirm.icon},null,8,["icon"])]),_:2},1032,["title"])]),key:"0"}:void 0]),1040)):(En(),Ia(hr(zs),{key:1,title:m.tooltip},{default:Pr(()=>[kr(hr(oi),Hi({ref_for:!0},u(m),{onClick:m.onClick}),Ql({default:Pr(()=>[Bi(" "+Rl(m.label),1)]),_:2},[m.icon?{name:"icon",fn:Pr(()=>[kr(hr(Ka),{icon:m.icon},null,8,["icon"])]),key:"0"}:void 0]),1040,["onClick"])]),_:2},1032,["title"]))],64))),128))]),_:1}),i.value.length>0?(En(),Ia(hr(gk),{key:0,trigger:["hover"]},{overlay:Pr(()=>[kr(hr(Vx),{onClick:p},{default:Pr(()=>[(En(!0),Za(qi,null,rc(i.value,(m,v)=>(En(),Ia(hr(r),{key:v},{default:Pr(()=>[m.popConfirm?(En(),Ia(hr(Db),Hi({key:0,ref_for:!0},d(m.popConfirm)),Ql({default:Pr(()=>[nc("div",null,[m.icon?(En(),Ia(hr(Ka),{key:0,icon:m.icon},null,8,["icon"])):Ze("",!0),nc("span",sq,Rl(m.text),1)])]),_:2},[m.popConfirm.icon?{name:"icon",fn:Pr(()=>[kr(hr(Ka),{icon:m.popConfirm.icon},null,8,["icon"])]),key:"0"}:void 0]),1040)):(En(),Za(qi,{key:1},[m.icon?(En(),Ia(hr(Ka),{key:0,icon:m.icon},null,8,["icon"])):Ze("",!0),Bi(" "+Rl(m.label),1)],64))]),_:2},1024))),128))]),_:1})]),default:Pr(()=>[bo(o.$slots,"more",{},()=>[kr(hr(oi),{size:"small",type:"link"},{icon:Pr(()=>[kr(hr(Ka),{class:"icon-more",icon:"ant-design:more-outlined"})]),_:1})])]),_:3})):Ze("",!0)]))}});export{bq as _,mq as u};
