var O=(t,a,e)=>new Promise((s,l)=>{var u=n=>{try{p(e.next(n))}catch(f){l(f)}},c=n=>{try{p(e.throw(n))}catch(f){l(f)}},p=n=>n.done?s(n.value):Promise.resolve(n.value).then(u,c);p((e=e.apply(t,a)).next())});import{U as V,cy as U,cz as D,ap as d,cA as P,bp as h,cB as I}from"./bootstrap-D7b_84de.js";import{x,V as j,bL as B,O as L,aY as C,Q as H,Z as N,_ as z,U as v,a0 as A,$ as _,as as b,a6 as g,a5 as $}from"../jse/index-index-DpiZBZ8E.js";var E={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0060.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"}}]},name:"inbox",theme:"outlined"};function w(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?Object(arguments[a]):{},s=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(e).filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable}))),s.forEach(function(l){F(t,l,e[l])})}return t}function F(t,a,e){return a in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}var y=function(a,e){var s=w({},a,e.attrs);return x(V,w({},s,{icon:E}),null)};y.displayName="InboxOutlined";y.inheritAttrs=!1;function S(...t){return U(Object.values,t)}const M={class:"ant-upload-drag-icon"},R={class:"ant-upload-text"},q={class:"ant-upload-hint"},Z=j({name:"UploadDragger",__name:"UploadDragger",props:{multiple:{type:Boolean,default:!0},provider:{type:String,default:"local"},value:{type:[Array,Object,String,Number],default:void 0}},emits:["update:value"],setup(t,{emit:a}){const e=t,s=a,{copy:l}=B(),u={},c=L(),p=C(e,"value",s,{defaultValue:e.value,passive:!0});function n(i){return O(this,null,function*(){if(e.provider==="local"){const o=yield P(i.file);c.value!==void 0&&c.value.forEach(r=>{if(r.uid===i.file.uid){const m=o.code!==void 0&&o.code===0;r.status=m?"done":"error",m&&(u[r.uid]=o.data.url,h.success(d("component.upload.uploadSuccess")))}})}else{const o=yield I(i.file,e.provider);c.value!==void 0&&c.value.forEach(r=>{if(r.uid===i.file.uid){const m=o.code!==void 0&&o.code===0;r.status=m?"done":"error",m&&(u[r.uid]=o.data.url,h.success(d("component.upload.uploadSuccess")))}})}})}H(()=>u.value,()=>{p.value=e.multiple?S(u):S(u)[0]},{deep:!0});function f(i){l(u[i.uid]),h.success(d("fms.file.copyPathSuccess"))}return(i,o)=>(z(),N(v(D),A({"file-list":c.value,"onUpdate:fileList":o[0]||(o[0]=r=>c.value=r),"custom-request":n,multiple:e.multiple,"show-upload-list":{showDownloadIcon:!0,showRemoveIcon:!1},onDownload:f},i.$attrs),{"download-icon":_(()=>[$(g(v(d)("fms.file.copyURL")),1)]),default:_(()=>[b("p",M,[x(v(y))]),b("p",R,g(v(d)("component.upload.uploadHelpMessage")),1),b("p",q,g(v(d)("component.upload.supportAnyFormat")),1)]),_:1},16,["file-list","multiple"]))}});export{Z as _};
