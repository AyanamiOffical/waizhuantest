var d=(f,m,o)=>new Promise((i,l)=>{var n=e=>{try{s(o.next(e))}catch(a){l(a)}},c=e=>{try{s(o.throw(e))}catch(a){l(a)}},s=e=>e.done?i(e.value):Promise.resolve(e.value).then(n,c);s((o=o.apply(f,m)).next())});import{u as g}from"./form-ZuhkTVCu.js";import{d as P,u as b,c as w}from"./schemas-CJgAfbaQ.js";import{ap as _,bp as x}from"./bootstrap-_LeX4-bm.js";import{V as A,O as u,Z as C,_ as E,$ as F,x as V,U as h}from"../jse/index-index-CCysr0kX.js";import{u as D}from"./use-modal-OeyNsIFo.js";const R=A({name:"EmailProviderForm",__name:"form",setup(f,{expose:m}){const o=u(),i=u(!1),l=u();function n(t){return d(this,null,function*(){const r=i.value?yield b(t):yield w(t);r.code===0&&(x.success(r.msg),l.value.reload())})}const[c,s]=g({handleSubmit:n,schema:[...P.schema],showDefaultActions:!1,layout:"vertical"}),[e,a]=D({fullscreenButton:!1,onCancel(){a.close()},onConfirm:()=>d(this,null,function*(){(yield s.validate()).valid&&(yield s.submitForm(),a.close())}),onOpenChange(t){var r,p,v;i.value=(r=a.getData())==null?void 0:r.isUpdate,o.value=t?((p=a.getData())==null?void 0:p.record)||{}:{},l.value=t?(v=a.getData())==null?void 0:v.gridApi:null,t&&s.setValues(o.value),a.setState({title:i.value?_("mcms.emailProvider.editEmailProvider"):_("mcms.emailProvider.addEmailProvider")})}});return m(a),(t,r)=>(E(),C(h(e),null,{default:F(()=>[V(h(c))]),_:1}))}});export{R as _};
