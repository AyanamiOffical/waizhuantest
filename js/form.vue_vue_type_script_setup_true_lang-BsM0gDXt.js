var p=(s,l,o)=>new Promise((m,n)=>{var c=a=>{try{r(o.next(a))}catch(e){n(e)}},u=a=>{try{r(o.throw(a))}catch(e){n(e)}},r=a=>a.done?m(a.value):Promise.resolve(a.value).then(c,u);r((o=o.apply(s,l)).next())});import{u as P}from"./form-ZuhkTVCu.js";import{b1 as d,ap as S,bp as h}from"./bootstrap-_LeX4-bm.js";import{d as b}from"./schemas-D3CstM9W.js";import{V as y,O as v,Z as w,_ as C,$ as x,x as A,U as g}from"../jse/index-index-CCysr0kX.js";import{u as F}from"./use-modal-OeyNsIFo.js";const q=s=>d.post("/sys-api/sms_provider/list",s),V=s=>d.post("/sys-api/sms_provider/create",s),D=s=>d.post("/sys-api/sms_provider/update",s),L=s=>d.post("/sys-api/sms_provider/delete",s),N=y({name:"SmsProviderForm",__name:"form",setup(s,{expose:l}){const o=v(),m=v(!1),n=v();function c(t){return p(this,null,function*(){const i=m.value?yield D(t):yield V(t);i.code===0&&(h.success(i.msg),n.value.reload())})}const[u,r]=P({handleSubmit:c,schema:[...b.schema],showDefaultActions:!1,layout:"vertical"}),[a,e]=F({fullscreenButton:!1,onCancel(){e.close()},onConfirm:()=>p(this,null,function*(){(yield r.validate()).valid&&(yield r.submitForm(),e.close())}),onOpenChange(t){var i,f,_;m.value=(i=e.getData())==null?void 0:i.isUpdate,o.value=t?((f=e.getData())==null?void 0:f.record)||{}:{},n.value=t?(_=e.getData())==null?void 0:_.gridApi:null,t&&r.setValues(o.value),e.setState({title:m.value?S("mcms.smsProvider.editSmsProvider"):S("mcms.smsProvider.addSmsProvider")})}});return l(e),(t,i)=>(C(),w(g(a),null,{default:x(()=>[A(g(u))]),_:1}))}});export{N as _,L as d,q as g};
