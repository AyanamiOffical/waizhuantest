var u=(f,i,n)=>new Promise((r,l)=>{var c=t=>{try{m(n.next(t))}catch(a){l(a)}},d=t=>{try{m(n.throw(t))}catch(a){l(a)}},m=t=>t.done?r(t.value):Promise.resolve(t.value).then(c,d);m((n=n.apply(f,i)).next())});import{u as y}from"./form-ClcOlmjz.js";import{u as h,c as v}from"./memberRank-CtX9uUTv.js";import{ap as e,bp as _}from"./bootstrap-C83mKH3e.js";import{V as g,O as p,Z as I,_ as N,$ as w,x as F,U as R}from"../jse/index-index-GzxSC5Ev.js";import{u as M}from"./use-modal-C-YiCEuI.js";const U={columns:[{type:"checkbox",width:60},{title:e("sys.memberRank.name"),field:"trans"},{title:e("sys.memberRank.description"),field:"description"},{title:e("sys.memberRank.remark"),field:"remark"},{title:e("common.createTime"),field:"createdAt",formatter:"formatDateTime"}]},q={schema:[{fieldName:"name",label:e("sys.memberRank.name"),component:"Input"},{fieldName:"description",label:e("sys.memberRank.description"),component:"Input"},{fieldName:"remark",label:e("sys.memberRank.remark"),component:"Input"}]},x={schema:[{fieldName:"id",label:"ID",component:"Input",dependencies:{show:!1,triggerFields:["id"]}},{fieldName:"name",label:e("sys.memberRank.name"),component:"Input",rules:"required"},{fieldName:"code",label:e("sys.memberRank.code"),component:"Input",rules:"required"},{fieldName:"description",label:e("sys.memberRank.description"),component:"Input"},{fieldName:"remark",label:e("sys.memberRank.remark"),component:"Input"}]},T=g({name:"MemberRankForm",__name:"form",setup(f,{expose:i}){const n=p(),r=p(!1),l=p();function c(s){return u(this,null,function*(){const o=r.value?yield h(s):yield v(s);o.code===0&&(_.success(o.msg),l.value.reload())})}const[d,m]=y({handleSubmit:c,schema:[...x.schema],showDefaultActions:!1,layout:"vertical"}),[t,a]=M({fullscreenButton:!1,onCancel(){a.close()},onConfirm:()=>u(this,null,function*(){(yield m.validate()).valid&&(yield m.submitForm(),a.close())}),onOpenChange(s){var o,b,k;r.value=(o=a.getData())==null?void 0:o.isUpdate,n.value=s?((b=a.getData())==null?void 0:b.record)||{}:{},l.value=s?(k=a.getData())==null?void 0:k.gridApi:null,s&&m.setValues(n.value),a.setState({title:r.value?e("sys.memberRank.editMemberRank"):e("sys.memberRank.addMemberRank")})}});return i(a),(s,o)=>(N(),I(R(t),null,{default:w(()=>[F(R(d))]),_:1}))}});export{T as _,q as s,U as t};
