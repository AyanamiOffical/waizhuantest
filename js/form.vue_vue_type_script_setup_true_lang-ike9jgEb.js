var m=(f,c,o)=>new Promise((r,n)=>{var l=t=>{try{s(o.next(t))}catch(a){n(a)}},u=t=>{try{s(o.throw(t))}catch(a){n(a)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(l,u);s((o=o.apply(f,c)).next())});import{u as D}from"./form-CK_zT3Xn.js";import{a as h,u as g,c as b}from"./schemas-BQZ0oj6i.js";import{ap as v,bp as w}from"./bootstrap-BWmjjFp9.js";import{V as x,O as d,Z as A,_ as C,$ as F,x as V,U as _}from"../jse/index-index-DuhpPpLg.js";import{u as S}from"./use-modal-CjlieS99.js";const N=x({name:"DictionaryForm",__name:"form",setup(f,{expose:c}){const o=d(),r=d(!1),n=d();function l(e){return m(this,null,function*(){const i=r.value?yield g(e):yield b(e);i.code===0&&(w.success(i.msg),n.value.reload())})}const[u,s]=D({handleSubmit:l,schema:[...h.schema],showDefaultActions:!1,layout:"vertical"}),[t,a]=S({fullscreenButton:!1,onCancel(){a.close()},onConfirm:()=>m(this,null,function*(){(yield s.validate()).valid&&(yield s.submitForm(),a.close())}),onOpenChange(e){var i,p,y;r.value=(i=a.getData())==null?void 0:i.isUpdate,o.value=e?((p=a.getData())==null?void 0:p.record)||{}:{},n.value=e?(y=a.getData())==null?void 0:y.gridApi:null,e&&s.setValues(o.value),a.setState({title:r.value?v("sys.dictionary.editDictionary"):v("sys.dictionary.addDictionary")})}});return c(a),(e,i)=>(C(),A(_(t),null,{default:F(()=>[V(_(u))]),_:1}))}});export{N as _};
