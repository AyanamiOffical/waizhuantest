var d=(f,m,t)=>new Promise((c,s)=>{var a=e=>{try{n(t.next(e))}catch(o){s(o)}},l=e=>{try{n(t.throw(e))}catch(o){s(o)}},n=e=>e.done?c(e.value):Promise.resolve(e.value).then(a,l);n((t=t.apply(f,m)).next())});import{ap as i,d5 as _,cf as g,d2 as y}from"./bootstrap-D7b_84de.js";import{r as C}from"./chunk-BZNENX2T-BoCj3v1U.js";import{_ as x,u as h}from"./TableAction.vue_vue_type_style_index_0_lang-CfMXA73L.js";import{_ as M,t as b}from"./form.vue_vue_type_script_setup_true_lang-CDn-XhGN.js";import{_ as k}from"./page.vue_vue_type_script_setup_true_lang-CorCHwzl.js";import{V,k as $,Z as w,_ as D,$ as p,x as u,U as r,a5 as F,a6 as B}from"../jse/index-index-DpiZBZ8E.js";import{u as U}from"./use-modal-cKW3u1UH.js";import"./index-CCviRy07.js";import"./form-Cza2qOOy.js";import"./use-vben-form-BpU-Ov5A.js";import"./render-content.vue_vue_type_script_lang-BnMYg2_n.js";import"./index-Bj5LX5qN.js";import"./index-m0N9Py6F.js";import"./index-C25cw5rK.js";import"./common-Bjr5QI1d.js";const K=V({name:"MenuManagement",__name:"index",setup(f){const[m,t]=U({connectedComponent:M}),c={columns:[...b.columns,{title:i("common.action"),fixed:"right",field:"action",slots:{default:({row:e})=>$(x,{actions:[{type:"link",size:"small",icon:"clarity:note-edit-line",tooltip:i("common.edit"),onClick:l.bind(null,e)},{icon:"ant-design:delete-outlined",type:"link",color:"error",tooltip:i("common.delete"),popConfirm:{title:i("common.deleteConfirm"),placement:"left",confirm:n.bind(null,[e.id])}}]})}}],height:"auto",keepSource:!0,pagerConfig:{enabled:!1},proxyConfig:{ajax:{query:e=>d(this,null,function*(){return(yield y()).data})}},treeConfig:{transform:!0,parentField:"parentId",rowField:"id"}},[s,a]=h({gridOptions:c});function l(e){C(e)?t.setData({record:e,isUpdate:!0,gridApi:a}):t.setData({record:null,isUpdate:!1,gridApi:a}),t.open()}function n(e){return d(this,null,function*(){(yield _({id:e[0]})).code===0&&(yield a.reload())})}return(e,o)=>(D(),w(r(k),{"auto-content-height":""},{default:p(()=>[u(r(m)),u(r(s),null,{"toolbar-tools":p(()=>[u(r(g),{type:"primary",onClick:l},{default:p(()=>[F(B(r(i)("sys.menu.addMenu")),1)]),_:1})]),_:1})]),_:1}))}});export{K as default};
